<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 2026-02-27 vie 08:17 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Apuntes de Recuperación de Información Web</title>
<meta name="author" content="Eduardo Alcaraz" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/readtheorg.css"/>
<script type="text/javascript" src="src/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="src/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="src/readtheorg_theme/js/readtheorg.js"></script>
<style> #content{max-width:1800px;}</style>
<style>pre.src {background-color: #303030; color: #e5e5e5;}</style>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Apuntes de Recuperación de Información Web</h1>
<div id="table-of-contents" role="doc-toc">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgd523503">Instalación de requerimientos</a>
<ul>
<li><a href="#org179c05a">Verificación de Python</a></li>
<li><a href="#org194bfdb">Creación del entorno virtual</a></li>
<li><a href="#orgebc7a02">Activación del entorno virtual</a>
<ul>
<li><a href="#orgb810c57">GNU/Linux y macOS</a></li>
<li><a href="#org72397e3">Windows – Símbolo del sistema (CMD)</a></li>
<li><a href="#orgcb44fd6">Windows – PowerShell</a></li>
<li><a href="#org565a295">Windows – Git Bash</a></li>
</ul>
</li>
<li><a href="#org6cec2e1">Actualización del gestor de paquetes</a></li>
<li><a href="#org7320162">Instalación de dependencias</a></li>
<li><a href="#org18791cc">Verificación de la instalación</a></li>
<li><a href="#org4830a43">Desactivación del entorno virtual</a></li>
</ul>
</li>
<li><a href="#orgd09d114">Manual de Entornos Virtuales en Python</a>
<ul>
<li><a href="#org7b1459c">Introducción</a></li>
<li><a href="#org4ecde37">Flujo de Trabajo Básico</a>
<ul>
<li><a href="#org1990080">1. Creación del entorno</a></li>
<li><a href="#org94f802d">2. Activación</a></li>
</ul>
</li>
<li><a href="#org9ce5797">Gestión de paquetes</a></li>
<li><a href="#org9512f52">El archivo de Requerimientos</a></li>
<li><a href="#orgd60efc3">Exportar dependencias</a></li>
<li><a href="#org859ebe0">Instalar desde el archivo</a></li>
<li><a href="#org75378a6">Tips de Limpieza</a></li>
<li><a href="#orge349e34">Entornos Virtuales Python (Edición Windows)</a></li>
<li><a href="#org52bd8af">Requisitos Previos</a></li>
<li><a href="#org888acb5">Flujo de Trabajo en Windows</a>
<ul>
<li><a href="#orgdd1bd8c">1. Crear el Entorno Virtual</a></li>
<li><a href="#orgb4a5f5c">2. El Paso Crítico: La Activación</a></li>
<li><a href="#orga8637bf">3. Confirmación</a></li>
</ul>
</li>
<li><a href="#orgbfa644d">Gestión de Librerías con PIP</a>
<ul>
<li><a href="#orgf635eb3">Instalación de paquetes</a></li>
<li><a href="#org0d52484">Congelar dependencias (Compartir proyecto)</a></li>
<li><a href="#orgda2a58d">Instalar desde un archivo recibido</a></li>
</ul>
</li>
<li><a href="#orgd99ac6b">Uso de Entornos en Emacs (Windows)</a>
<ul>
<li><a href="#org79793bf">Instalación del paquete pyvenv</a></li>
<li><a href="#org23807ff">Cómo activarlo dentro de Emacs</a></li>
</ul>
</li>
<li><a href="#org2fe74a2">Solución de Problemas Comunes en Windows</a></li>
<li><a href="#orgc67d71c">Desactivación y Limpieza</a></li>
<li><a href="#org996fad3">Agregar a jupyter notebook</a></li>
</ul>
</li>
<li><a href="#org402f2c6">Sistemas de recuperación de información</a>
<ul>
<li><a href="#orgde402e2">Introducción a los sistemas de recuperación de información (IRS)</a>
<ul>
<li><a href="#orgecea02a">Definición y alcance</a></li>
<li><a href="#orgb0adfb2">Objetivo fundamental</a></li>
<li><a href="#orgeb60e8a">Componentes típicos de un IRS</a></li>
<li><a href="#org8ec97a0">Aplicaciones</a></li>
<li><a href="#org7fb9912">Ejemplo de flujo completo en un IRS</a></li>
</ul>
</li>
<li><a href="#org7203c89">Interfaces de usuario para búsqueda</a>
<ul>
<li><a href="#orgad48bdf">Funciones de la interfaz</a></li>
<li><a href="#org95cd0c6">Tipos de interfaces</a></li>
<li><a href="#org5b0b4d4">Elementos de presentación de resultados</a></li>
<li><a href="#org7e0cd88">Usabilidad y experiencia de usuario</a></li>
</ul>
</li>
<li><a href="#org975283b">Modelos de recuperación de información</a>
<ul>
<li><a href="#org0871722">Modelo booleano</a></li>
<li><a href="#org3d15b57">Modelo vectorial</a></li>
<li><a href="#org96fc0ca">TF-IDF (Term Frequency - Inverse Document Frequency)</a></li>
<li><a href="#orgfbb7a9e">Modelo probabilístico (BM25, etc.)</a></li>
<li><a href="#org76f9bd0">Modelos basados en lenguaje (Language Models)</a></li>
<li><a href="#orgc4f0c0f">Resumen comparativo</a></li>
</ul>
</li>
<li><a href="#org8e7b58c">Evaluación de la recuperación</a>
<ul>
<li><a href="#orgd69f9ad">Conjuntos de prueba (test collections)</a></li>
<li><a href="#orgd32014e">Métricas principales</a></li>
<li><a href="#orgd2d319a">Evaluación con usuarios</a></li>
<li><a href="#orgc8fdf4a">Trade-off precisión vs. recall</a></li>
</ul>
</li>
<li><a href="#org4d32639">Referencias</a></li>
</ul>
</li>
<li><a href="#orgefc0041">Ejemplos IRS — Recuperación de información con feeds RSS</a>
<ul>
<li><a href="#org8687919">Un buscador introductorio con feeds RSS</a>
<ul>
<li><a href="#org39e0801">Hacks de búsqueda: encontrar páginas y URLs de feeds RSS</a></li>
<li><a href="#org96a191c">Consultas de ejemplo para probar en el buscador</a></li>
</ul>
</li>
<li><a href="#orgfcb0a2b">Extraer datos de un feed RSS y guardarlos</a></li>
<li><a href="#org3fe8111">Limpieza de texto (normalización para el IRS)</a></li>
<li><a href="#org2b21208">Modelo booleano: búsqueda por palabras clave</a></li>
<li><a href="#org04750e0">Ranking simple (modelo tipo vectorial)</a></li>
<li><a href="#org4c2feff">Interfaz de resultados</a></li>
<li><a href="#org8c2f15d">Pipeline completo del IRS con RSS</a>
<ul>
<li><a href="#orgd26a525">Relación IRS ↔ feeds RSS en el pipeline</a></li>
<li><a href="#orgf641d4a">Explicación del código</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgfda0682">Introducción a XPath</a>
<ul>
<li><a href="#org240b2b9">¿Para qué sirve?</a></li>
<li><a href="#org7c1458c">Documento de ejemplo</a></li>
<li><a href="#org806fd84">Sintaxis básica</a>
<ul>
<li><a href="#org768e5a0">Rutas absolutas y relativas</a></li>
<li><a href="#orgce48dd4">Seleccionar por etiqueta</a></li>
</ul>
</li>
<li><a href="#org4531f8f">Predicados</a>
<ul>
<li><a href="#org7d4399e">Por posición</a></li>
<li><a href="#org59d6600">Por atributo</a></li>
<li><a href="#org657cfb9">Por contenido de texto</a></li>
</ul>
</li>
<li><a href="#orgd15547b">Ejes</a>
<ul>
<li><a href="#org6491b0a">Ejes más usados</a></li>
<li><a href="#org987e0d8">Ejemplos con ejes</a></li>
</ul>
</li>
<li><a href="#org27d6516">Funciones útiles</a>
<ul>
<li><a href="#org9bf5fa5">Funciones de texto</a></li>
<li><a href="#org7b8951a">Funciones numéricas</a></li>
<li><a href="#orgdcb6761">Funciones de tipo</a></li>
</ul>
</li>
<li><a href="#org61cb073">Operadores y combinaciones</a>
<ul>
<li><a href="#org8dfdf21">Operadores lógicos</a></li>
<li><a href="#org9506838">Unión de conjuntos (|)</a></li>
<li><a href="#org8c9fd4d">Operadores de comparación</a></li>
</ul>
</li>
<li><a href="#org0a1c140">XPath en HTML (scraping)</a>
<ul>
<li><a href="#orged6cc9e">XPath útiles para HTML común</a></li>
</ul>
</li>
<li><a href="#orgfc1e37b">XPath en Python (lxml)</a>
<ul>
<li><a href="#orgd1d84fb">Cargar XML desde archivo</a></li>
<li><a href="#orga3947d7">Ejecutar XPath</a></li>
<li><a href="#orgd1ef6a6">Namespaces (XML con prefijos)</a></li>
</ul>
</li>
<li><a href="#orgaff1a85">Ejercicios prácticos</a></li>
<li><a href="#orgc98102b">Referencia rápida</a></li>
<li><a href="#org2ab82b6">Dependencias</a></li>
</ul>
</li>
<li><a href="#org8d25e84">Ruta Crítica del Web Scraping y Aspectos de Seguridad</a>
<ul>
<li><a href="#orgefb6d87">Introducción</a></li>
<li><a href="#org2fe922c">La ruta crítica: fases del proyecto de scraping</a>
<ul>
<li><a href="#org39cc728">Diagrama de flujo general</a></li>
</ul>
</li>
<li><a href="#org22004b1">Fase 1: Legalidad y ética (puerta de entrada)</a>
<ul>
<li><a href="#orge6f3b32">Antes de escribir código</a></li>
<li><a href="#orgd6d8093">Ejemplo de robots.txt</a></li>
<li><a href="#orged2329e">Consecuencias de omitir esta fase</a></li>
</ul>
</li>
<li><a href="#orgc820c01">Fase 2: Buscar alternativas al scraping</a>
<ul>
<li><a href="#orge169801">Jerarquía de preferencia (orden recomendado)</a></li>
<li><a href="#orgcc4823e">Antes de scrapear, preguntar</a></li>
<li><a href="#org1b84602">Motivos para preferir alternativas</a></li>
</ul>
</li>
<li><a href="#orgd765595">Fase 3: Planificación</a>
<ul>
<li><a href="#orgb7569bf">Definir alcance</a></li>
<li><a href="#orgffc4633">Estimar carga al servidor</a></li>
</ul>
</li>
<li><a href="#orgd6a6d15">Fase 4: Análisis técnico</a>
<ul>
<li><a href="#orgba0cbde">Inspeccionar el sitio</a></li>
<li><a href="#orgc2f5da0">Contenido estático vs. dinámico</a></li>
<li><a href="#org51cc6c2">Mapear la estructura</a></li>
<li><a href="#org29049ac">Detectando JSON oculto (Network)</a></li>
</ul>
</li>
<li><a href="#org00d2745">Fase 5: Desarrollo</a>
<ul>
<li><a href="#org1d41965">Estructura recomendada del código</a></li>
<li><a href="#org5b5c681">Manejo de errores</a></li>
</ul>
</li>
<li><a href="#org22c26c1">Fase 6: Seguridad y robustez</a>
<ul>
<li><a href="#org67106a0">Seguridad de las peticiones</a></li>
<li><a href="#org3ff83ee">Seguridad de los datos extraídos</a></li>
<li><a href="#orgd5ee0b4">Protección del sitio objetivo (ética técnica)</a></li>
<li><a href="#org661561c">Proxies y escalado (consideraciones)</a></li>
</ul>
</li>
<li><a href="#org6752f05">Fase 7: Ejecución y mantenimiento</a>
<ul>
<li><a href="#orge4d2f72">Logging</a></li>
<li><a href="#orgca95ac2">Monitoreo básico</a></li>
<li><a href="#org2a47746">Adaptación a cambios</a></li>
</ul>
</li>
<li><a href="#org8dce76e">Checklist de seguridad resumido</a></li>
<li><a href="#org5cdac06">Riesgos y mitigaciones</a></li>
<li><a href="#org2ec93a7">Referencias</a></li>
</ul>
</li>
<li><a href="#org7b08533">Web Scraping con XPath para Blogs Estáticos</a>
<ul>
<li><a href="#org3508715">Introducción</a>
<ul>
<li><a href="#org6ceeff7">Prerrequisitos</a></li>
</ul>
</li>
<li><a href="#orgbe485ad">Blogs estáticos vs. sitios dinámicos</a>
<ul>
<li><a href="#orgc4366b4">¿Qué es un blog estático?</a></li>
<li><a href="#orgda87154">¿Por qué son adecuados para scraping?</a></li>
</ul>
</li>
<li><a href="#orgedfe988">Técnicas de scraping para blogs con XPath</a>
<ul>
<li><a href="#orgef3a33e">Paso 1: Inspeccionar la estructura HTML</a></li>
<li><a href="#orgbcd41e8">Paso 2: Obtener el HTML</a></li>
<li><a href="#orgc4f21db">Paso 3: Parsear y aplicar XPath</a></li>
<li><a href="#orgff6a560">Paso 4: Extraer todos los artículos de una página</a></li>
<li><a href="#org4a80e69">Paso 5: Paginación</a></li>
<li><a href="#orgbe6d11f">XPath útiles para blogs (resumen)</a></li>
</ul>
</li>
<li><a href="#org356e238">Consideraciones éticas y legales</a>
<ul>
<li><a href="#org715e99e">Buenas prácticas</a></li>
<li><a href="#org936ce75">Cuándo es más aceptable</a></li>
</ul>
</li>
<li><a href="#org0558cc7">Por qué NO es adecuado hacer scraping en Amazon (y similares)</a>
<ul>
<li><a href="#org652a984">1. Términos de uso y condiciones</a></li>
<li><a href="#orgadc97e4">2. Contenido dinámico (JavaScript)</a></li>
<li><a href="#org49295fd">3. Medidas anti-bot</a></li>
<li><a href="#org1b2025c">4. Estructura cambiante</a></li>
<li><a href="#org990fc2f">5. Alternativas legales y recomendadas</a></li>
<li><a href="#org477b11a">Resumen: Amazon vs. blog estático</a></li>
</ul>
</li>
<li><a href="#orge24ff2a">Ejemplo completo: scraper para un blog estático</a></li>
<li><a href="#org8b36680">Dependencias</a></li>
<li><a href="#org82da00f">Referencias</a></li>
</ul>
</li>
<li><a href="#org486a6c5">Fuentes de Datos Gubernamentales y Abiertos: INEGI, datos.gob.mx y más</a>
<ul>
<li><a href="#orge9a8870">Introducción</a></li>
<li><a href="#org71a658f">INEGI (México)</a>
<ul>
<li><a href="#org8fccfea">Qué es INEGI</a></li>
<li><a href="#org3fa4889">API del Banco de Indicadores</a></li>
<li><a href="#org879c390">API DENUE (Directorio Estadístico Nacional de Unidades Económicas)</a></li>
<li><a href="#orgb42417e">Datos Abiertos INEGI</a></li>
<li><a href="#org78848db">Descarga Masiva INEGI</a></li>
<li><a href="#org22a09a0">Librería inegipy (Python)</a></li>
</ul>
</li>
<li><a href="#orgf4556f0">datos.gob.mx (Plataforma Nacional de Datos Abiertos)</a>
<ul>
<li><a href="#orgd82f08b">Qué es datos.gob.mx</a></li>
<li><a href="#org0904ab3">API CKAN</a></li>
<li><a href="#org56e5165">Descarga directa de archivos</a></li>
</ul>
</li>
<li><a href="#orge067ff3">Otras fuentes gubernamentales de datos abiertos</a>
<ul>
<li><a href="#org773edeb">México</a></li>
<li><a href="#orgbc164a0">España</a></li>
<li><a href="#org693e67d">Internacional</a></li>
</ul>
</li>
<li><a href="#org1933e6a">Cuándo usar cada método</a></li>
<li><a href="#org46794c2">Buenas prácticas</a></li>
<li><a href="#org6054ddf">Ejemplo completo: indicador INEGI + guardar CSV</a></li>
<li><a href="#orgacd796b">Resumen de enlaces</a></li>
<li><a href="#orgfa2a964">Dependencias</a></li>
</ul>
</li>
<li><a href="#org37a202c">Actividades Introductorias - Recuperación de la Información</a>
<ul>
<li><a href="#orgfe465af">Introducción</a></li>
<li><a href="#org2135cde">1. Inteligencia Artificial en la vida diaria</a>
<ul>
<li><a href="#org72e9b3b">1.1 Uso de la IA en la educación y el aprendizaje</a></li>
<li><a href="#org059c41a">1.2 IA generativa y creación de contenido</a></li>
<li><a href="#orgf98048e">1.3 Impacto de la IA en el empleo joven</a></li>
<li><a href="#org43fb26a">1.4 Ética, privacidad y regulación</a></li>
<li><a href="#orgb95f5c8">1.5 Herramientas de IA cotidianas</a></li>
</ul>
</li>
<li><a href="#org7e69925">2. Salud mental y bienestar en jóvenes</a>
<ul>
<li><a href="#org4e8bea2">2.1 Ansiedad y estrés académico</a></li>
<li><a href="#orgd42021b">2.2 Influencia de redes sociales</a></li>
<li><a href="#org7349c9c">2.3 Estrategias de autocuidado</a></li>
<li><a href="#org25311f3">2.4 Salud mental universitaria</a></li>
<li><a href="#org3971b98">2.5 Programas y políticas públicas</a></li>
</ul>
</li>
<li><a href="#orgb08293a">3. Algoritmos, poder y sociedad digital</a>
<ul>
<li><a href="#org69a50f9">3.1 Algoritmos de recomendación</a></li>
<li><a href="#org01c1b68">3.2 Economía de la atención</a></li>
<li><a href="#orgd6e337f">3.3 Vigilancia y privacidad</a></li>
<li><a href="#orgca0f356">3.4 Plataformas digitales y control de la información</a></li>
<li><a href="#org3c1a6d7">3.5 Desinformación y fake news</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org18aabb4">La Ventana de Overton</a>
<ul>
<li><a href="#orgb3d9042">Caso de Estudio: "La legalización de la carne humana"</a></li>
</ul>
</li>
<li><a href="#orgf4a5365">Ejercicios: La Ventana de Overton</a>
<ul>
<li><a href="#orge6aa5c3">Introducción al Análisis de Desplazamiento de Opinión</a></li>
<li><a href="#orgcf15b19">Casos de Estudio para Investigación Forense Digital</a>
<ul>
<li><a href="#org4daad8b">1. Implementación de Ciudades de 15 Minutos y Restricción de Movimiento</a></li>
<li><a href="#orgd7f013b">2. El Crédito Social Obligatorio para Acceso a Internet</a></li>
<li><a href="#org0e55a3f">3. Sustitución de Proteína Animal por Invertebrados en Comedores Escolares</a></li>
<li><a href="#org48dd8b1">4. Identidad Digital de Recién Nacidos mediante Escaneo de Iris</a></li>
<li><a href="#org8634b14">5. Impuesto Global al Carbono Individual (Monedero de CO2)</a></li>
<li><a href="#org7ce395e">6. Legalización de la "Eutanasia por Cansancio Vital" en Menores</a></li>
<li><a href="#org250eb8a">7. Sensores de "Ruido Social" en Hogares Inteligentes</a></li>
<li><a href="#org89b565e">8. La Prohibición de la Propiedad Privada de Vehículos para 2030</a></li>
<li><a href="#org79bd0ae">9. Uso de IA para la Reescritura de Textos Históricos en Tiempo Real</a></li>
<li><a href="#org874865a">10. Geoingeniería: El Bloqueo Solar mediante Aerosoles de Azufre</a></li>
</ul>
</li>
<li><a href="#org3eb8e58">Guía de Recuperación para el Alumno</a></li>
</ul>
</li>
<li><a href="#org1080b82">Similitud de coseno y TF‑IDF en Python</a>
<ul>
<li><a href="#org992718e">1. Representar textos como vectores</a></li>
<li><a href="#orgb672ed1">2. TF (Term Frequency)</a></li>
<li><a href="#orge06b297">3. IDF (Inverse Document Frequency)</a></li>
<li><a href="#org5ec07fa">4. TF‑IDF</a>
<ul>
<li><a href="#org86316d0">4.1. TF: qué tanto se repite una palabra en un documento</a></li>
<li><a href="#org5faa5a8">4.2. El problema de las palabras que no dicen nada</a></li>
<li><a href="#org7786343">4.3. IDF: qué tan rara es una palabra en toda la colección</a></li>
<li><a href="#orgaf893a4">4.4. TF‑IDF: combinar las dos ideas</a></li>
<li><a href="#org4979827">4n.5. ¿Para qué sirve en la práctica?</a></li>
</ul>
</li>
<li><a href="#org2b8d178">5. Similitud de coseno</a></li>
<li><a href="#org6d42d29">6. Ejemplo en Python: cargar varios .txt, calcular TF‑IDF y similitud de coseno</a>
<ul>
<li><a href="#org40b2d4c">6.1. Requisitos</a></li>
<li><a href="#org463a654">6.2. Código básico</a></li>
</ul>
</li>
<li><a href="#orge3b72a0">7. Similitud de coseno “a mano” (opcional)</a></li>
<li><a href="#orgb12e1ef">8. Caso de uso típico: búsqueda de documentos similares</a></li>
<li><a href="#org0d1c175">10. ¿Dónde se usa TF‑IDF y la similitud de coseno?</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgd523503" class="outline-2">
<h2 id="orgd523503">Instalación de requerimientos</h2>
<div class="outline-text-2" id="text-orgd523503">
</div>
<div id="outline-container-org179c05a" class="outline-3">
<h3 id="org179c05a">Verificación de Python</h3>
<div class="outline-text-3" id="text-org179c05a">
<p>
Antes de instalar las dependencias, verifique que el sistema cuente con Python
versión 3.9 o superior.
</p>

<div class="org-src-container">
<pre class="src src-bash">python --version
</pre>
</div>

<p>
En caso de que el comando anterior no esté disponible, intente:
</p>

<div class="org-src-container">
<pre class="src src-bash">python3 --version
</pre>
</div>
</div>
</div>
<div id="outline-container-org194bfdb" class="outline-3">
<h3 id="org194bfdb">Creación del entorno virtual</h3>
<div class="outline-text-3" id="text-org194bfdb">
<p>
Se recomienda crear un entorno virtual para aislar las dependencias del proyecto
y evitar conflictos entre versiones de librerías.
</p>

<div class="org-src-container">
<pre class="src src-bash">python -m venv mlp_env
</pre>
</div>
</div>
</div>
<div id="outline-container-orgebc7a02" class="outline-3">
<h3 id="orgebc7a02">Activación del entorno virtual</h3>
<div class="outline-text-3" id="text-orgebc7a02">
<p>
La activación del entorno virtual depende del sistema operativo y del intérprete
de comandos utilizado.
</p>
</div>
<div id="outline-container-orgb810c57" class="outline-4">
<h4 id="orgb810c57">GNU/Linux y macOS</h4>
<div class="outline-text-4" id="text-orgb810c57">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #fe8019;">source</span> mlp_env/bin/activate
</pre>
</div>
</div>
</div>
<div id="outline-container-org72397e3" class="outline-4">
<h4 id="org72397e3">Windows – Símbolo del sistema (CMD)</h4>
<div class="outline-text-4" id="text-org72397e3">
<p>
Si se utiliza el <b>Símbolo del sistema</b> (cmd.exe), ejecute:
</p>

<div class="org-src-container">
<pre class="src src-bat">mlp_env\Scripts\activate.bat
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcb44fd6" class="outline-4">
<h4 id="orgcb44fd6">Windows – PowerShell</h4>
<div class="outline-text-4" id="text-orgcb44fd6">
<p>
Si se utiliza <b>Windows PowerShell</b>, ejecute:
</p>

<div class="org-src-container">
<pre class="src src-powershell">mlp_env\Scripts\Activate.ps1
</pre>
</div>

<p>
En caso de que la ejecución de scripts esté deshabilitada, habilítela
temporalmente con:
</p>

<div class="org-src-container">
<pre class="src src-powershell">Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process
</pre>
</div>

<p>
Posteriormente, vuelva a ejecutar el comando de activación.
</p>
</div>
</div>
<div id="outline-container-org565a295" class="outline-4">
<h4 id="org565a295">Windows – Git Bash</h4>
<div class="outline-text-4" id="text-org565a295">
<p>
Si se utiliza <b>Git Bash</b>, ejecute:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #fe8019;">source</span> mlp_env/Scripts/activate
</pre>
</div>

<p>
Una vez activado el entorno virtual, el nombre del entorno aparecerá entre
paréntesis al inicio de la línea de comandos.
</p>
</div>
</div>
</div>
<div id="outline-container-org6cec2e1" class="outline-3">
<h3 id="org6cec2e1">Actualización del gestor de paquetes</h3>
<div class="outline-text-3" id="text-org6cec2e1">
<p>
Antes de instalar las librerías, se recomienda actualizar el gestor de paquetes
<code>pip</code>.
</p>

<div class="org-src-container">
<pre class="src src-bash">pip install --upgrade pip
</pre>
</div>
</div>
</div>
<div id="outline-container-org7320162" class="outline-3">
<h3 id="org7320162">Instalación de dependencias</h3>
<div class="outline-text-3" id="text-org7320162">
<p>
Ejecute el siguiente comando para instalar los requerimientos del módulo
Perceptrón Multicapa <b>feedforward</b>.
</p>

<div class="org-src-container">
<pre class="src src-bash">pip install numpy matplotlib scikit-learn feedparser
</pre>
</div>
</div>
</div>
<div id="outline-container-org18791cc" class="outline-3">
<h3 id="org18791cc">Verificación de la instalación</h3>
<div class="outline-text-3" id="text-org18791cc">
<p>
Para verificar que las dependencias se instalaron correctamente, ejecute Python
en modo interactivo:
</p>

<div class="org-src-container">
<pre class="src src-bash">python
</pre>
</div>

<p>
Posteriormente, importe las librerías:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> numpy
<span style="color: #fb4934;">import</span> matplotlib
<span style="color: #fb4934;">import</span> sklearn
<span style="color: #fb4934;">import</span> feedparser
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Instalaci&#243;n de requerimientos completada correctamente"</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4830a43" class="outline-3">
<h3 id="org4830a43">Desactivación del entorno virtual</h3>
<div class="outline-text-3" id="text-org4830a43">
<p>
Una vez finalizado el trabajo, el entorno virtual puede desactivarse con el
siguiente comando:
</p>

<div class="org-src-container">
<pre class="src src-bash">deactivate
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd09d114" class="outline-2">
<h2 id="orgd09d114">Manual de Entornos Virtuales en Python</h2>
<div class="outline-text-2" id="text-orgd09d114">
</div>
<div id="outline-container-org7b1459c" class="outline-3">
<h3 id="org7b1459c">Introducción</h3>
<div class="outline-text-3" id="text-org7b1459c">
<p>
El uso de entornos virtuales es esencial para mantener las
dependencias de tus proyectos aisladas. En este manual aprenderás a
gestionarlos usando el módulo estándar <code>venv</code>.
</p>
</div>
</div>
<div id="outline-container-org4ecde37" class="outline-3">
<h3 id="org4ecde37">Flujo de Trabajo Básico</h3>
<div class="outline-text-3" id="text-org4ecde37">
</div>
<div id="outline-container-org1990080" class="outline-4">
<h4 id="org1990080">1. Creación del entorno</h4>
<div class="outline-text-4" id="text-org1990080">
<p>
Para crear un entorno virtual, navega a la raíz de tu proyecto en la terminal (o dentro de un buffer de Emacs con <code>M-x shell</code>) y ejecuta:
</p>

<div class="org-src-container">
<pre class="src src-bash">python -m venv .venv
</pre>
</div>

<p>
<b>Nota:</b> El nombre <code>.venv</code> es una convención que hace que el directorio sea oculto en sistemas Unix.
</p>
</div>
</div>
<div id="outline-container-org94f802d" class="outline-4">
<h4 id="org94f802d">2. Activación</h4>
<div class="outline-text-4" id="text-org94f802d">
<p>
La activación depende de tu sistema operativo:
</p>
</div>
<ul class="org-ul">
<li><a id="orgfc5d94c"></a>En Windows (PowerShell)<br />
<div class="outline-text-5" id="text-orgfc5d94c">
<div class="org-src-container">
<pre class="src src-powershell">.\.venv\Scripts\Activate.ps1
</pre>
</div>
</div>
</li>
<li><a id="org03b1997"></a>En macOS / Linux<br />
<div class="outline-text-5" id="text-org03b1997">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #fe8019;">source</span> .venv/bin/activate
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-org9ce5797" class="outline-3">
<h3 id="org9ce5797">Gestión de paquetes</h3>
<div class="outline-text-3" id="text-org9ce5797">
<p>
Una vez activado (verás el prefijo <code>(.venv)</code> en tu prompt), puedes instalar librerías:
</p>

<div class="org-src-container">
<pre class="src src-bash">pip install requests pandas
</pre>
</div>
</div>
</div>
<div id="outline-container-org9512f52" class="outline-3">
<h3 id="org9512f52">El archivo de Requerimientos</h3>
<div class="outline-text-3" id="text-org9512f52">
<p>
Es fundamental para la reproducibilidad del proyecto.
</p>
</div>
</div>
<div id="outline-container-orgd60efc3" class="outline-3">
<h3 id="orgd60efc3">Exportar dependencias</h3>
<div class="outline-text-3" id="text-orgd60efc3">
<div class="org-src-container">
<pre class="src src-bash">pip freeze &gt; requirements.txt
</pre>
</div>
</div>
</div>
<div id="outline-container-org859ebe0" class="outline-3">
<h3 id="org859ebe0">Instalar desde el archivo</h3>
<div class="outline-text-3" id="text-org859ebe0">
<div class="org-src-container">
<pre class="src src-bash">pip install -r requirements.txt
</pre>
</div>
</div>
</div>
<div id="outline-container-org75378a6" class="outline-3">
<h3 id="org75378a6">Tips de Limpieza</h3>
<div class="outline-text-3" id="text-org75378a6">
<p>
Para salir del entorno virtual:
</p>
<div class="org-src-container">
<pre class="src src-bash">deactivate
</pre>
</div>

<p>
Para borrar el entorno, simplemente elimina la carpeta:
</p>
<div class="org-src-container">
<pre class="src src-bash">rm -rf .venv  <span style="color: #928374;"># </span><span style="color: #928374;">En Linux/macOS
</span>rmdir /s /q .venv  <span style="color: #928374;"># </span><span style="color: #928374;">En Windows</span>
</pre>
</div>

<p>
&#x2014;
</p>
<blockquote>
<p>
"Keep your global Python clean, keep your projects isolated."
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orge349e34" class="outline-3">
<h3 id="orge349e34">Entornos Virtuales Python (Edición Windows)</h3>
</div>

<div id="outline-container-org52bd8af" class="outline-3">
<h3 id="org52bd8af">Requisitos Previos</h3>
<div class="outline-text-3" id="text-org52bd8af">
<ol class="org-ol">
<li>Tener instalado Python (descargado de <a href="https://www.python.org/">python.org</a> o la Microsoft Store).</li>
<li>Durante la instalación, asegúrate de marcar la casilla: <b><b>"Add Python to PATH"</b></b>.</li>
</ol>
</div>
</div>
<div id="outline-container-org888acb5" class="outline-3">
<h3 id="org888acb5">Flujo de Trabajo en Windows</h3>
<div class="outline-text-3" id="text-org888acb5">
</div>
<div id="outline-container-orgdd1bd8c" class="outline-4">
<h4 id="orgdd1bd8c">1. Crear el Entorno Virtual</h4>
<div class="outline-text-4" id="text-orgdd1bd8c">
<p>
Abre tu terminal (PowerShell o CMD) en la carpeta de tu proyecto. El comando es el mismo para ambos:
</p>

<div class="org-src-container">
<pre class="src src-powershell">python -m venv venv
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb4a5f5c" class="outline-4">
<h4 id="orgb4a5f5c">2. El Paso Crítico: La Activación</h4>
<div class="outline-text-4" id="text-orgb4a5f5c">
<p>
En Windows, la activación depende de qué terminal estés usando.
</p>
</div>
<ul class="org-ul">
<li><a id="orgfbb79b8"></a>Opción A: PowerShell (Recomendado)<br />
<div class="outline-text-5" id="text-orgfbb79b8">
<p>
Si es la primera vez que usas scripts en Windows, podrías recibir un error de seguridad. Primero, ejecuta esto como administrador (solo una vez):
</p>
<div class="org-src-container">
<pre class="src src-powershell">Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
</pre>
</div>

<p>
Luego, para activar el entorno:
</p>
<div class="org-src-container">
<pre class="src src-powershell">.\venv\Scripts\Activate.ps1
</pre>
</div>
</div>
</li>
<li><a id="org6d20746"></a>Opción B: Símbolo del Sistema (CMD)<br />
<div class="outline-text-5" id="text-org6d20746">
<div class="org-src-container">
<pre class="src src-cmd">.\venv\Scripts\activate.bat
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-orga8637bf" class="outline-4">
<h4 id="orga8637bf">3. Confirmación</h4>
<div class="outline-text-4" id="text-orga8637bf">
<p>
Sabrás que el entorno está activo porque el nombre <code>(venv)</code> aparecerá a la izquierda de la ruta en tu terminal:
#+example
(venv) C:\Proyectos\MiProyecto&gt;
#+example
</p>
</div>
</div>
</div>
<div id="outline-container-orgbfa644d" class="outline-3">
<h3 id="orgbfa644d">Gestión de Librerías con PIP</h3>
<div class="outline-text-3" id="text-orgbfa644d">
</div>
<div id="outline-container-orgf635eb3" class="outline-4">
<h4 id="orgf635eb3">Instalación de paquetes</h4>
<div class="outline-text-4" id="text-orgf635eb3">
<p>
Una vez activo el entorno, instala lo que necesites:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip install pandas requests openpyxl
</pre>
</div>
</div>
</div>
<div id="outline-container-org0d52484" class="outline-4">
<h4 id="org0d52484">Congelar dependencias (Compartir proyecto)</h4>
<div class="outline-text-4" id="text-org0d52484">
<p>
Para que otros participantes tengan exactamente lo mismo que tú:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip freeze &gt; requirements.txt
</pre>
</div>
</div>
</div>
<div id="outline-container-orgda2a58d" class="outline-4">
<h4 id="orgda2a58d">Instalar desde un archivo recibido</h4>
<div class="outline-text-4" id="text-orgda2a58d">
<p>
Si un compañero te pasa su <code>requirements.txt</code>:
</p>
<div class="org-src-container">
<pre class="src src-powershell">pip install -r requirements.txt
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd99ac6b" class="outline-3">
<h3 id="orgd99ac6b">Uso de Entornos en Emacs (Windows)</h3>
<div class="outline-text-3" id="text-orgd99ac6b">
<p>
Para que Emacs en Windows gestione bien el entorno, añade esto a tu archivo de configuración (<code>init.el</code> o <code>.emacs</code>):
</p>
</div>
<div id="outline-container-org79793bf" class="outline-4">
<h4 id="org79793bf">Instalación del paquete pyvenv</h4>
<div class="outline-text-4" id="text-org79793bf">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #fe8019;">(</span><span style="color: #fb4934;">use-package</span> pyvenv
  <span style="color: #fe8019;">:ensure</span> t
  <span style="color: #fe8019;">:config</span>
  <span style="color: #b16286;">(</span>pyvenv-mode 1<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org23807ff" class="outline-4">
<h4 id="org23807ff">Cómo activarlo dentro de Emacs</h4>
<div class="outline-text-4" id="text-org23807ff">
<ol class="org-ol">
<li>Presiona <code>M-x pyvenv-activate</code>.</li>
<li>Emacs te pedirá la ruta. Navega hasta la carpeta <code>venv</code> de tu proyecto.</li>
<li>Al seleccionarla, Emacs usará ese intérprete de Python para todos los scripts que ejecutes.</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org2fe74a2" class="outline-3">
<h3 id="org2fe74a2">Solución de Problemas Comunes en Windows</h3>
<div class="outline-text-3" id="text-org2fe74a2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Error / Problema</td>
<td class="org-left">Solución</td>
</tr>

<tr>
<td class="org-left">:---</td>
<td class="org-left">:---</td>
</tr>

<tr>
<td class="org-left">"python" no se reconoce</td>
<td class="org-left">Reinstala Python y marca "Add to PATH" o usa el comando `py`.</td>
</tr>

<tr>
<td class="org-left">Error de "Execution Policy"</td>
<td class="org-left">Ejecuta `Set-ExecutionPolicy RemoteSigned -Scope CurrentUser`.</td>
</tr>

<tr>
<td class="org-left">No aparece el (venv)</td>
<td class="org-left">Asegúrate de usar el comando de activación correcto para tu terminal (.ps1 vs .bat).</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgc67d71c" class="outline-3">
<h3 id="orgc67d71c">Desactivación y Limpieza</h3>
<div class="outline-text-3" id="text-orgc67d71c">
<p>
Para salir del entorno:
</p>
<div class="org-src-container">
<pre class="src src-powershell">deactivate
</pre>
</div>

<p>
Si quieres borrar el entorno por completo (para empezar de cero):
</p>
<div class="org-src-container">
<pre class="src src-powershell">rmdir /s /q venv
</pre>
</div>

<p>
&#x2014;
</p>
<div class="IMPORTANT" id="orgf233fa3">
<p>
<b>Recordatorio:</b> Nunca incluyas la carpeta <code>venv</code> en tus archivos compartidos o en tu repositorio de Git. Solo comparte el código y el archivo <code>requirements.txt</code>.
</p>

</div>
</div>
</div>
<div id="outline-container-org996fad3" class="outline-3">
<h3 id="org996fad3">Agregar a jupyter notebook</h3>
<div class="outline-text-3" id="text-org996fad3">
<div class="org-src-container">
<pre class="src src-shell">pip install ipykernel
python -m ipykernel install --user --name=redes --display-name=<span style="color: #b8bb26;">"redes"</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org402f2c6" class="outline-2">
<h2 id="org402f2c6">Sistemas de recuperación de información</h2>
<div class="outline-text-2" id="text-org402f2c6">
</div>
<div id="outline-container-orgde402e2" class="outline-3">
<h3 id="orgde402e2">Introducción a los sistemas de recuperación de información (IRS)</h3>
<div class="outline-text-3" id="text-orgde402e2">
</div>
<div id="outline-container-orgecea02a" class="outline-4">
<h4 id="orgecea02a">Definición y alcance</h4>
<div class="outline-text-4" id="text-orgecea02a">
<p>
Un <b>Sistema de Recuperación de Información</b> (IRS, por sus siglas en inglés
<b>Information Retrieval System</b>) es un sistema software diseñado para almacenar,
representar y recuperar información relevante ante consultas de usuarios.
</p>
</div>
<ul class="org-ul">
<li><a id="org1de84df"></a>Características principales<br />
<div class="outline-text-5" id="text-org1de84df">
<ul class="org-ul">
<li>Almacena grandes volúmenes de documentos (texto, multimedia, metadatos).</li>
<li>Permite consultas en lenguaje natural o estructurado.</li>
<li>Devuelve un <b>ranking</b> o lista ordenada de documentos según relevancia.</li>
<li>La relevancia suele ser subjetiva y dependiente del contexto del usuario.</li>
</ul>
</div>
</li>
<li><a id="orge265020"></a>Ejemplo de necesidad de información<br />
<div class="outline-text-5" id="text-orge265020">
<pre class="example" id="org21f5ca0">
Usuario: "Necesito saber cómo se calcula la precisión en un sistema de búsqueda
para poder comparar dos motores que estamos evaluando en mi empresa."

El IRS no busca la frase exacta "cómo se calcula la precisión"; busca documentos
que traten sobre *evaluación*, *precisión*, *sistemas de búsqueda* y los ordena
según qué tan bien satisfacen esa necesidad.
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgb0adfb2" class="outline-4">
<h4 id="orgb0adfb2">Objetivo fundamental</h4>
<div class="outline-text-4" id="text-orgb0adfb2">
<p>
El objetivo no es devolver <b>todos</b> los documentos que coincidan literalmente con
la consulta, sino aquellos que el usuario consideraría <b>útiles</b> o <b>relevantes</b>
para satisfacer su necesidad de información.
</p>
</div>
<ul class="org-ul">
<li><a id="orgc038af1"></a>Diferencia con bases de datos<br />
<div class="outline-text-5" id="text-orgc038af1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Bases de datos</th>
<th scope="col" class="org-left">Recuperación de información</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Consultas exactas (SQL)</td>
<td class="org-left">Consultas por similitud/relevancia</td>
</tr>

<tr>
<td class="org-left">Coincidencia exacta</td>
<td class="org-left">Ranking y ordenación</td>
</tr>

<tr>
<td class="org-left">Datos estructurados</td>
<td class="org-left">Texto libre, documentos</td>
</tr>

<tr>
<td class="org-left">Respuesta determinista</td>
<td class="org-left">Respuesta aproximada, probabilista</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgeb60e8a" class="outline-4">
<h4 id="orgeb60e8a">Componentes típicos de un IRS</h4>
<div class="outline-text-4" id="text-orgeb60e8a">
<ol class="org-ol">
<li><b>Índice</b> :: Estructura que permite localizar documentos sin escanear todo el corpus.</li>
<li><b>Motor de búsqueda</b> :: Algoritmos que comparan consulta vs. documentos.</li>
<li><b>Modelo de ranking</b> :: Criterio para ordenar resultados (TF-IDF, BM25, etc.).</li>
<li><b>Interfaz de usuario</b> :: Formulario de búsqueda, resultados, filtros.</li>
<li><b>Módulo de evaluación</b> :: Métricas para medir calidad (precisión, recall, etc.).</li>
</ol>
</div>
</div>
<div id="outline-container-org8ec97a0" class="outline-4">
<h4 id="org8ec97a0">Aplicaciones</h4>
<div class="outline-text-4" id="text-org8ec97a0">
<ul class="org-ul">
<li>Motores de búsqueda web (Google, Bing).</li>
<li>Búsqueda en bibliotecas digitales y repositorios.</li>
<li>Búsqueda en correo electrónico y documentos corporativos.</li>
<li>Sistemas de recomendación y búsqueda semántica.</li>
</ul>
</div>
</div>
<div id="outline-container-org7fb9912" class="outline-4">
<h4 id="org7fb9912">Ejemplo de flujo completo en un IRS</h4>
<div class="outline-text-4" id="text-org7fb9912">
</div>
<ul class="org-ul">
<li><a id="org4c4b8b3"></a>Corpus mínimo de ejemplo<br />
<div class="outline-text-5" id="text-org4c4b8b3">
<p>
Se tienen 3 documentos (para ilustrar; en la realidad son millones):
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">ID</th>
<th scope="col" class="org-left">Documento</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">d1</td>
<td class="org-left">"La recuperación de información usa índices para buscar documentos de forma rápida."</td>
</tr>

<tr>
<td class="org-left">d2</td>
<td class="org-left">"Los modelos vectoriales calculan similitud entre consulta y documento."</td>
</tr>

<tr>
<td class="org-left">d3</td>
<td class="org-left">"La evaluación mide precisión y recall del sistema de búsqueda."</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="orge66bcac"></a>Paso 1: Indexación<br />
<div class="outline-text-5" id="text-orge66bcac">
<ul class="org-ul">
<li>Se extraen términos (tras eliminar stopwords y aplicar stemming): <code>recuperación</code>, <code>información</code>, <code>índices</code>, <code>documentos</code>, <code>modelos</code>, <code>vectoriales</code>, <code>similitud</code>, <code>consulta</code>, <code>evaluación</code>, <code>precisión</code>, <code>recall</code>, <code>búsqueda</code>.</li>
<li>Se construye un <b>índice invertido</b>: para cada término, lista de documentos que lo contienen.</li>
<li>Ejemplo: <code>precisión</code> \(\rightarrow\) [d3], <code>documentos</code> \(\rightarrow\) [d1], <code>recuperación</code> \(\rightarrow\) [d1], etc.</li>
</ul>
</div>
</li>
<li><a id="org0edbd9c"></a>Paso 2: Consulta<br />
<div class="outline-text-5" id="text-org0edbd9c">
<ul class="org-ul">
<li>Usuario escribe: "evaluación precisión búsqueda".</li>
</ul>
</div>
</li>
<li><a id="orgc092d0d"></a>Paso 3: Recuperación y ranking<br />
<div class="outline-text-5" id="text-orgc092d0d">
<ul class="org-ul">
<li>El motor obtiene candidatos del índice (p. ej. d3 contiene los tres términos) y aplica el modelo (TF-IDF o BM25) para puntuar cada documento.</li>
<li>Resultado ordenado: d3 (mayor puntuación), y posiblemente d1, d2 si comparten términos.</li>
</ul>
</div>
</li>
<li><a id="org0cf648b"></a>Paso 4: Presentación<br />
<div class="outline-text-5" id="text-org0cf648b">
<ul class="org-ul">
<li>Se muestra al usuario: título/snippet de d3 primero, luego los demás, para que pueda elegir el documento que le resulta relevante.</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-org7203c89" class="outline-3">
<h3 id="org7203c89">Interfaces de usuario para búsqueda</h3>
<div class="outline-text-3" id="text-org7203c89">
</div>
<div id="outline-container-orgad48bdf" class="outline-4">
<h4 id="orgad48bdf">Funciones de la interfaz</h4>
<div class="outline-text-4" id="text-orgad48bdf">
<p>
La interfaz de usuario en un IRS debe permitir:
</p>

<ol class="org-ol">
<li><b>Formular la consulta</b> (caja de búsqueda, operadores, filtros).</li>
<li><b>Ver resultados</b> ordenados y con información suficiente para decidir.</li>
<li><b>Refinar o reformular</b> la consulta (búsqueda iterativa).</li>
<li><b>Acceder al documento</b> completo cuando se considera relevante.</li>
</ol>
</div>
</div>
<div id="outline-container-org95cd0c6" class="outline-4">
<h4 id="org95cd0c6">Tipos de interfaces</h4>
<div class="outline-text-4" id="text-org95cd0c6">
</div>
<ul class="org-ul">
<li><a id="orgf7ccd13"></a>Interfaz de consulta por palabras clave<br />
<div class="outline-text-5" id="text-orgf7ccd13">
<ul class="org-ul">
<li>El usuario escribe términos (palabras clave).</li>
<li>Puede usar operadores: AND, OR, NOT, comillas para frases.</li>
<li>Ejemplo: <code>información AND (recuperación OR búsqueda)</code>.</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="orgb849c31"></a>Ejemplos de consultas booleanas<br />
<div class="outline-text-6" id="text-orgb849c31">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Consulta</th>
<th scope="col" class="org-left">Interpretación</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">recuperación información</td>
<td class="org-left">documentos que contengan ambos términos (AND implícito)</td>
</tr>

<tr>
<td class="org-left">"recuperación de información"</td>
<td class="org-left">documentos con la frase exacta</td>
</tr>

<tr>
<td class="org-left">TF-IDF OR BM25</td>
<td class="org-left">documentos que contengan al menos uno de los dos</td>
</tr>

<tr>
<td class="org-left">evaluación NOT recall</td>
<td class="org-left">documentos sobre evaluación pero sin la palabra recall</td>
</tr>

<tr>
<td class="org-left">(precisión OR recall) AND métricas</td>
<td class="org-left">métricas y además precisión o recall</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</li>
<li><a id="org5559fd8"></a>Interfaz de lenguaje natural<br />
<div class="outline-text-5" id="text-org5559fd8">
<ul class="org-ul">
<li>Consultas en forma de pregunta o frase.</li>
<li>El sistema interpreta la intención (a veces con NLP).</li>
<li>Ejemplo: "¿Cómo se evalúa un sistema de recuperación?"</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="org393f565"></a>Ejemplo<br />
<div class="outline-text-6" id="text-org393f565">
<pre class="example" id="org5415a24">
Usuario escribe: "recetas de pastel de chocolate sin gluten"

El sistema puede extraer: términos clave (recetas, pastel, chocolate, gluten),
negación (sin gluten) y devolver documentos que hablen de pastel de chocolate
y que mencionen "sin gluten" o recetas aptas para celíacos, aunque no aparezca
la frase exacta.
</pre>
</div>
</li>
</ul>
</li>
<li><a id="orgd66ec28"></a>Interfaz con filtros y facetas<br />
<div class="outline-text-5" id="text-orgd66ec28">
<ul class="org-ul">
<li>Filtros por fecha, autor, tipo de documento, idioma.</li>
<li>Facetas: categorías o atributos para restringir resultados.</li>
<li>Muy común en tiendas online y bibliotecas digitales.</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="org9520ad7"></a>Ejemplo (biblioteca digital)<br />
<div class="outline-text-6" id="text-org9520ad7">
<pre class="example" id="orgbb492c4">
Búsqueda: "recuperación de información"
Facetas mostradas al lado:
  Tipo de documento: Libro (120), Artículo (85), Tesis (12)
  Año: 2020-2024 (45), 2015-2019 (98), anterior (74)
  Idioma: Español (150), Inglés (67)

El usuario hace clic en "Artículo" y "2020-2024": la lista de resultados se
restringe a artículos de esos años, sin cambiar la consulta textual.
</pre>
</div>
</li>
</ul>
</li>
<li><a id="org4f1d6eb"></a>Interfaz de búsqueda por ejemplo (Query by Example)<br />
<div class="outline-text-5" id="text-org4f1d6eb">
<ul class="org-ul">
<li>El usuario proporciona un documento o fragmento como "ejemplo" de lo que busca.</li>
<li>El sistema busca documentos similares (búsqueda por similitud).</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="org397b6e1"></a>Ejemplo<br />
<div class="outline-text-6" id="text-org397b6e1">
<pre class="example" id="orgc37f73a">
Usuario pega un párrafo de un artículo que le gustó:
"El modelo vectorial representa documentos como vectores en un espacio de términos.
La similitud coseno mide el ángulo entre el vector de la consulta y el del documento."

El sistema trata ese texto como una "consulta larga" o como documento de referencia,
calcula su vector (o embedding) y busca en el corpus los documentos más similares,
devolviendo por ejemplo artículos sobre modelos vectoriales, TF-IDF y similitud coseno.
</pre>
</div>
</li>
</ul>
</li>
</ul>
</div>
<div id="outline-container-org5b0b4d4" class="outline-4">
<h4 id="org5b0b4d4">Elementos de presentación de resultados</h4>
<div class="outline-text-4" id="text-org5b0b4d4">
</div>
<ul class="org-ul">
<li><a id="org643ad33"></a>Lista de resultados (SERP)<br />
<div class="outline-text-5" id="text-org643ad33">
<ul class="org-ul">
<li>Título, URL, snippet o fragmento del documento.</li>
<li>Destacados (bold) de los términos de la consulta.</li>
<li>Paginación o scroll infinito.</li>
</ul>
</div>
</li>
<li><a id="org7e8126f"></a>Snippets<br />
<div class="outline-text-5" id="text-org7e8126f">
<ul class="org-ul">
<li>Fragmentos cortos del documento donde aparecen los términos.</li>
<li>Ayudan al usuario a juzgar relevancia sin abrir el documento.</li>
</ul>
</div>
</li>
<li><a id="org2c68fc2"></a>Agrupación y clustering<br />
<div class="outline-text-5" id="text-org2c68fc2">
<ul class="org-ul">
<li>Resultados agrupados por sitio, fecha o tema.</li>
<li>Reduce redundancia y facilita la exploración.</li>
</ul>
</div>
</li>
<li><a id="org47bea69"></a>Ejemplo de SERP (página de resultados)<br />
<div class="outline-text-5" id="text-org47bea69">
<pre class="example" id="org235f874">
Consulta: "evaluación recuperación información"

--- Resultado 1 ---
Título: Evaluación de sistemas de recuperación de información - Wikipedia
URL: https://es.wikipedia.org/wiki/...
Snippet: ... La evaluación de la recuperación de información utiliza métricas como
precisión, recall y F1. Se usan colecciones de prueba con juicios de relevancia ...

--- Resultado 2 ---
Título: Precisión y exhaustividad - Recuperación de información
URL: https://...
Snippet: ... Para evaluar un sistema de recuperación se definen la precisión (P) y
la exhaustividad (recall R). La precisión mide cuántos de los recuperados son
relevantes ...

--- Resultado 3 ---
...
</pre>
<p>
Los términos "evaluación", "recuperación", "información" aparecerían resaltados
en negrita en título y snippet para que el usuario juzgue la relevancia de un vistazo.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org7e0cd88" class="outline-4">
<h4 id="org7e0cd88">Usabilidad y experiencia de usuario</h4>
<div class="outline-text-4" id="text-org7e0cd88">
<ul class="org-ul">
<li><b>Tiempo de respuesta</b>: resultados en milisegundos.</li>
<li><b>Claridad</b>: que el usuario entienda por qué aparece cada resultado.</li>
<li><b>Opciones de refinamiento</b>: sugerencias, "personas también buscaron", filtros.</li>
<li><b>Accesibilidad</b>: uso con teclado, lectores de pantalla, diseño responsive.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org975283b" class="outline-3">
<h3 id="org975283b">Modelos de recuperación de información</h3>
<div class="outline-text-3" id="text-org975283b">
<p>
Un <b>modelo de recuperación</b> define cómo se representan documentos y consultas, y
cómo se calcula la relevancia o similitud entre ellos.
</p>
</div>
<div id="outline-container-org0871722" class="outline-4">
<h4 id="org0871722">Modelo booleano</h4>
<div class="outline-text-4" id="text-org0871722">
</div>
<ul class="org-ul">
<li><a id="org20c007f"></a>Idea<br />
<div class="outline-text-5" id="text-org20c007f">
<ul class="org-ul">
<li>Documentos y consultas como conjuntos de términos.</li>
<li>La consulta es una expresión booleana (AND, OR, NOT).</li>
<li>Un documento es "relevante" si satisface la expresión (verdadero/falso).</li>
</ul>
</div>
</li>
<li><a id="org1499714"></a>Limitaciones<br />
<div class="outline-text-5" id="text-org1499714">
<ul class="org-ul">
<li>No hay ranking: todos los documentos que coinciden son iguales.</li>
<li>No captura importancia de términos (frecuencia, rareza).</li>
<li>Demasiado rígido para el usuario promedio.</li>
</ul>
</div>
</li>
<li><a id="org11eef15"></a>Ejemplo numérico (modelo booleano)<br />
<div class="outline-text-5" id="text-org11eef15">
<p>
Corpus de 4 documentos (términos tras stemming):
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Doc</th>
<th scope="col" class="org-left">Términos presentes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">d1</td>
<td class="org-left">recuperación, información, índice, documento</td>
</tr>

<tr>
<td class="org-left">d2</td>
<td class="org-left">modelo, vectorial, similitud, documento</td>
</tr>

<tr>
<td class="org-left">d3</td>
<td class="org-left">evaluación, precisión, recall, búsqueda</td>
</tr>

<tr>
<td class="org-left">d4</td>
<td class="org-left">evaluación, información, índice</td>
</tr>
</tbody>
</table>

<p>
Consultas y resultados:
</p>
<ul class="org-ul">
<li>\(q_1\) = <code>recuperación AND información</code> \(\Rightarrow\) {d1} (solo d1 tiene ambos).</li>
<li>\(q_2\) = <code>evaluación OR precisión</code> \(\Rightarrow\) {d3, d4} (d3 tiene ambos; d4 tiene evaluación).</li>
<li>\(q_3\) = <code>documento NOT vectorial</code> \(\Rightarrow\) {d1} (d1 y d2 tienen "documento"; d2 tiene "vectorial", se excluye; d1 no tiene "vectorial", se incluye).</li>
</ul>

<p>
Todos los documentos devueltos se consideran "iguales"; no hay orden de preferencia.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org3d15b57" class="outline-4">
<h4 id="org3d15b57">Modelo vectorial</h4>
<div class="outline-text-4" id="text-org3d15b57">
</div>
<ul class="org-ul">
<li><a id="org1a5c650"></a>Idea<br />
<div class="outline-text-5" id="text-org1a5c650">
<ul class="org-ul">
<li>Documentos y consultas como vectores en un espacio donde cada dimensión es un término.</li>
<li>Cada componente del vector es un peso (p. ej. TF-IDF).</li>
<li>Similitud = similitud coseno entre vector de consulta y vector del documento.</li>
</ul>
</div>
</li>
<li><a id="org4e4ed58"></a>Fórmula de similitud coseno<br />
<div class="outline-text-5" id="text-org4e4ed58">
<p>
\[
\text{sim}(q, d) = \frac{\vec{q} \cdot \vec{d}}{|\vec{q}| \, |\vec{d}|}
\]
</p>
</div>
</li>
<li><a id="orgec5c38d"></a>Ventajas<br />
<div class="outline-text-5" id="text-orgec5c38d">
<ul class="org-ul">
<li>Permite ranking (ordenar por similitud).</li>
<li>Simple y eficiente.</li>
<li>TF-IDF captura importancia de términos.</li>
</ul>
</div>
</li>
<li><a id="orgddcb556"></a>Ejemplo: espacio de términos<br />
<div class="outline-text-5" id="text-orgddcb556">
<p>
Supongamos vocabulario = {recuperación, información, evaluación}. Cada documento
y la consulta se representan como vectores de 3 dimensiones (pesos TF-IDF):
</p>

<ul class="org-ul">
<li>\(q\) = "recuperación información" \(\rightarrow\) \(\vec{q} = (0.8, 0.7, 0)\)</li>
<li>\(d_1\) = "recuperación de información e información" \(\rightarrow\) \(\vec{d_1} = (0.5, 0.9, 0)\)</li>
<li>\(d_2\) = "evaluación de la recuperación" \(\rightarrow\) \(\vec{d_2} = (0.6, 0, 0.8)\)</li>
</ul>

<p>
Similitud coseno: \(\text{sim}(q,d) = \frac{\vec{q}\cdot\vec{d}}{|\vec{q}||\vec{d}|}\).
</p>
<ul class="org-ul">
<li>\(\vec{q}\cdot\vec{d_1} = 0.8\cdot 0.5 + 0.7\cdot 0.9 = 0.4 + 0.63 = 1.03\) (alto).</li>
<li>\(\vec{q}\cdot\vec{d_2} = 0.8\cdot 0.6 + 0 + 0 = 0.48\) (menor).</li>
</ul>

<p>
Tras normalizar por las normas, \(d_1\) queda por encima de \(d_2\) en el ranking,
que es lo esperado porque \(d_1\) comparte ambos términos de la consulta.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org96fc0ca" class="outline-4">
<h4 id="org96fc0ca">TF-IDF (Term Frequency - Inverse Document Frequency)</h4>
<div class="outline-text-4" id="text-org96fc0ca">
</div>
<ul class="org-ul">
<li><a id="org207afb5"></a>Frecuencia de término (TF)<br />
<div class="outline-text-5" id="text-org207afb5">
<ul class="org-ul">
<li>Cuántas veces aparece el término en el documento.</li>
<li>Variantes: TF bruto, TF logarítmico (suavizado).</li>
</ul>
</div>
</li>
<li><a id="org03023ae"></a>Frecuencia inversa de documento (IDF)<br />
<div class="outline-text-5" id="text-org03023ae">
<ul class="org-ul">
<li>\(\text{IDF}(t) = \log \frac{N}{n_t}\), donde \(N\) = número de documentos, \(n_t\) = documentos que contienen \(t\).</li>
<li>Términos raros (en pocos documentos) tienen mayor IDF.</li>
</ul>
</div>
</li>
<li><a id="orge61f924"></a>Peso TF-IDF<br />
<div class="outline-text-5" id="text-orge61f924">
<p>
\[
w_{t,d} = \text{TF}(t,d) \times \text{IDF}(t)
\]
</p>
</div>
</li>
<li><a id="org16282cd"></a>Ejemplo numérico TF-IDF<br />
<div class="outline-text-5" id="text-org16282cd">
<p>
Corpus: 3 documentos. Término "recuperación":
</p>
<ul class="org-ul">
<li>En d1 aparece 3 veces; en d2 aparece 1 vez; en d3 no aparece.</li>
<li>\(N = 3\), \(n_{\text{recuperación}} = 2\) (está en d1 y d2).</li>
<li>\(\text{IDF}(\text{recuperación}) = \log \frac{3}{2} \approx 0.41\).</li>
</ul>

<p>
Para d1: \(\text{TF} = 3\) (o \(\log(1+3)\) si se suaviza). Peso \(\approx 3 \times 0.41 \approx 1.23\).
Para d2: \(\text{TF} = 1\). Peso \(\approx 1 \times 0.41 \approx 0.41\).
</p>

<p>
El término "recuperación" aporta más peso en d1 que en d2 porque es más frecuente
en d1; y aporta más que un término que aparezca en los 3 documentos (IDF menor).
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgfbb7a9e" class="outline-4">
<h4 id="orgfbb7a9e">Modelo probabilístico (BM25, etc.)</h4>
<div class="outline-text-4" id="text-orgfbb7a9e">
</div>
<ul class="org-ul">
<li><a id="orgeb02ce1"></a>Idea<br />
<div class="outline-text-5" id="text-orgeb02ce1">
<ul class="org-ul">
<li>Estimar la probabilidad de que un documento sea relevante dada la consulta.</li>
<li>Ordenar por \(P(\text{relevante} \mid d, q)\).</li>
</ul>
</div>
</li>
<li><a id="org7a7f9f4"></a>BM25<br />
<div class="outline-text-5" id="text-org7a7f9f4">
<ul class="org-ul">
<li>Extensión del modelo probabilístico; muy usado en práctica.</li>
<li>Incorpora longitud del documento (penalización por documentos muy largos).</li>
<li>Parámetros: \(k_1\), \(b\) para ajustar saturación de TF y efecto de la longitud.</li>
</ul>
</div>
</li>
<li><a id="org81fa228"></a>Ejemplo intuitivo BM25<br />
<div class="outline-text-5" id="text-org81fa228">
<p>
Documento A: 50 palabras, "recuperación" aparece 2 veces.
Documento B: 500 palabras, "recuperación" aparece 10 veces.
</p>

<p>
En TF bruto, B tendría mayor TF. Pero BM25:
</p>
<ul class="org-ul">
<li>Satura el TF: 10 apariciones no aportan 5 veces más que 2 (crecimiento sublineal).</li>
<li>Penaliza por longitud: un documento muy largo tiene más probabilidad de contener
el término por casualidad; BM25 reduce el peso según la longitud respecto a la
media del corpus. Así, un documento corto y focalizado (A) puede rankear más alto.</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-org76f9bd0" class="outline-4">
<h4 id="org76f9bd0">Modelos basados en lenguaje (Language Models)</h4>
<div class="outline-text-4" id="text-org76f9bd0">
</div>
<ul class="org-ul">
<li><a id="org71b1c8c"></a>Idea<br />
<div class="outline-text-5" id="text-org71b1c8c">
<ul class="org-ul">
<li>Modelar cada documento como una distribución de probabilidad sobre términos (language model).</li>
<li>La consulta se "genera" con cierta probabilidad desde el modelo del documento.</li>
<li>Ranking por \(P(q \mid d)\) o variantes (e.g. mezcla con modelo de colección).</li>
</ul>
</div>
</li>
<li><a id="org64957b5"></a>Ventajas<br />
<div class="outline-text-5" id="text-org64957b5">
<ul class="org-ul">
<li>Base teórica sólida (probabilidad).</li>
<li>Permite suavizado (smoothing) para términos no vistos.</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgc4f0c0f" class="outline-4">
<h4 id="orgc4f0c0f">Resumen comparativo</h4>
<div class="outline-text-4" id="text-orgc4f0c0f">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Modelo</th>
<th scope="col" class="org-left">Ranking</th>
<th scope="col" class="org-left">Complejidad</th>
<th scope="col" class="org-left">Uso típico</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Booleano</td>
<td class="org-left">No</td>
<td class="org-left">Baja</td>
<td class="org-left">Sistemas legados</td>
</tr>

<tr>
<td class="org-left">Vectorial</td>
<td class="org-left">Sí</td>
<td class="org-left">Media</td>
<td class="org-left">General, TF-IDF</td>
</tr>

<tr>
<td class="org-left">Probabilístico</td>
<td class="org-left">Sí</td>
<td class="org-left">Media</td>
<td class="org-left">BM25 en Elasticsearch</td>
</tr>

<tr>
<td class="org-left">Language Model</td>
<td class="org-left">Sí</td>
<td class="org-left">Mayor</td>
<td class="org-left">Investigación, NLP</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org8e7b58c" class="outline-3">
<h3 id="org8e7b58c">Evaluación de la recuperación</h3>
<div class="outline-text-3" id="text-org8e7b58c">
<p>
La evaluación permite comparar sistemas o configuraciones y decidir mejoras.
</p>
</div>
<div id="outline-container-orgd69f9ad" class="outline-4">
<h4 id="orgd69f9ad">Conjuntos de prueba (test collections)</h4>
<div class="outline-text-4" id="text-orgd69f9ad">
</div>
<ul class="org-ul">
<li><a id="orga852cb4"></a>Componentes<br />
<div class="outline-text-5" id="text-orga852cb4">
<ol class="org-ol">
<li><b>Corpus</b>: conjunto de documentos.</li>
<li><b>Consultas</b> (topics): necesidades de información representativas.</li>
<li><b>Juicios de relevancia</b> (qrels): para cada par (consulta, documento), si el documento es relevante o no (idealmente por humanos).</li>
</ol>
</div>
</li>
<li><a id="org0b5f882"></a>Ejemplos de colecciones<br />
<div class="outline-text-5" id="text-org0b5f882">
<ul class="org-ul">
<li>Cranfield, TREC, CLEF, NTCIR: estándar en investigación.</li>
<li>En la industria: datos propios con juicios implícitos (clics, tiempo en página).</li>
</ul>
</div>
</li>
<li><a id="org03178e4"></a>Ejemplo de colección mínima<br />
<div class="outline-text-5" id="text-org03178e4">
<ul class="org-ul">
<li><b>Corpus</b>: 5 documentos d1, d2, d3, d4, d5.</li>
<li><b>Consulta</b>: "evaluación de la recuperación".</li>
<li><p>
<b>Juicios de relevancia</b> (qrels): un evaluador humano indica qué documentos son relevantes:
</p>
<ul class="org-ul">
<li>d1: no relevante.</li>
<li>d2: relevante.</li>
<li>d3: relevante.</li>
<li>d4: no relevante.</li>
<li>d5: relevante.</li>
</ul>
<p>
Total relevante = 3 (d2, d3, d5).
</p></li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgd32014e" class="outline-4">
<h4 id="orgd32014e">Métricas principales</h4>
<div class="outline-text-4" id="text-orgd32014e">
</div>
<ul class="org-ul">
<li><a id="org7c1a183"></a>Precisión (Precision)<br />
<div class="outline-text-5" id="text-org7c1a183">
<p>
\[
P = \frac{\text{documentos relevantes recuperados}}{\text{total de documentos recuperados}}
\]
</p>
<ul class="org-ul">
<li>"De lo que devolví, ¿cuánto era relevante?"</li>
</ul>
</div>
</li>
<li><a id="org9342f9f"></a>Recall (Exhaustividad)<br />
<div class="outline-text-5" id="text-org9342f9f">
<p>
\[
R = \frac{\text{documentos relevantes recuperados}}{\text{total de documentos relevantes en el corpus}}
\]
</p>
<ul class="org-ul">
<li>"De todo lo relevante, ¿cuánto recuperé?"</li>
</ul>
</div>
</li>
<li><a id="org26aedf0"></a>F1 (F-measure)<br />
<div class="outline-text-5" id="text-org26aedf0">
<ul class="org-ul">
<li>Media armónica de precisión y recall:</li>
</ul>
<p>
\[
F_1 = 2 \frac{P \cdot R}{P + R}
\]
</p>
</div>
</li>
<li><a id="orgfff12de"></a>Precisión en k (P@k)<br />
<div class="outline-text-5" id="text-orgfff12de">
<ul class="org-ul">
<li>Precisión considerando solo los primeros \(k\) resultados.</li>
<li>Útil cuando el usuario solo mira los primeros resultados (p. ej. P@10).</li>
</ul>
</div>
</li>
<li><a id="org4e13c3e"></a>Ejemplo numérico: precisión, recall, F1, P@k<br />
<div class="outline-text-5" id="text-org4e13c3e">
<p>
Con la colección anterior: 3 documentos relevantes (d2, d3, d5). Supongamos que
el sistema devuelve, en orden: [d2, d1, d3, d4, d5].
</p>

<ul class="org-ul">
<li><b>Recuperados</b>: 5. <b>Relevantes recuperados</b>: d2, d3, d5 \(\Rightarrow\) 3.</li>
<li>Precisión \(P = 3/5 = 0.6\) (de los 5 devueltos, 3 son relevantes).</li>
<li>Recall \(R = 3/3 = 1.0\) (recuperamos todos los relevantes).</li>
<li>\(F_1 = 2 \cdot \frac{0.6 \cdot 1}{0.6 + 1} = \frac{1.2}{1.6} \approx 0.75\).</li>
</ul>

<p>
P@k:
</p>
<ul class="org-ul">
<li>P@1 = 1/1 = 1 (el primero es relevante).</li>
<li>P@2 = 1/2 = 0.5 (de los dos primeros, uno es relevante).</li>
<li>P@3 = 2/3 \(\approx\) 0.67.</li>
<li>P@5 = 3/5 = 0.6.</li>
</ul>
</div>
</li>
<li><a id="orgfba003b"></a>Precisión promedia (AP) y MAP<br />
<div class="outline-text-5" id="text-orgfba003b">
<ul class="org-ul">
<li><b>Average Precision (AP)</b>: para una consulta, promedio de precisiones en cada punto de recall donde se recupera un documento relevante.</li>
<li><b>MAP (Mean Average Precision)</b>: media de AP sobre todas las consultas.</li>
<li>Muy usada en competiciones y literatura.</li>
</ul>
</div>
</li>
<li><a id="orgaa94070"></a>Ejemplo: Average Precision (AP)<br />
<div class="outline-text-5" id="text-orgaa94070">
<p>
Mismo ranking: [d2, d1, d3, d4, d5]; relevantes = {d2, d3, d5}.
</p>

<p>
En las posiciones 1, 2, 3, 4, 5 vamos marcando si el documento es relevante (R) o no (N):
pos 1: d2 R \(\rightarrow\) precisión hasta aquí = 1/1 = 1.0
pos 2: d1 N
pos 3: d3 R \(\rightarrow\) precisión hasta aquí = 2/3 \(\approx\) 0.67
pos 4: d4 N
pos 5: d5 R \(\rightarrow\) precisión hasta aquí = 3/5 = 0.6
</p>

<p>
AP = promedio de las precisiones en cada "hit" relevante:
\[
\text{AP} = \frac{1 + 2/3 + 3/5}{3} = \frac{1 + 0.67 + 0.6}{3} \approx 0.76
\]
Un ranking perfecto [d2, d3, d5, &#x2026;] tendría AP = 1.0.
</p>
</div>
</li>
<li><a id="org15eaec9"></a>NDCG (Normalized Discounted Cumulative Gain)<br />
<div class="outline-text-5" id="text-org15eaec9">
<ul class="org-ul">
<li>Tiene en cuenta la <b>posición</b> en el ranking: más relevante arriba es mejor.</li>
<li>El "gain" se descuenta según la posición (discounted).</li>
<li>NDCG normaliza por el DCG ideal (ranking perfecto).</li>
<li>Adecuado cuando hay grados de relevancia (no solo relevante/no relevante).</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="orge4ff661"></a>Ejemplo NDCG (intuitivo)<br />
<div class="outline-text-6" id="text-orge4ff661">
<p>
Supongamos relevancia en escala 0–3: 0 = no relevante, 3 = muy relevante.
Ranking del sistema: pos1 rel=2, pos2 rel=0, pos3 rel=3, pos4 rel=1.
</p>

<p>
DCG suma el "gain" (relevancia) descontado por la posición: \(\frac{\text{rel}}{\log_2(\text{pos}+1)}\).
</p>
<ul class="org-ul">
<li>Pos 1: \(2/\log_2 2 = 2\)</li>
<li>Pos 2: \(0\)</li>
<li>Pos 3: \(3/\log_2 4 = 3/2 = 1.5\)</li>
<li>Pos 4: \(1/\log_2 5 \approx 0.43\)</li>
</ul>
<p>
DCG \(\approx 2 + 0 + 1.5 + 0.43 \approx 3.93\).
</p>

<p>
El DCG ideal ordenaría por relevancia descendente: [3, 2, 1, 0] \(\Rightarrow\) IDCG.
NDCG = DCG / IDCG (normalizado entre 0 y 1). Así se premia que los más relevantes
estén arriba en el ranking.
</p>
</div>
</li>
</ul>
</li>
</ul>
</div>
<div id="outline-container-orgd2d319a" class="outline-4">
<h4 id="orgd2d319a">Evaluación con usuarios</h4>
<div class="outline-text-4" id="text-orgd2d319a">
<ul class="org-ul">
<li><b>Estudios de usabilidad</b>: tiempo para completar tareas, satisfacción, número de clics.</li>
<li><b>A/B testing</b>: comparar dos versiones del sistema con usuarios reales.</li>
<li><b>Juicios de relevancia</b>: coste humano; a veces se usan juicios implícitos (clics, dwell time).</li>
</ul>
</div>
</div>
<div id="outline-container-orgc8fdf4a" class="outline-4">
<h4 id="orgc8fdf4a">Trade-off precisión vs. recall</h4>
<div class="outline-text-4" id="text-orgc8fdf4a">
<ul class="org-ul">
<li>Aumentar resultados mostrados \(\Rightarrow\) recall sube, precisión puede bajar.</li>
<li>Ser más estricto en el ranking \(\Rightarrow\) precisión sube, recall puede bajar.</li>
<li>Depende del dominio: en legal/medicina a veces se prioriza recall; en web comercial, precisión en los primeros resultados.</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="org03e337c"></a>Ejemplo<br />
<div class="outline-text-5" id="text-org03e337c">
<pre class="example" id="org41351af">
Corpus: 100 documentos, 10 relevantes para la consulta.

- Si el sistema devuelve solo los 5 primeros y los 5 son relevantes:
  P = 5/5 = 1.0, R = 5/10 = 0.5 (precisión perfecta, recall bajo).

- Si devuelve 50 documentos y 10 son relevantes:
  P = 10/50 = 0.2, R = 10/10 = 1.0 (recall perfecto, precisión baja).

- Objetivo típico: devolver unos 10–20 resultados con varios relevantes arriba,
  equilibrando P y R (p. ej. P@10 alto y recall razonable).
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-org4d32639" class="outline-3">
<h3 id="org4d32639">Referencias</h3>
<div class="outline-text-3" id="text-org4d32639">
<ul class="org-ul">
<li>Manning, Raghavan, Schütze: <i>Information Retrieval: Implementing and Evaluating Search Engines</i> (MIT Press).</li>
<li>Baeza-Yates, Ribeiro-Neto: <i>Modern Information Retrieval</i> (Addison Wesley).</li>
<li>TREC: <code>https://trec.nist.gov/</code> (benchmarks y métricas).</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgefc0041" class="outline-2">
<h2 id="orgefc0041">Ejemplos IRS — Recuperación de información con feeds RSS</h2>
<div class="outline-text-2" id="text-orgefc0041">
<p>
Un <b>Sistema de Recuperación de Información</b> (IRS, o IR en inglés) es un sistema
que permite almacenar, organizar y recuperar documentos (o ítems) relevantes
ante una <b>consulta</b> del usuario. Los componentes típicos son:
</p>

<ol class="org-ol">
<li><b>Colección</b>: conjunto de documentos (en nuestras actividades = ítems de feeds RSS).</li>
<li><b>Consulta</b>: necesidad de información expresada por el usuario (query).</li>
<li><b>Proceso de recuperación</b>: matching entre consulta y documentos (ranking, filtrado).</li>
<li><b>Interfaz</b>: forma en que el usuario formula consultas y ve resultados.</li>
</ol>

<p>
En estas actividades usaremos <b>feeds RSS</b> como colección de documentos: cada
entrada (item) es un “documento” con título, descripción, fecha y enlace.
Así practicamos extracción, limpieza e indexación como en un IRS real.
</p>
</div>
<div id="outline-container-org8687919" class="outline-3">
<h3 id="org8687919">Un buscador introductorio con feeds RSS</h3>
<div class="outline-text-3" id="text-org8687919">
<p>
En este material construimos un <b>buscador muy sencillo</b> que usa <b>feeds RSS</b> como
fuente de documentos: tú escribes una consulta y el sistema te devuelve ítems
relevantes (título, enlace, fecha). Para que el buscador tenga algo que buscar,
primero hay que <b>encontrar URLs de feeds RSS</b>. Por eso la primera actividad es
usar <b>hacks de búsqueda</b> en Google (o DuckDuckGo, etc.) para descubrir esas
páginas; después extraemos, limpiamos e indexamos esos feeds y probamos la
búsqueda.
</p>
</div>
<div id="outline-container-org39e0801" class="outline-4">
<h4 id="org39e0801">Hacks de búsqueda: encontrar páginas y URLs de feeds RSS</h4>
<div class="outline-text-4" id="text-org39e0801">
<p>
El uso de operadores de búsqueda (también conocidos como hacks de
búsqueda) permite refinar las consultas en buscadores web con el
objetivo de localizar páginas que publican feeds RSS. Mediante estos
operadores es posible identificar de forma eficiente las URLs de
dichos feeds, los cuales constituyen la fuente primaria de documentos
para el sistema de recuperación de información. Sin una colección de
feeds RSS adecuadamente identificada, no es posible construir ni
alimentar el buscador de noticias propuesto.
</p>
</div>
<ul class="org-ul">
<li><a id="org4f1938e"></a>Operadores útiles Google Search<br />
<div class="outline-text-5" id="text-org4f1938e">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operador</th>
<th scope="col" class="org-left">Ejemplo</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">site:</td>
<td class="org-left">site:bbc.com rss</td>
<td class="org-left">Busca RSS dentro de un dominio</td>
</tr>

<tr>
<td class="org-left">inurl:</td>
<td class="org-left">inurl:rss noticias</td>
<td class="org-left">Busca URLs que contengan "rss"</td>
</tr>

<tr>
<td class="org-left">intitle:</td>
<td class="org-left">intitle:rss technology</td>
<td class="org-left">Busca páginas con "rss" en el título</td>
</tr>

<tr>
<td class="org-left">filetype:</td>
<td class="org-left">filetype:xml rss</td>
<td class="org-left">Localiza archivos XML (feeds)</td>
</tr>

<tr>
<td class="org-left">"frase exacta"</td>
<td class="org-left">"RSS feed" site:news</td>
<td class="org-left">Coincidencia exacta</td>
</tr>

<tr>
<td class="org-left">OR</td>
<td class="org-left">rss OR "xml feed"</td>
<td class="org-left">Búsqueda alternativa</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">rss -podcast</td>
<td class="org-left">Excluye términos</td>
</tr>

<tr>
<td class="org-left">allinurl:</td>
<td class="org-left">allinurl:rss feeds news</td>
<td class="org-left">Todas las palabras en la URL</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="org47e200b"></a>Operadores útiles DuckDuckGo<br />
<div class="outline-text-5" id="text-org47e200b">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operador</th>
<th scope="col" class="org-left">Ejemplo</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">site:</td>
<td class="org-left">site:reuters.com rss</td>
<td class="org-left">Limita búsqueda a un dominio</td>
</tr>

<tr>
<td class="org-left">inurl:</td>
<td class="org-left">inurl:rss</td>
<td class="org-left">Busca "rss" en la URL</td>
</tr>

<tr>
<td class="org-left">intitle:</td>
<td class="org-left">intitle:"rss feed"</td>
<td class="org-left">Busca en el título</td>
</tr>

<tr>
<td class="org-left">filetype:</td>
<td class="org-left">filetype:xml rss</td>
<td class="org-left">Archivos XML</td>
</tr>

<tr>
<td class="org-left">"frase exacta"</td>
<td class="org-left">"news rss feed"</td>
<td class="org-left">Coincidencia exacta</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">rss -video</td>
<td class="org-left">Excluir términos</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="orga2cc656"></a>Bing Search<br />
<div class="outline-text-5" id="text-orga2cc656">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operador</th>
<th scope="col" class="org-left">Ejemplo</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">site:</td>
<td class="org-left">site:elpais.com rss</td>
<td class="org-left">Buscar RSS por dominio</td>
</tr>

<tr>
<td class="org-left">inurl:</td>
<td class="org-left">inurl:feed</td>
<td class="org-left">URLs que contienen "feed"</td>
</tr>

<tr>
<td class="org-left">intitle:</td>
<td class="org-left">intitle:rss</td>
<td class="org-left">Buscar en títulos</td>
</tr>

<tr>
<td class="org-left">filetype:</td>
<td class="org-left">filetype:xml rss</td>
<td class="org-left">Feeds XML</td>
</tr>

<tr>
<td class="org-left">"frase exacta"</td>
<td class="org-left">"rss noticias"</td>
<td class="org-left">Coincidencia exacta</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">rss -audio</td>
<td class="org-left">Exclusión</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="orgf142a25"></a>Hacks combinados (muy útiles para IRS)<br />
<div class="outline-text-5" id="text-orgf142a25">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Consulta ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">site:news "rss feed"</td>
</tr>

<tr>
<td class="org-left">inurl:rss filetype:xml</td>
</tr>

<tr>
<td class="org-left">site:.org intitle:rss</td>
</tr>

<tr>
<td class="org-left">site:gov filetype:xml rss</td>
</tr>

<tr>
<td class="org-left">"rss feed" "news"</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
<div id="outline-container-org96a191c" class="outline-4">
<h4 id="org96a191c">Consultas de ejemplo para probar en el buscador</h4>
<div class="outline-text-4" id="text-org96a191c">
<pre class="example" id="org0212df5">
inurl:rss noticias tecnología
inurl:feed blog educación
"rss" "suscribirse" site:elpais.com
filetype:xml rss
inurl:atom feed
</pre>

<p>
Desde el punto de vista del IRS, la <b>consulta</b> que se escribe en el buscador
(p. ej. <code>inurl:rss noticias</code>) es la “consulta” del sistema de recuperación; los
<b>resultados</b> que muestra Google (o DuckDuckGo, Bing) son la “interfaz de
búsqueda”: un listado de documentos (páginas) que el modelo de recuperación del
buscador consideró relevantes. Las URLs de feeds que el usuario anota pasan a
ser la <b>colección</b> que alimentará el pequeño buscador sobre RSS.
</p>
</div>
</div>
</div>
<div id="outline-container-orgfcb0a2b" class="outline-3">
<h3 id="orgfcb0a2b">Extraer datos de un feed RSS y guardarlos</h3>
<div class="outline-text-3" id="text-orgfcb0a2b">
<p>
En un IRS la <b>colección</b> es el conjunto de documentos sobre el que el sistema
responde a las consultas. Sin colección no hay recuperación. En nuestro caso,
los “documentos” son los <b>ítems de un feed RSS</b>: cada entrada del feed (título,
enlace, fecha, resumen) equivale a un documento indexable. Extraer esos ítems
y representarlos en una estructura uniforme (p. ej. lista de diccionarios) es
el primer paso para que el IRS pueda comparar después la consulta del usuario
contra cada documento. Los feeds RSS son idóneos porque ya vienen estructurados
(XML con <code>&lt;item&gt;</code> o entradas Atom), con campos de texto (título, descripción)
que el IRS puede usar para búsqueda.
</p>

<ul class="org-ul">
<li><b>IRS — Colección</b>: la lista de ítems extraídos del feed <b>es</b> la colección del
sistema.</li>
<li><b>RSS</b>: el feed es la fuente externa; cada <code>entry</code> o <code>&lt;item&gt;</code> es un documento.</li>
<li><b>Código</b>: descargar el feed (HTTP), parsear el XML y mapear cada ítem a
campos (título, link, fecha, resumen) construye esa colección en memoria.</li>
</ul>

<p>
La función <code>fetch_rss(url, max_entries)</code> recibe la URL del feed y un límite de
entradas. <code>feedparser.parse(url)</code> descarga y parsea el feed (RSS o Atom) y
devuelve un objeto con <code>.entries</code>: lista de ítems. Para cada entrada se
extraen <code>title</code>, <code>link</code>, <code>published</code> (o <code>updated</code>) y <code>summary</code> (o <code>description</code>).
Esos campos son los que un IRS necesita para identificar el documento y para
indexar texto (título y resumen). El resultado es una lista de diccionarios:
cada uno representa <b>un documento de la colección</b>. Si hay error de red o XML
inválido, se devuelve un ítem con <code>error</code> para no romper el flujo. Al final,
<code>items</code> es la colección sobre la que más adelante se aplicará la consulta.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> feedparser
<span style="color: #fb4934;">import</span> json

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">fetch_rss</span><span style="color: #fe8019;">(</span>url, max_entries=20<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Extrae &#237;tems de un feed RSS/Atom. Devuelve lista de diccionarios."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">try</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">feed</span> = feedparser.parse<span style="color: #fe8019;">(</span>url<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">items</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> e <span style="color: #fb4934;">in</span> feed.entries<span style="color: #fe8019;">[</span>:max_entries<span style="color: #fe8019;">]</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   items.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">{</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"title"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"title"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"link"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"link"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"published"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"published"</span>, e.get<span style="color: #83a598;">(</span><span style="color: #b8bb26;">"updated"</span>, <span style="color: #b8bb26;">""</span><span style="color: #83a598;">)</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"summary"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"summary"</span>, e.get<span style="color: #83a598;">(</span><span style="color: #b8bb26;">"description"</span>, <span style="color: #b8bb26;">""</span><span style="color: #83a598;">)</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> items
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">except</span> <span style="color: #fabd2f;">Exception</span> <span style="color: #fb4934;">as</span> err:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> <span style="color: #fe8019;">[</span><span style="color: #b16286;">{</span><span style="color: #b8bb26;">"error"</span>: <span style="color: #fe8019;">str</span><span style="color: #b8bb26;">(</span>err<span style="color: #b8bb26;">)</span>, <span style="color: #b8bb26;">"url"</span>: url<span style="color: #b16286;">}</span><span style="color: #fe8019;">]</span>

<span style="color: #83a598;">url</span> = <span style="color: #b8bb26;">"https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"</span>
<span style="color: #83a598;">items</span> = fetch_rss<span style="color: #fe8019;">(</span>url, max_entries=15<span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>json.dumps<span style="color: #b16286;">(</span>items, indent=2, ensure_ascii=<span style="color: #d3869b;">False</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>

<pre class="example" id="org8497afe">
[
  {
    "title": "Salinas Pliego lleva a TV Azteca a concurso mercantil, en plena pelea millonaria con acreedores de Estados Unidos",
    "link": "https://elpais.com/mexico/economia/2026-02-27/salinas-pliego-lleva-a-tv-azteca-a-concurso-mercantil-en-plena-pelea-millonaria-con-acreedores-de-estados-unidos.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "El grupo asegura que recurrirá a este procedimiento para reordenar “de manera estructurada y equitativa” los pasivos de la televisora"
  },
  {
    "title": "Sheinbaum visitará Sinaloa en una señal de gobernabilidad tras la escalada de violencia",
    "link": "https://elpais.com/mexico/2026-02-27/sheinbaum-visitara-sinaloa-en-una-senal-de-gobernabilidad-tras-la-escalada-de-violencia.html",
    "published": "Fri, 27 Feb 2026 00:03:44 GMT",
    "summary": "La presidenta alista una visita de dos días al Estado que ha albergado la cruenta guerra entre facciones del cartel local"
  },
  {
    "title": "Centros LIBRE, la gran apuesta de la Secretaría de las Mujeres: “Aquí me dijeron que tenía derechos”",
    "link": "https://elpais.com/mexico/2026-02-27/centros-libre-la-gran-apuesta-de-la-secretaria-de-las-mujeres-aqui-me-dijeron-que-tenia-derechos.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "Los 678 espacios comunitarios en el territorio mexicano brindan asesoría jurídica, atención psicológica y orientación por parte de trabajadoras sociales"
  },
  {
    "title": "El discreto silencio de Estados Unidos ante el ataque de una lancha en aguas cubanas",
    "link": "https://elpais.com/us/2026-02-27/el-discreto-silencio-de-estados-unidos-ante-el-ataque-de-una-lancha-en-aguas-cubanas.html",
    "published": "Fri, 27 Feb 2026 04:30:00 GMT",
    "summary": "El incidente se ha producido en un momento especialmente delicado en la relación entre Washington y La Habana"
  },
  {
    "title": "Un estadounidense, entre los cuatro muertos en la lancha interceptada por Cuba",
    "link": "https://elpais.com/us/2026-02-27/un-estadounidense-entre-los-cuatro-muertos-en-la-lancha-interceptada-por-cuba.html",
    "published": "Fri, 27 Feb 2026 00:38:40 GMT",
    "summary": "El Departamento de Estado confirma que uno de los seis heridos es también ciudadano"
  },
  {
    "title": "En las entrañas del Popocatépetl",
    "link": "https://elpais.com/mexico/2026-02-27/en-las-entranas-del-popocatepetl.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "Un grupo de científicos de la Universidad Nacional Autónoma de México (UNAM) elabora la primera imagen tridimensional del interior del volcán que abarca hasta 18 km de profundidad desde el cráter"
  },
  {
    "title": "Sheinbaum reafirma ante Gianni Infantino el compromiso de México como sede del Mundial",
    "link": "https://elpais.com/mexico/2026-02-27/sheinbaum-reafirma-ante-gianni-infantino-el-compromiso-de-mexico-como-sede-del-mundial.html",
    "published": "Fri, 27 Feb 2026 04:28:24 GMT",
    "summary": "El presidente de la FIFA afirmó esta semana que el torneo será un evento fantástico y que confía en el Gobierno mexicano"
  },
  {
    "title": "Una congresista colombiana denuncia las detenciones de sus connacionales en Estados Unidos: “Estamos ante una crisis humanitaria”",
    "link": "https://elpais.com/us/migracion/2026-02-27/una-congresista-colombiana-denuncia-las-detenciones-de-sus-connacionales-en-estados-unidos-estamos-ante-una-crisis-humanitaria.html",
    "published": "Fri, 27 Feb 2026 04:30:00 GMT",
    "summary": "Carmen Felisa Ramírez Boscán, representante de los colombianos en el exterior, pide al presidente Gustavo Petro declarar un estado de emergencia para acelerar los procesos de deportación desde EE UU"
  },
  {
    "title": "Pakistán bombardea Kabul y se declara en “guerra abierta” con Afganistán",
    "link": "https://elpais.com/internacional/2026-02-27/pakistan-bombardea-kabul-y-se-declara-en-guerra-abierta-con-afganistan.html",
    "published": "Fri, 27 Feb 2026 10:29:47 GMT",
    "summary": "El ataque representa la mayor escalada del conflicto entre los dos países vecinos desde el regreso de los talibanes al poder"
  },
  {
    "title": "Un adolescente de 15 años, desaparecido en 1986, es reconocido oficialmente como víctima de la dictadura de Pinochet",
    "link": "https://elpais.com/chile/2026-02-27/un-adolescente-de-15-anos-desaparecido-en-1986-es-reconocido-oficialmente-como-victima-de-la-dictadura-de-pinochet.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "A Luis Alberto Pino Soto, estudiante de un liceo en Arica, en el norte de Chile, se le perdió el rastro hace 40 años, en la víspera de una protesta nacional contra el régimen"
  },
  {
    "title": "Paramount gana la guerra por Warner Bros tras la renuncia de Netflix a igualar la oferta",
    "link": "https://elpais.com/economia/2026-02-26/paramount-gana-la-guerra-por-warner-bros-tras-la-renuncia-de-netflix-a-igualar-la-oferta.html",
    "published": "Thu, 26 Feb 2026 23:37:04 GMT",
    "summary": "El grupo de ‘streaming’ declina mejorar su propuesta: “El acuerdo ya no es financieramente atractivo”"
  },
  {
    "title": "Mirtha Legrand, la historia de la presentadora de televisión más longeva del mundo: 99 años de vida y casi 70 en pantalla",
    "link": "https://elpais.com/television/2026-02-27/mirtha-legrand-la-historia-de-la-presentadora-de-television-mas-longeva-del-mundo-99-anos-de-vida-y-casi-70-en-pantalla.html",
    "published": "Fri, 27 Feb 2026 04:30:01 GMT",
    "summary": "La casi centenaria conductora argentina rompe récords de permanencia en la pequeña pantalla y no tiene planes de jubilarse. Su frase de cabecera es: “Como te ven, te tratan. Si te ven mal, te maltratan. Si te ven bien, te contratan”"
  },
  {
    "title": "El olivo entra en el ‘arca de Noé’ de las semillas para garantizar su conservación frente a catástrofes",
    "link": "https://elpais.com/economia/2026-02-27/el-olivo-entra-en-el-arca-de-noe-de-las-semillas-para-garantizar-su-conservacion-frente-a-catastrofes.html",
    "published": "Fri, 27 Feb 2026 04:45:00 GMT",
    "summary": "La Bóveda Global de Semillas, ubicada en el archipiélago noruego de Svalbard, almacenará muestras de este cultivo recolectadas por universidades españolas"
  },
  {
    "title": "Corales buscan futuro",
    "link": "https://elpais.com/america-futura/2026-02-27/corales-buscan-futuro.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "Nuestra mejor protección frente a los huracanes sigue siendo la naturaleza, pero los arrecifes son los paisajes que más rápido se desvanecen"
  },
  {
    "title": "Concierto gratis de Shakira en el Zócalo de Ciudad de México: hora, calles cerradas y localización de las pantallas",
    "link": "https://elpais.com/mexico/2026-02-27/concierto-gratis-de-shakira-en-el-zocalo-de-ciudad-de-mexico-hora-calles-cerradas-y-localizacion-de-las-pantallas.html",
    "published": "Fri, 27 Feb 2026 01:19:15 GMT",
    "summary": "La cantante colombiana dará un espectáculo que las autoridades estiman tendrá una asistencia multitudinaria y proveniente de varias partes del país"
  }
]
</pre>

<p>
Ejemplo con mas de una URL 
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> feedparser
<span style="color: #fb4934;">import</span> json

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">fetch_rss</span><span style="color: #fe8019;">(</span>url, max_entries=20<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Extrae &#237;tems de un feed RSS/Atom."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">feed</span> = feedparser.parse<span style="color: #fe8019;">(</span>url<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">items</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> e <span style="color: #fb4934;">in</span> feed.entries<span style="color: #fe8019;">[</span>:max_entries<span style="color: #fe8019;">]</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   items.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">{</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"title"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"title"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"link"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"link"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"published"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"published"</span>, e.get<span style="color: #83a598;">(</span><span style="color: #b8bb26;">"updated"</span>, <span style="color: #b8bb26;">""</span><span style="color: #83a598;">)</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"summary"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"summary"</span>, e.get<span style="color: #83a598;">(</span><span style="color: #b8bb26;">"description"</span>, <span style="color: #b8bb26;">""</span><span style="color: #83a598;">)</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"source"</span>: url
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> items

<span style="color: #928374;"># </span><span style="color: #928374;">&#128313; Lista de feeds
</span><span style="color: #83a598;">urls</span> = <span style="color: #fe8019;">[</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://www.reddit.com/r/python/.rss"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://hnrss.org/frontpage"</span>
<span style="color: #fe8019;">]</span>

<span style="color: #83a598;">all_items</span> = <span style="color: #fe8019;">[]</span>

<span style="color: #fb4934;">for</span> url <span style="color: #fb4934;">in</span> urls:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">try</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   all_items.extend<span style="color: #fe8019;">(</span>fetch_rss<span style="color: #b16286;">(</span>url, max_entries=10<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">except</span> <span style="color: #fabd2f;">Exception</span> <span style="color: #fb4934;">as</span> err:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   all_items.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">{</span><span style="color: #b8bb26;">"error"</span>: <span style="color: #fe8019;">str</span><span style="color: #b8bb26;">(</span>err<span style="color: #b8bb26;">)</span>, <span style="color: #b8bb26;">"url"</span>: url<span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>

<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>json.dumps<span style="color: #b16286;">(</span>all_items, indent=2, ensure_ascii=<span style="color: #d3869b;">False</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>

<pre class="example" id="org8e31a16">
[
  {
    "title": "Salinas Pliego lleva a TV Azteca a concurso mercantil, en plena pelea millonaria con acreedores de Estados Unidos",
    "link": "https://elpais.com/mexico/economia/2026-02-27/salinas-pliego-lleva-a-tv-azteca-a-concurso-mercantil-en-plena-pelea-millonaria-con-acreedores-de-estados-unidos.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "El grupo asegura que recurrirá a este procedimiento para reordenar “de manera estructurada y equitativa” los pasivos de la televisora",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "Sheinbaum visitará Sinaloa en una señal de gobernabilidad tras la escalada de violencia",
    "link": "https://elpais.com/mexico/2026-02-27/sheinbaum-visitara-sinaloa-en-una-senal-de-gobernabilidad-tras-la-escalada-de-violencia.html",
    "published": "Fri, 27 Feb 2026 00:03:44 GMT",
    "summary": "La presidenta alista una visita de dos días al Estado que ha albergado la cruenta guerra entre facciones del cartel local",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "Centros LIBRE, la gran apuesta de la Secretaría de las Mujeres: “Aquí me dijeron que tenía derechos”",
    "link": "https://elpais.com/mexico/2026-02-27/centros-libre-la-gran-apuesta-de-la-secretaria-de-las-mujeres-aqui-me-dijeron-que-tenia-derechos.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "Los 678 espacios comunitarios en el territorio mexicano brindan asesoría jurídica, atención psicológica y orientación por parte de trabajadoras sociales",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "El discreto silencio de Estados Unidos ante el ataque de una lancha en aguas cubanas",
    "link": "https://elpais.com/us/2026-02-27/el-discreto-silencio-de-estados-unidos-ante-el-ataque-de-una-lancha-en-aguas-cubanas.html",
    "published": "Fri, 27 Feb 2026 04:30:00 GMT",
    "summary": "El incidente se ha producido en un momento especialmente delicado en la relación entre Washington y La Habana",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "Un estadounidense, entre los cuatro muertos en la lancha interceptada por Cuba",
    "link": "https://elpais.com/us/2026-02-27/un-estadounidense-entre-los-cuatro-muertos-en-la-lancha-interceptada-por-cuba.html",
    "published": "Fri, 27 Feb 2026 00:38:40 GMT",
    "summary": "El Departamento de Estado confirma que uno de los seis heridos es también ciudadano",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "En las entrañas del Popocatépetl",
    "link": "https://elpais.com/mexico/2026-02-27/en-las-entranas-del-popocatepetl.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "Un grupo de científicos de la Universidad Nacional Autónoma de México (UNAM) elabora la primera imagen tridimensional del interior del volcán que abarca hasta 18 km de profundidad desde el cráter",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "Sheinbaum reafirma ante Gianni Infantino el compromiso de México como sede del Mundial",
    "link": "https://elpais.com/mexico/2026-02-27/sheinbaum-reafirma-ante-gianni-infantino-el-compromiso-de-mexico-como-sede-del-mundial.html",
    "published": "Fri, 27 Feb 2026 04:28:24 GMT",
    "summary": "El presidente de la FIFA afirmó esta semana que el torneo será un evento fantástico y que confía en el Gobierno mexicano",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "Una congresista colombiana denuncia las detenciones de sus connacionales en Estados Unidos: “Estamos ante una crisis humanitaria”",
    "link": "https://elpais.com/us/migracion/2026-02-27/una-congresista-colombiana-denuncia-las-detenciones-de-sus-connacionales-en-estados-unidos-estamos-ante-una-crisis-humanitaria.html",
    "published": "Fri, 27 Feb 2026 04:30:00 GMT",
    "summary": "Carmen Felisa Ramírez Boscán, representante de los colombianos en el exterior, pide al presidente Gustavo Petro declarar un estado de emergencia para acelerar los procesos de deportación desde EE UU",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "Pakistán bombardea Kabul y se declara en “guerra abierta” con Afganistán",
    "link": "https://elpais.com/internacional/2026-02-27/pakistan-bombardea-kabul-y-se-declara-en-guerra-abierta-con-afganistan.html",
    "published": "Fri, 27 Feb 2026 10:29:47 GMT",
    "summary": "El ataque representa la mayor escalada del conflicto entre los dos países vecinos desde el regreso de los talibanes al poder",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "Un adolescente de 15 años, desaparecido en 1986, es reconocido oficialmente como víctima de la dictadura de Pinochet",
    "link": "https://elpais.com/chile/2026-02-27/un-adolescente-de-15-anos-desaparecido-en-1986-es-reconocido-oficialmente-como-victima-de-la-dictadura-de-pinochet.html",
    "published": "Fri, 27 Feb 2026 04:40:00 GMT",
    "summary": "A Luis Alberto Pino Soto, estudiante de un liceo en Arica, en el norte de Chile, se le perdió el rastro hace 40 años, en la víspera de una protesta nacional contra el régimen",
    "source": "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"
  },
  {
    "title": "Sunday Daily Thread: What's everyone working on this week?",
    "link": "https://www.reddit.com/r/Python/comments/1rb6o4p/sunday_daily_thread_whats_everyone_working_on/",
    "published": "2026-02-22T00:00:34+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h1&gt;Weekly Thread: What's Everyone Working On This Week? 🛠️&lt;/h1&gt; &lt;p&gt;Hello &lt;a href=\"https://www.reddit.com/r/Python\"&gt;/r/Python&lt;/a&gt;! It's time to share what you've been working on! Whether it's a work-in-progress, a completed masterpiece, or just a rough idea, let us know what you're up to!&lt;/p&gt; &lt;h2&gt;How it Works:&lt;/h2&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;Show &amp;amp; Tell&lt;/strong&gt;: Share your current projects, completed works, or future ideas.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Discuss&lt;/strong&gt;: Get feedback, find collaborators, or just chat about your project.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Inspire&lt;/strong&gt;: Your project might inspire someone else, just as you might get inspired here.&lt;/li&gt; &lt;/ol&gt; &lt;h2&gt;Guidelines:&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;Feel free to include as many details as you'd like. Code snippets, screenshots, and links are all welcome.&lt;/li&gt; &lt;li&gt;Whether it's your job, your hobby, or your passion project, all Python-related work is welcome here.&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Example Shares:&lt;/h2&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;Machine Learning Model&lt;/strong&gt;: Working on a ML model to predict stock prices. Just cracked a 90% accuracy rate!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Web Scraping&lt;/strong&gt;: Built a script to scrape and analyze news articles. It's helped me understand media bias better.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Automation&lt;/strong&gt;: Automated my home lighting with Python and Raspberry Pi. My life has never been easier!&lt;/li&gt; &lt;/ol&gt; &lt;p&gt;Let's build and grow together! Share your journey and learn from others. Happy coding! 🌟&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/AutoModerator\"&gt; /u/AutoModerator &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rb6o4p/sunday_daily_thread_whats_everyone_working_on/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rb6o4p/sunday_daily_thread_whats_everyone_working_on/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "Friday Daily Thread: r/Python Meta and Free-Talk Fridays",
    "link": "https://www.reddit.com/r/Python/comments/1rfqxve/friday_daily_thread_rpython_meta_and_freetalk/",
    "published": "2026-02-27T00:00:46+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h1&gt;Weekly Thread: Meta Discussions and Free Talk Friday 🎙️&lt;/h1&gt; &lt;p&gt;Welcome to Free Talk Friday on &lt;a href=\"https://www.reddit.com/r/Python\"&gt;/r/Python&lt;/a&gt;! This is the place to discuss the &lt;a href=\"https://www.reddit.com/r/Python\"&gt;r/Python&lt;/a&gt; community (meta discussions), Python news, projects, or anything else Python-related!&lt;/p&gt; &lt;h2&gt;How it Works:&lt;/h2&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;Open Mic&lt;/strong&gt;: Share your thoughts, questions, or anything you'd like related to Python or the community.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Community Pulse&lt;/strong&gt;: Discuss what you feel is working well or what could be improved in the &lt;a href=\"https://www.reddit.com/r/python\"&gt;/r/python&lt;/a&gt; community.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;News &amp;amp; Updates&lt;/strong&gt;: Keep up-to-date with the latest in Python and share any news you find interesting.&lt;/li&gt; &lt;/ol&gt; &lt;h2&gt;Guidelines:&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;All topics should be related to Python or the &lt;a href=\"https://www.reddit.com/r/python\"&gt;/r/python&lt;/a&gt; community.&lt;/li&gt; &lt;li&gt;Be respectful and follow Reddit's &lt;a href=\"https://www.redditinc.com/policies/content-policy\"&gt;Code of Conduct&lt;/a&gt;.&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Example Topics:&lt;/h2&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;New Python Release&lt;/strong&gt;: What do you think about the new features in Python 3.11?&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Community Events&lt;/strong&gt;: Any Python meetups or webinars coming up?&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Learning Resources&lt;/strong&gt;: Found a great Python tutorial? Share it here!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Job Market&lt;/strong&gt;: How has Python impacted your career?&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Hot Takes&lt;/strong&gt;: Got a controversial Python opinion? Let's hear it!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Community Ideas&lt;/strong&gt;: Something you'd like to see us do? tell us.&lt;/li&gt; &lt;/ol&gt; &lt;p&gt;Let's keep the conversation going. Happy discussing! 🌟&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/AutoModerator\"&gt; /u/AutoModerator &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfqxve/friday_daily_thread_rpython_meta_and_freetalk/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfqxve/friday_daily_thread_rpython_meta_and_freetalk/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "Porn in Conda directory",
    "link": "https://www.reddit.com/r/Python/comments/1rfefy7/porn_in_conda_directory/",
    "published": "2026-02-26T16:16:38+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Okay, I am flustered here. Today, at work, I attempted to open up YouTube from within the Microsoft search menu. To my shock and horror, the first suggested app was “Youporn.” I don’t watch porn on my work pc.&lt;/p&gt; &lt;p&gt;I looked at the file location and lo and behold, it’s a MS-DOS application file found within Anaconda3\\pkgs\\protego\\info\\test\\tests\\test_data&lt;/p&gt; &lt;p&gt;WTF?!&lt;/p&gt; &lt;p&gt;Anyone familiar with the Protego library? What is going on here? I can only imagine if my IT administrator or boss saw this pop up on my windows search.&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/suitupyo\"&gt; /u/suitupyo &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfefy7/porn_in_conda_directory/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfefy7/porn_in_conda_directory/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "Which Python project made you realize how powerful the language is?",
    "link": "https://www.reddit.com/r/Python/comments/1rg3mwl/which_python_project_made_you_realize_how/",
    "published": "2026-02-27T10:57:24+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Could be anything — automation, a quick data script, a web app, or even a beginner-friendly tool — Python’s simplicity usually hits instantly.&lt;/p&gt; &lt;p&gt;What was the project that made you appreciate Python’s magic?&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/itsme2019asalways\"&gt; /u/itsme2019asalways &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg3mwl/which_python_project_made_you_realize_how/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg3mwl/which_python_project_made_you_realize_how/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "HowBoutNo: A middleware that lets you block unwanted traffic",
    "link": "https://www.reddit.com/r/Python/comments/1rg7lx9/howboutno_a_middleware_that_lets_you_block/",
    "published": "2026-02-27T14:06:29+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;What My Project Does: HowBoutNo is an ASGI middleware served as a python package that lets you block unwanted traffic on your web apps based on region (country and continent), ASNs, reverse DNS hostnames, proxy IP and IPs associated with hostings and datacenters, and IPs from public blocklists. It's built in Pure ASGI and is compatible with all ASGI frameworks like FastAPI, Starlette etc. (and WSGI too if you use an adapter). It is highly customizable, you can use any combination of blocking logic, add exception IPs and paths, customise block responses and more!&lt;/p&gt; &lt;p&gt;Target Audience: Indie developers. It can be used in production at the moment and would work, but I'd recommend waiting a bit since it's extremely new and would take some time to be stable.&lt;/p&gt; &lt;p&gt;Comparison: Alternatives like Cloudflare exist, but it's different as it provides you control at the application level and since it's completely open source, it avoids corporate BS.&lt;/p&gt; &lt;p&gt;Source code and guide: &lt;a href=\"https://github.com/sudeep-alt/HowBoutNo\"&gt;https://github.com/sudeep-alt/HowBoutNo&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/randomguy054\"&gt; /u/randomguy054 &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg7lx9/howboutno_a_middleware_that_lets_you_block/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg7lx9/howboutno_a_middleware_that_lets_you_block/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "MyDisk Open Source Project",
    "link": "https://www.reddit.com/r/Python/comments/1rfw0df/mydisk_open_source_project/",
    "published": "2026-02-27T03:46:12+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h1&gt;MyDisk – Disk Usage Monitoring &amp;amp; Analytics Tool&lt;/h1&gt; &lt;p&gt;I would like to introduce my first Python application!&lt;/p&gt; &lt;p&gt;MyDisk is a Windows desktop application built in Python using Tkinter and ttkbootstrap. It’s a storage monitoring and analytics tool designed for users who want visibility into disk usage over time.&lt;/p&gt; &lt;h1&gt;What My Project Does&lt;/h1&gt; &lt;p&gt;Core features:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Configurable background logger that scans disk usage at user-defined intervals (can be turned off)&lt;/li&gt; &lt;li&gt;Hardware information scanner that scans basic information&lt;/li&gt; &lt;li&gt;Multiple graphs for visualizing storage trends&lt;/li&gt; &lt;li&gt;Log data editor to manage logged data points&lt;/li&gt; &lt;li&gt;Ongoing feature updates constantly improving the app!&lt;/li&gt; &lt;/ul&gt; &lt;h1&gt;Target Audience&lt;/h1&gt; &lt;p&gt;This application is intended for:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Users who enjoy tracking system metrics&lt;/li&gt; &lt;li&gt;Users who like data analytics&lt;/li&gt; &lt;li&gt;People who want visibility into disk usage&lt;/li&gt; &lt;li&gt;Primarily a practical utility project, but still under active development (Beta)&lt;/li&gt; &lt;/ul&gt; &lt;h1&gt;Comparison to Existing Alternatives&lt;/h1&gt; &lt;p&gt;Unlike tools such as:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;WinDirStat (snapshot-based disk usage)&lt;/li&gt; &lt;li&gt;CrystalDiskInfo (hardware health monitoring)&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;MyDisk focuses on &lt;strong&gt;historical disk usage logging over time&lt;/strong&gt;, rather than just real-time disk inspection or SMART health monitoring.&lt;/p&gt; &lt;p&gt;It is also:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Lightweight&lt;/li&gt; &lt;li&gt;Built entirely in Python&lt;/li&gt; &lt;li&gt;Very easy to use&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;GitHub:&lt;br /&gt; &lt;a href=\"https://github.com/IdiotStick2K/MyDisk\"&gt;https://github.com/IdiotStick2K/MyDisk&lt;/a&gt;&lt;/p&gt; &lt;p&gt;Screenshots:&lt;br /&gt; &lt;a href=\"https://github.com/IdiotStick2K/MyDisk/wiki/Screenshots\"&gt;https://github.com/IdiotStick2K/MyDisk/wiki/Screenshots&lt;/a&gt;&lt;/p&gt; &lt;p&gt;Download (.exe):&lt;br /&gt; &lt;a href=\"https://github.com/IdiotStick2K/MyDisk/releases/tag/Beta-0.3.1\"&gt;https://github.com/IdiotStick2K/MyDisk/releases/tag/Beta-0.3.1&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/IdiotStickWasTkn\"&gt; /u/IdiotStickWasTkn &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfw0df/mydisk_open_source_project/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfw0df/mydisk_open_source_project/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "safezip - A small, zero-dependency wrapper for secure ZIP extraction",
    "link": "https://www.reddit.com/r/Python/comments/1rfnali/safezip_a_small_zerodependency_wrapper_for_secure/",
    "published": "2026-02-26T21:38:11+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I wrote a small, zero-dependency wrapper for secure ZIP extraction.&lt;/p&gt; &lt;p&gt;&lt;a href=\"https://github.com/barseghyanartur/safezip\"&gt;https://github.com/barseghyanartur/safezip&lt;/a&gt; &lt;/p&gt; &lt;p&gt;&lt;strong&gt;What My Project Does&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;&lt;code&gt;safezip&lt;/code&gt; is a zero-dependency wrapper around Python's &lt;code&gt;zipfile&lt;/code&gt; module that makes secure ZIP extraction the default. It protects against:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;strong&gt;ZipSlip protection&lt;/strong&gt;: Blocks relative paths, absolute paths, Windows UNC paths, Unicode lookalike attacks, and null bytes in filenames.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;ZIP bomb prevention&lt;/strong&gt;: Enforces per-member and cumulative decompression ratio limits at stream time — not based on untrusted header values.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;ZIP64 consistency checks&lt;/strong&gt;: Crafted archives with inconsistent ZIP64 extra fields are rejected before decompression begins.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Symlink policy&lt;/strong&gt; — configurable: &lt;code&gt;REJECT&lt;/code&gt; (default), &lt;code&gt;IGNORE&lt;/code&gt;, or &lt;code&gt;RESOLVE_INTERNAL&lt;/code&gt; (full chain verification).&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Atomic writes&lt;/strong&gt;: Extracts to a temp file first and only moves it to the destination if all checks pass. If something fails, you don't end up with half-extracted junk on your disk.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Environment variable overrides&lt;/strong&gt;: All numeric limits can be set via &lt;code&gt;SAFEZIP_*&lt;/code&gt; environment variables for containerised deployments.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;It's meant to be an almost drop-in replacement. You can just do:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;from safezip import safe_extract safe_extract(&amp;quot;path/to/file.zip&amp;quot;, &amp;quot;/var/files/extracted/&amp;quot;) &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;If you need more control, there’s a &lt;code&gt;SafeZipFile&lt;/code&gt; context manager that lets you tweak limits or monitor security events.&lt;/p&gt; &lt;pre&gt;&lt;code&gt;from safezip import SafeZipFile with SafeZipFile(&amp;quot;path/to/file.zip&amp;quot;) as zf: print(zf.namelist()) zf.extractall(&amp;quot;/var/files/extracted/&amp;quot;) &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;strong&gt;Target Audience&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;If you're handling user uploads or processing ZIP files from untrusted sources, this might save you some headache. It's production-oriented but currently in beta, so feedback and edge cases are very welcome.&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Comparison&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;The standard library's &lt;code&gt;zipfile&lt;/code&gt; module historically wasn't safe to use on untrusted files. Even the official docs warn against &lt;code&gt;extractall()&lt;/code&gt; because of ZipSlip risks, and it doesn't do much to stop ZIP bombs from eating up your disk or memory. Python 3.12 did address some of this — &lt;code&gt;extractall()&lt;/code&gt; now strips path components that would escape the target directory — but it still leaves meaningful gaps: no ZIP bomb protection, no stream-time size enforcement, no symlink policy, no ZIP64 consistency checks, and no atomic writes. &lt;code&gt;safezip&lt;/code&gt; fills all of those. I got tired of writing the same boilerplate every time, so I packaged it up.&lt;/p&gt; &lt;p&gt;----&lt;/p&gt; &lt;p&gt;Documentation: &lt;a href=\"https://safezip.readthedocs.io/en/latest/\"&gt;https://safezip.readthedocs.io/en/latest/&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/barseghyanartur\"&gt; /u/barseghyanartur &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfnali/safezip_a_small_zerodependency_wrapper_for_secure/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfnali/safezip_a_small_zerodependency_wrapper_for_secure/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "I Made a Auto-complete form scratch in python and I decided to use family guy episodes as a database",
    "link": "https://www.reddit.com/r/Python/comments/1rfx38h/i_made_a_autocomplete_form_scratch_in_python_and/",
    "published": "2026-02-27T04:39:51+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I used just the first 6 episodes of season 1 as the database for testing and here is the outputs from the AI I got from it:&lt;/p&gt; &lt;ol&gt; &lt;li&gt;And you know what else? &amp;quot;it's got steam heat &amp;quot;i got steam heat &amp;quot;but i need your love to keep away the cold i got... &amp;quot; all right, break it up! what's going on here? your little peep show is over! we're taking back our men! peep show? i just do this for&lt;/li&gt; &lt;li&gt;would you like to meet him? would you like to see? yeah, i've never actually seen a baby being... oh, god! congratulations. it's a boy. wait a minute. i don't think we're through. oh, my god! is it twins? no. it's a map of europe. i confirmed everything with the birthday party planner...&lt;/li&gt; &lt;li&gt;lois, could you ask chris to pass the maple syrup? meg, could you tell chris that i'm sorry i ran you over and killed mr. shatner. don't worry. once i'm of this body cast, i'll do enough living for me and bill. honey, can't we go back to living in my closet&lt;/li&gt; &lt;/ol&gt; &lt;p&gt;There was more that I would like to post here but I am not on this sub reddit a lot so I don't know if it will get past the rules&lt;/p&gt; &lt;p&gt;Should I keep adding more episodes to the data set or should I leave this?&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/Dannyboi_91010\"&gt; /u/Dannyboi_91010 &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfx38h/i_made_a_autocomplete_form_scratch_in_python_and/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfx38h/i_made_a_autocomplete_form_scratch_in_python_and/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "[Project] NinoClicker v2.2: macOS High-Frequency Input Injection via Quartz CoreGraphics",
    "link": "https://www.reddit.com/r/Python/comments/1rg2o2z/project_ninoclicker_v22_macos_highfrequency_input/",
    "published": "2026-02-27T10:00:53+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;strong&gt;What My Project Does:&lt;/strong&gt; NinoClicker is a macOS-native automation tool that uses the &lt;code&gt;Quartz&lt;/code&gt; framework to perform direct hardware-level mouse event injection. It features a &amp;quot;Ghost HUD&amp;quot; telemetry overlay (built with PyQt6) that allows users to monitor Engine Load and CPS (Clicks Per Second) in real-time. It includes a &amp;quot;Global Panic&amp;quot; switch and &amp;quot;Ghost Mode&amp;quot; visibility toggles using &lt;code&gt;HIDSystemState&lt;/code&gt; listeners.&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Target Audience:&lt;/strong&gt; This is currently a &lt;strong&gt;toy project/proof-of-concept&lt;/strong&gt; for developers interested in macOS-specific input handling and UI overlays that bypass window focus-trapping. It’s perfect for testing stability in high-input environments (like clicker games).&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Comparison:&lt;/strong&gt; Unlike standard cross-platform libraries like &lt;code&gt;pyautogui&lt;/code&gt; or &lt;code&gt;pynput&lt;/code&gt;, which often suffer from input lag and &amp;quot;focus stealing&amp;quot; on macOS, NinoClicker uses:&lt;/p&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;Direct Quartz Injection:&lt;/strong&gt; Bypasses the standard event loop for higher CPS (20k+).&lt;/li&gt; &lt;li&gt;&lt;strong&gt;WindowTransparentForInput:&lt;/strong&gt; Allows the HUD to be visible without intercepting clicks meant for the background application.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;HIDSystemState Hotkeys:&lt;/strong&gt; Ensures the panic switch works even when the app isn't the &amp;quot;active&amp;quot; window.&lt;/li&gt; &lt;/ol&gt; &lt;p&gt;&lt;strong&gt;&lt;em&gt;Yes thats not how you write it&lt;/em&gt;&lt;/strong&gt; ↓&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Source Code:&lt;/strong&gt;&lt;a href=\"https://github.com/NinoTheNoob/Auto-Cliker\"&gt;https://github.com/NinoTheNoob/Auto-Cliker&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;em&gt;Verification/Proof&lt;/em&gt;&lt;/strong&gt; : &lt;a href=\"https://imgur.com/a/JDM29FT\"&gt;https://imgur.com/a/JDM29FT&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/Nino_life\"&gt; /u/Nino_life &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg2o2z/project_ninoclicker_v22_macos_highfrequency_input/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg2o2z/project_ninoclicker_v22_macos_highfrequency_input/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "I am finding people who are interested in coding.",
    "link": "https://www.reddit.com/r/Python/comments/1rg0vf0/i_am_finding_people_who_are_interested_in_coding/",
    "published": "2026-02-27T08:10:43+00:00",
    "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Join this discord server. This is your choice ,I'm just here to find people who are interested.&lt;/p&gt; &lt;p&gt;&lt;a href=\"https://discord.gg/6QmU9YXG\"&gt;https://discord.gg/6QmU9YXG&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/Ambitious-Treacle971\"&gt; /u/Ambitious-Treacle971 &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg0vf0/i_am_finding_people_who_are_interested_in_coding/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg0vf0/i_am_finding_people_who_are_interested_in_coding/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;",
    "source": "https://www.reddit.com/r/python/.rss"
  },
  {
    "title": "Show HN: RetroTick – Run classic Windows EXEs in the browser",
    "link": "https://retrotick.com/",
    "published": "Fri, 27 Feb 2026 13:06:50 +0000",
    "summary": "&lt;p&gt;RetroTick parses PE/NE/MZ binaries, emulates an x86 CPU, and stubs enough Win32/Win16/DOS APIs to run classics like FreeCell, Minesweeper, Solitaire and QBasic, entirely in the browser. Built with Preact + Vite + TypeScript.&lt;p&gt;Demo: &lt;a href=\"https://retrotick.com\" rel=\"nofollow\"&gt;https://retrotick.com&lt;/a&gt;&lt;p&gt;GitHub: &lt;a href=\"https://github.com/lqs/retrotick\" rel=\"nofollow\"&gt;https://github.com/lqs/retrotick&lt;/a&gt;&lt;/p&gt;\n&lt;hr /&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47180083\"&gt;https://news.ycombinator.com/item?id=47180083&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 20&lt;/p&gt;\n&lt;p&gt;# Comments: 3&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "Generative AI Use and Depressive Symptoms Among US Adults",
    "link": "https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2844128",
    "published": "Fri, 27 Feb 2026 13:02:56 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2844128\"&gt;https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2844128&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47180040\"&gt;https://news.ycombinator.com/item?id=47180040&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 7&lt;/p&gt;\n&lt;p&gt;# Comments: 3&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "PostmarketOS in 2026-02: generic kernels, bans use of generative AI",
    "link": "https://postmarketos.org/blog/2026/02/26/pmOS-update-2026-02/",
    "published": "Fri, 27 Feb 2026 12:01:36 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://postmarketos.org/blog/2026/02/26/pmOS-update-2026-02/\"&gt;https://postmarketos.org/blog/2026/02/26/pmOS-update-2026-02/&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47179553\"&gt;https://news.ycombinator.com/item?id=47179553&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 45&lt;/p&gt;\n&lt;p&gt;# Comments: 32&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "Lawmakers say US Military used laser to take down Border Protection drone in TX",
    "link": "https://apnews.com/article/military-laser-border-drone-texas-airport-55aaab7093f7d6dd174f909f3875001c",
    "published": "Fri, 27 Feb 2026 11:37:49 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://apnews.com/article/military-laser-border-drone-texas-airport-55aaab7093f7d6dd174f909f3875001c\"&gt;https://apnews.com/article/military-laser-border-drone-texas-airport-55aaab7093f7d6dd174f909f3875001c&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47179356\"&gt;https://news.ycombinator.com/item?id=47179356&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 41&lt;/p&gt;\n&lt;p&gt;# Comments: 37&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "F-Droid Board of Directors nominations 2026",
    "link": "https://f-droid.org/2026/02/26/board-of-directors-nominations.html",
    "published": "Fri, 27 Feb 2026 10:27:29 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://f-droid.org/2026/02/26/board-of-directors-nominations.html\"&gt;https://f-droid.org/2026/02/26/board-of-directors-nominations.html&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178863\"&gt;https://news.ycombinator.com/item?id=47178863&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 61&lt;/p&gt;\n&lt;p&gt;# Comments: 24&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "Dyson settles forced labour suit in landmark UK case",
    "link": "https://www.bbc.com/news/articles/cddnry8dnl7o",
    "published": "Fri, 27 Feb 2026 10:21:40 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://www.bbc.com/news/articles/cddnry8dnl7o\"&gt;https://www.bbc.com/news/articles/cddnry8dnl7o&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178836\"&gt;https://news.ycombinator.com/item?id=47178836&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 68&lt;/p&gt;\n&lt;p&gt;# Comments: 62&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "Breaking Free",
    "link": "https://www.forbrukerradet.no/breakingfree/",
    "published": "Fri, 27 Feb 2026 09:56:42 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://www.forbrukerradet.no/breakingfree/\"&gt;https://www.forbrukerradet.no/breakingfree/&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178678\"&gt;https://news.ycombinator.com/item?id=47178678&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 59&lt;/p&gt;\n&lt;p&gt;# Comments: 8&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "Get free Claude max 20x for open-source maintainers",
    "link": "https://claude.com/contact-sales/claude-for-oss",
    "published": "Fri, 27 Feb 2026 09:08:58 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://claude.com/contact-sales/claude-for-oss\"&gt;https://claude.com/contact-sales/claude-for-oss&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178371\"&gt;https://news.ycombinator.com/item?id=47178371&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 8&lt;/p&gt;\n&lt;p&gt;# Comments: 4&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "Working on Pharo Smalltalk: BPatterns: Rewrite Engine with Smalltalk Style",
    "link": "http://dionisiydk.blogspot.com/2026/02/bpatterns-rewrite-engine-with-smalltalk.html",
    "published": "Fri, 27 Feb 2026 09:04:48 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"http://dionisiydk.blogspot.com/2026/02/bpatterns-rewrite-engine-with-smalltalk.html\"&gt;http://dionisiydk.blogspot.com/2026/02/bpatterns-rewrite-engine-with-smalltalk.html&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178344\"&gt;https://news.ycombinator.com/item?id=47178344&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 28&lt;/p&gt;\n&lt;p&gt;# Comments: 1&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  },
  {
    "title": "Ubicloud (YC W24): Software Engineer – $95-$250K in Turkey, Netherlands, CA",
    "link": "https://www.ycombinator.com/companies/ubicloud/jobs/j4bntEJ-software-engineer",
    "published": "Fri, 27 Feb 2026 08:45:02 +0000",
    "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://www.ycombinator.com/companies/ubicloud/jobs/j4bntEJ-software-engineer\"&gt;https://www.ycombinator.com/companies/ubicloud/jobs/j4bntEJ-software-engineer&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178176\"&gt;https://news.ycombinator.com/item?id=47178176&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 0&lt;/p&gt;\n&lt;p&gt;# Comments: 0&lt;/p&gt;",
    "source": "https://hnrss.org/frontpage"
  }
]
</pre>


<p>
Ejemplo clasificando la salida
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> feedparser
<span style="color: #fb4934;">import</span> json

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">fetch_rss</span><span style="color: #fe8019;">(</span>url, max_entries=20<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Devuelve una lista de &#237;tems de un feed RSS/Atom."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">feed</span> = feedparser.parse<span style="color: #fe8019;">(</span>url<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">items</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> e <span style="color: #fb4934;">in</span> feed.entries<span style="color: #fe8019;">[</span>:max_entries<span style="color: #fe8019;">]</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   items.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">{</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"title"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"title"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"link"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"link"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"published"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"published"</span>, e.get<span style="color: #83a598;">(</span><span style="color: #b8bb26;">"updated"</span>, <span style="color: #b8bb26;">""</span><span style="color: #83a598;">)</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"summary"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"summary"</span>, e.get<span style="color: #83a598;">(</span><span style="color: #b8bb26;">"description"</span>, <span style="color: #b8bb26;">""</span><span style="color: #83a598;">)</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> items

<span style="color: #928374;"># </span><span style="color: #928374;">&#128313; Lista de feeds RSS / Atom
</span><span style="color: #83a598;">urls</span> = <span style="color: #fe8019;">[</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://www.reddit.com/r/python/.rss"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://hnrss.org/frontpage"</span>
<span style="color: #fe8019;">]</span>

<span style="color: #928374;">#  </span><span style="color: #928374;">Diccionario: una clave por feed
</span><span style="color: #83a598;">feeds_data</span> = <span style="color: #fe8019;">{}</span>

<span style="color: #fb4934;">for</span> url <span style="color: #fb4934;">in</span> urls:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">try</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">feeds_data</span><span style="color: #fe8019;">[</span>url<span style="color: #fe8019;">]</span> = fetch_rss<span style="color: #fe8019;">(</span>url, max_entries=10<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">except</span> <span style="color: #fabd2f;">Exception</span> <span style="color: #fb4934;">as</span> err:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">feeds_data</span><span style="color: #fe8019;">[</span>url<span style="color: #fe8019;">]</span> = <span style="color: #fe8019;">[</span><span style="color: #b16286;">{</span><span style="color: #b8bb26;">"error"</span>: <span style="color: #fe8019;">str</span><span style="color: #b8bb26;">(</span>err<span style="color: #b8bb26;">)</span><span style="color: #b16286;">}</span><span style="color: #fe8019;">]</span>

<span style="color: #928374;">#  </span><span style="color: #928374;">Salida legible en Org / consola
</span><span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>json.dumps<span style="color: #b16286;">(</span>feeds_data, indent=2, ensure_ascii=<span style="color: #d3869b;">False</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>

<pre class="example" id="orgc499d16">
{
  "https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada": [
    {
      "title": "Salinas Pliego lleva a TV Azteca a concurso mercantil, en plena pelea millonaria con acreedores de Estados Unidos",
      "link": "https://elpais.com/mexico/economia/2026-02-27/salinas-pliego-lleva-a-tv-azteca-a-concurso-mercantil-en-plena-pelea-millonaria-con-acreedores-de-estados-unidos.html",
      "published": "Fri, 27 Feb 2026 04:40:00 GMT",
      "summary": "El grupo asegura que recurrirá a este procedimiento para reordenar “de manera estructurada y equitativa” los pasivos de la televisora"
    },
    {
      "title": "Sheinbaum visitará Sinaloa en una señal de gobernabilidad tras la escalada de violencia",
      "link": "https://elpais.com/mexico/2026-02-27/sheinbaum-visitara-sinaloa-en-una-senal-de-gobernabilidad-tras-la-escalada-de-violencia.html",
      "published": "Fri, 27 Feb 2026 00:03:44 GMT",
      "summary": "La presidenta alista una visita de dos días al Estado que ha albergado la cruenta guerra entre facciones del cartel local"
    },
    {
      "title": "Centros LIBRE, la gran apuesta de la Secretaría de las Mujeres: “Aquí me dijeron que tenía derechos”",
      "link": "https://elpais.com/mexico/2026-02-27/centros-libre-la-gran-apuesta-de-la-secretaria-de-las-mujeres-aqui-me-dijeron-que-tenia-derechos.html",
      "published": "Fri, 27 Feb 2026 04:40:00 GMT",
      "summary": "Los 678 espacios comunitarios en el territorio mexicano brindan asesoría jurídica, atención psicológica y orientación por parte de trabajadoras sociales"
    },
    {
      "title": "El discreto silencio de Estados Unidos ante el ataque de una lancha en aguas cubanas",
      "link": "https://elpais.com/us/2026-02-27/el-discreto-silencio-de-estados-unidos-ante-el-ataque-de-una-lancha-en-aguas-cubanas.html",
      "published": "Fri, 27 Feb 2026 04:30:00 GMT",
      "summary": "El incidente se ha producido en un momento especialmente delicado en la relación entre Washington y La Habana"
    },
    {
      "title": "Un estadounidense, entre los cuatro muertos en la lancha interceptada por Cuba",
      "link": "https://elpais.com/us/2026-02-27/un-estadounidense-entre-los-cuatro-muertos-en-la-lancha-interceptada-por-cuba.html",
      "published": "Fri, 27 Feb 2026 00:38:40 GMT",
      "summary": "El Departamento de Estado confirma que uno de los seis heridos es también ciudadano"
    },
    {
      "title": "En las entrañas del Popocatépetl",
      "link": "https://elpais.com/mexico/2026-02-27/en-las-entranas-del-popocatepetl.html",
      "published": "Fri, 27 Feb 2026 04:40:00 GMT",
      "summary": "Un grupo de científicos de la Universidad Nacional Autónoma de México (UNAM) elabora la primera imagen tridimensional del interior del volcán que abarca hasta 18 km de profundidad desde el cráter"
    },
    {
      "title": "Sheinbaum reafirma ante Gianni Infantino el compromiso de México como sede del Mundial",
      "link": "https://elpais.com/mexico/2026-02-27/sheinbaum-reafirma-ante-gianni-infantino-el-compromiso-de-mexico-como-sede-del-mundial.html",
      "published": "Fri, 27 Feb 2026 04:28:24 GMT",
      "summary": "El presidente de la FIFA afirmó esta semana que el torneo será un evento fantástico y que confía en el Gobierno mexicano"
    },
    {
      "title": "Una congresista colombiana denuncia las detenciones de sus connacionales en Estados Unidos: “Estamos ante una crisis humanitaria”",
      "link": "https://elpais.com/us/migracion/2026-02-27/una-congresista-colombiana-denuncia-las-detenciones-de-sus-connacionales-en-estados-unidos-estamos-ante-una-crisis-humanitaria.html",
      "published": "Fri, 27 Feb 2026 04:30:00 GMT",
      "summary": "Carmen Felisa Ramírez Boscán, representante de los colombianos en el exterior, pide al presidente Gustavo Petro declarar un estado de emergencia para acelerar los procesos de deportación desde EE UU"
    },
    {
      "title": "Pakistán bombardea Kabul y se declara en “guerra abierta” con Afganistán",
      "link": "https://elpais.com/internacional/2026-02-27/pakistan-bombardea-kabul-y-se-declara-en-guerra-abierta-con-afganistan.html",
      "published": "Fri, 27 Feb 2026 10:29:47 GMT",
      "summary": "El ataque representa la mayor escalada del conflicto entre los dos países vecinos desde el regreso de los talibanes al poder"
    },
    {
      "title": "Un adolescente de 15 años, desaparecido en 1986, es reconocido oficialmente como víctima de la dictadura de Pinochet",
      "link": "https://elpais.com/chile/2026-02-27/un-adolescente-de-15-anos-desaparecido-en-1986-es-reconocido-oficialmente-como-victima-de-la-dictadura-de-pinochet.html",
      "published": "Fri, 27 Feb 2026 04:40:00 GMT",
      "summary": "A Luis Alberto Pino Soto, estudiante de un liceo en Arica, en el norte de Chile, se le perdió el rastro hace 40 años, en la víspera de una protesta nacional contra el régimen"
    }
  ],
  "https://www.reddit.com/r/python/.rss": [
    {
      "title": "Sunday Daily Thread: What's everyone working on this week?",
      "link": "https://www.reddit.com/r/Python/comments/1rb6o4p/sunday_daily_thread_whats_everyone_working_on/",
      "published": "2026-02-22T00:00:34+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h1&gt;Weekly Thread: What's Everyone Working On This Week? 🛠️&lt;/h1&gt; &lt;p&gt;Hello &lt;a href=\"https://www.reddit.com/r/Python\"&gt;/r/Python&lt;/a&gt;! It's time to share what you've been working on! Whether it's a work-in-progress, a completed masterpiece, or just a rough idea, let us know what you're up to!&lt;/p&gt; &lt;h2&gt;How it Works:&lt;/h2&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;Show &amp;amp; Tell&lt;/strong&gt;: Share your current projects, completed works, or future ideas.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Discuss&lt;/strong&gt;: Get feedback, find collaborators, or just chat about your project.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Inspire&lt;/strong&gt;: Your project might inspire someone else, just as you might get inspired here.&lt;/li&gt; &lt;/ol&gt; &lt;h2&gt;Guidelines:&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;Feel free to include as many details as you'd like. Code snippets, screenshots, and links are all welcome.&lt;/li&gt; &lt;li&gt;Whether it's your job, your hobby, or your passion project, all Python-related work is welcome here.&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Example Shares:&lt;/h2&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;Machine Learning Model&lt;/strong&gt;: Working on a ML model to predict stock prices. Just cracked a 90% accuracy rate!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Web Scraping&lt;/strong&gt;: Built a script to scrape and analyze news articles. It's helped me understand media bias better.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Automation&lt;/strong&gt;: Automated my home lighting with Python and Raspberry Pi. My life has never been easier!&lt;/li&gt; &lt;/ol&gt; &lt;p&gt;Let's build and grow together! Share your journey and learn from others. Happy coding! 🌟&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/AutoModerator\"&gt; /u/AutoModerator &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rb6o4p/sunday_daily_thread_whats_everyone_working_on/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rb6o4p/sunday_daily_thread_whats_everyone_working_on/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "Friday Daily Thread: r/Python Meta and Free-Talk Fridays",
      "link": "https://www.reddit.com/r/Python/comments/1rfqxve/friday_daily_thread_rpython_meta_and_freetalk/",
      "published": "2026-02-27T00:00:46+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h1&gt;Weekly Thread: Meta Discussions and Free Talk Friday 🎙️&lt;/h1&gt; &lt;p&gt;Welcome to Free Talk Friday on &lt;a href=\"https://www.reddit.com/r/Python\"&gt;/r/Python&lt;/a&gt;! This is the place to discuss the &lt;a href=\"https://www.reddit.com/r/Python\"&gt;r/Python&lt;/a&gt; community (meta discussions), Python news, projects, or anything else Python-related!&lt;/p&gt; &lt;h2&gt;How it Works:&lt;/h2&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;Open Mic&lt;/strong&gt;: Share your thoughts, questions, or anything you'd like related to Python or the community.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Community Pulse&lt;/strong&gt;: Discuss what you feel is working well or what could be improved in the &lt;a href=\"https://www.reddit.com/r/python\"&gt;/r/python&lt;/a&gt; community.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;News &amp;amp; Updates&lt;/strong&gt;: Keep up-to-date with the latest in Python and share any news you find interesting.&lt;/li&gt; &lt;/ol&gt; &lt;h2&gt;Guidelines:&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;All topics should be related to Python or the &lt;a href=\"https://www.reddit.com/r/python\"&gt;/r/python&lt;/a&gt; community.&lt;/li&gt; &lt;li&gt;Be respectful and follow Reddit's &lt;a href=\"https://www.redditinc.com/policies/content-policy\"&gt;Code of Conduct&lt;/a&gt;.&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Example Topics:&lt;/h2&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;New Python Release&lt;/strong&gt;: What do you think about the new features in Python 3.11?&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Community Events&lt;/strong&gt;: Any Python meetups or webinars coming up?&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Learning Resources&lt;/strong&gt;: Found a great Python tutorial? Share it here!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Job Market&lt;/strong&gt;: How has Python impacted your career?&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Hot Takes&lt;/strong&gt;: Got a controversial Python opinion? Let's hear it!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Community Ideas&lt;/strong&gt;: Something you'd like to see us do? tell us.&lt;/li&gt; &lt;/ol&gt; &lt;p&gt;Let's keep the conversation going. Happy discussing! 🌟&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/AutoModerator\"&gt; /u/AutoModerator &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfqxve/friday_daily_thread_rpython_meta_and_freetalk/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfqxve/friday_daily_thread_rpython_meta_and_freetalk/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "Porn in Conda directory",
      "link": "https://www.reddit.com/r/Python/comments/1rfefy7/porn_in_conda_directory/",
      "published": "2026-02-26T16:16:38+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Okay, I am flustered here. Today, at work, I attempted to open up YouTube from within the Microsoft search menu. To my shock and horror, the first suggested app was “Youporn.” I don’t watch porn on my work pc.&lt;/p&gt; &lt;p&gt;I looked at the file location and lo and behold, it’s a MS-DOS application file found within Anaconda3\\pkgs\\protego\\info\\test\\tests\\test_data&lt;/p&gt; &lt;p&gt;WTF?!&lt;/p&gt; &lt;p&gt;Anyone familiar with the Protego library? What is going on here? I can only imagine if my IT administrator or boss saw this pop up on my windows search.&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/suitupyo\"&gt; /u/suitupyo &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfefy7/porn_in_conda_directory/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfefy7/porn_in_conda_directory/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "Which Python project made you realize how powerful the language is?",
      "link": "https://www.reddit.com/r/Python/comments/1rg3mwl/which_python_project_made_you_realize_how/",
      "published": "2026-02-27T10:57:24+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Could be anything — automation, a quick data script, a web app, or even a beginner-friendly tool — Python’s simplicity usually hits instantly.&lt;/p&gt; &lt;p&gt;What was the project that made you appreciate Python’s magic?&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/itsme2019asalways\"&gt; /u/itsme2019asalways &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg3mwl/which_python_project_made_you_realize_how/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg3mwl/which_python_project_made_you_realize_how/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "HowBoutNo: A middleware that lets you block unwanted traffic",
      "link": "https://www.reddit.com/r/Python/comments/1rg7lx9/howboutno_a_middleware_that_lets_you_block/",
      "published": "2026-02-27T14:06:29+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;What My Project Does: HowBoutNo is an ASGI middleware served as a python package that lets you block unwanted traffic on your web apps based on region (country and continent), ASNs, reverse DNS hostnames, proxy IP and IPs associated with hostings and datacenters, and IPs from public blocklists. It's built in Pure ASGI and is compatible with all ASGI frameworks like FastAPI, Starlette etc. (and WSGI too if you use an adapter). It is highly customizable, you can use any combination of blocking logic, add exception IPs and paths, customise block responses and more!&lt;/p&gt; &lt;p&gt;Target Audience: Indie developers. It can be used in production at the moment and would work, but I'd recommend waiting a bit since it's extremely new and would take some time to be stable.&lt;/p&gt; &lt;p&gt;Comparison: Alternatives like Cloudflare exist, but it's different as it provides you control at the application level and since it's completely open source, it avoids corporate BS.&lt;/p&gt; &lt;p&gt;Source code and guide: &lt;a href=\"https://github.com/sudeep-alt/HowBoutNo\"&gt;https://github.com/sudeep-alt/HowBoutNo&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/randomguy054\"&gt; /u/randomguy054 &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg7lx9/howboutno_a_middleware_that_lets_you_block/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg7lx9/howboutno_a_middleware_that_lets_you_block/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "MyDisk Open Source Project",
      "link": "https://www.reddit.com/r/Python/comments/1rfw0df/mydisk_open_source_project/",
      "published": "2026-02-27T03:46:12+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h1&gt;MyDisk – Disk Usage Monitoring &amp;amp; Analytics Tool&lt;/h1&gt; &lt;p&gt;I would like to introduce my first Python application!&lt;/p&gt; &lt;p&gt;MyDisk is a Windows desktop application built in Python using Tkinter and ttkbootstrap. It’s a storage monitoring and analytics tool designed for users who want visibility into disk usage over time.&lt;/p&gt; &lt;h1&gt;What My Project Does&lt;/h1&gt; &lt;p&gt;Core features:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Configurable background logger that scans disk usage at user-defined intervals (can be turned off)&lt;/li&gt; &lt;li&gt;Hardware information scanner that scans basic information&lt;/li&gt; &lt;li&gt;Multiple graphs for visualizing storage trends&lt;/li&gt; &lt;li&gt;Log data editor to manage logged data points&lt;/li&gt; &lt;li&gt;Ongoing feature updates constantly improving the app!&lt;/li&gt; &lt;/ul&gt; &lt;h1&gt;Target Audience&lt;/h1&gt; &lt;p&gt;This application is intended for:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Users who enjoy tracking system metrics&lt;/li&gt; &lt;li&gt;Users who like data analytics&lt;/li&gt; &lt;li&gt;People who want visibility into disk usage&lt;/li&gt; &lt;li&gt;Primarily a practical utility project, but still under active development (Beta)&lt;/li&gt; &lt;/ul&gt; &lt;h1&gt;Comparison to Existing Alternatives&lt;/h1&gt; &lt;p&gt;Unlike tools such as:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;WinDirStat (snapshot-based disk usage)&lt;/li&gt; &lt;li&gt;CrystalDiskInfo (hardware health monitoring)&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;MyDisk focuses on &lt;strong&gt;historical disk usage logging over time&lt;/strong&gt;, rather than just real-time disk inspection or SMART health monitoring.&lt;/p&gt; &lt;p&gt;It is also:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Lightweight&lt;/li&gt; &lt;li&gt;Built entirely in Python&lt;/li&gt; &lt;li&gt;Very easy to use&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;GitHub:&lt;br /&gt; &lt;a href=\"https://github.com/IdiotStick2K/MyDisk\"&gt;https://github.com/IdiotStick2K/MyDisk&lt;/a&gt;&lt;/p&gt; &lt;p&gt;Screenshots:&lt;br /&gt; &lt;a href=\"https://github.com/IdiotStick2K/MyDisk/wiki/Screenshots\"&gt;https://github.com/IdiotStick2K/MyDisk/wiki/Screenshots&lt;/a&gt;&lt;/p&gt; &lt;p&gt;Download (.exe):&lt;br /&gt; &lt;a href=\"https://github.com/IdiotStick2K/MyDisk/releases/tag/Beta-0.3.1\"&gt;https://github.com/IdiotStick2K/MyDisk/releases/tag/Beta-0.3.1&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/IdiotStickWasTkn\"&gt; /u/IdiotStickWasTkn &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfw0df/mydisk_open_source_project/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfw0df/mydisk_open_source_project/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "safezip - A small, zero-dependency wrapper for secure ZIP extraction",
      "link": "https://www.reddit.com/r/Python/comments/1rfnali/safezip_a_small_zerodependency_wrapper_for_secure/",
      "published": "2026-02-26T21:38:11+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I wrote a small, zero-dependency wrapper for secure ZIP extraction.&lt;/p&gt; &lt;p&gt;&lt;a href=\"https://github.com/barseghyanartur/safezip\"&gt;https://github.com/barseghyanartur/safezip&lt;/a&gt; &lt;/p&gt; &lt;p&gt;&lt;strong&gt;What My Project Does&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;&lt;code&gt;safezip&lt;/code&gt; is a zero-dependency wrapper around Python's &lt;code&gt;zipfile&lt;/code&gt; module that makes secure ZIP extraction the default. It protects against:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;strong&gt;ZipSlip protection&lt;/strong&gt;: Blocks relative paths, absolute paths, Windows UNC paths, Unicode lookalike attacks, and null bytes in filenames.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;ZIP bomb prevention&lt;/strong&gt;: Enforces per-member and cumulative decompression ratio limits at stream time — not based on untrusted header values.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;ZIP64 consistency checks&lt;/strong&gt;: Crafted archives with inconsistent ZIP64 extra fields are rejected before decompression begins.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Symlink policy&lt;/strong&gt; — configurable: &lt;code&gt;REJECT&lt;/code&gt; (default), &lt;code&gt;IGNORE&lt;/code&gt;, or &lt;code&gt;RESOLVE_INTERNAL&lt;/code&gt; (full chain verification).&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Atomic writes&lt;/strong&gt;: Extracts to a temp file first and only moves it to the destination if all checks pass. If something fails, you don't end up with half-extracted junk on your disk.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Environment variable overrides&lt;/strong&gt;: All numeric limits can be set via &lt;code&gt;SAFEZIP_*&lt;/code&gt; environment variables for containerised deployments.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;It's meant to be an almost drop-in replacement. You can just do:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;from safezip import safe_extract safe_extract(&amp;quot;path/to/file.zip&amp;quot;, &amp;quot;/var/files/extracted/&amp;quot;) &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;If you need more control, there’s a &lt;code&gt;SafeZipFile&lt;/code&gt; context manager that lets you tweak limits or monitor security events.&lt;/p&gt; &lt;pre&gt;&lt;code&gt;from safezip import SafeZipFile with SafeZipFile(&amp;quot;path/to/file.zip&amp;quot;) as zf: print(zf.namelist()) zf.extractall(&amp;quot;/var/files/extracted/&amp;quot;) &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;strong&gt;Target Audience&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;If you're handling user uploads or processing ZIP files from untrusted sources, this might save you some headache. It's production-oriented but currently in beta, so feedback and edge cases are very welcome.&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Comparison&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;The standard library's &lt;code&gt;zipfile&lt;/code&gt; module historically wasn't safe to use on untrusted files. Even the official docs warn against &lt;code&gt;extractall()&lt;/code&gt; because of ZipSlip risks, and it doesn't do much to stop ZIP bombs from eating up your disk or memory. Python 3.12 did address some of this — &lt;code&gt;extractall()&lt;/code&gt; now strips path components that would escape the target directory — but it still leaves meaningful gaps: no ZIP bomb protection, no stream-time size enforcement, no symlink policy, no ZIP64 consistency checks, and no atomic writes. &lt;code&gt;safezip&lt;/code&gt; fills all of those. I got tired of writing the same boilerplate every time, so I packaged it up.&lt;/p&gt; &lt;p&gt;----&lt;/p&gt; &lt;p&gt;Documentation: &lt;a href=\"https://safezip.readthedocs.io/en/latest/\"&gt;https://safezip.readthedocs.io/en/latest/&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/barseghyanartur\"&gt; /u/barseghyanartur &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfnali/safezip_a_small_zerodependency_wrapper_for_secure/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfnali/safezip_a_small_zerodependency_wrapper_for_secure/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "I Made a Auto-complete form scratch in python and I decided to use family guy episodes as a database",
      "link": "https://www.reddit.com/r/Python/comments/1rfx38h/i_made_a_autocomplete_form_scratch_in_python_and/",
      "published": "2026-02-27T04:39:51+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I used just the first 6 episodes of season 1 as the database for testing and here is the outputs from the AI I got from it:&lt;/p&gt; &lt;ol&gt; &lt;li&gt;And you know what else? &amp;quot;it's got steam heat &amp;quot;i got steam heat &amp;quot;but i need your love to keep away the cold i got... &amp;quot; all right, break it up! what's going on here? your little peep show is over! we're taking back our men! peep show? i just do this for&lt;/li&gt; &lt;li&gt;would you like to meet him? would you like to see? yeah, i've never actually seen a baby being... oh, god! congratulations. it's a boy. wait a minute. i don't think we're through. oh, my god! is it twins? no. it's a map of europe. i confirmed everything with the birthday party planner...&lt;/li&gt; &lt;li&gt;lois, could you ask chris to pass the maple syrup? meg, could you tell chris that i'm sorry i ran you over and killed mr. shatner. don't worry. once i'm of this body cast, i'll do enough living for me and bill. honey, can't we go back to living in my closet&lt;/li&gt; &lt;/ol&gt; &lt;p&gt;There was more that I would like to post here but I am not on this sub reddit a lot so I don't know if it will get past the rules&lt;/p&gt; &lt;p&gt;Should I keep adding more episodes to the data set or should I leave this?&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/Dannyboi_91010\"&gt; /u/Dannyboi_91010 &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfx38h/i_made_a_autocomplete_form_scratch_in_python_and/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rfx38h/i_made_a_autocomplete_form_scratch_in_python_and/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "[Project] NinoClicker v2.2: macOS High-Frequency Input Injection via Quartz CoreGraphics",
      "link": "https://www.reddit.com/r/Python/comments/1rg2o2z/project_ninoclicker_v22_macos_highfrequency_input/",
      "published": "2026-02-27T10:00:53+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;strong&gt;What My Project Does:&lt;/strong&gt; NinoClicker is a macOS-native automation tool that uses the &lt;code&gt;Quartz&lt;/code&gt; framework to perform direct hardware-level mouse event injection. It features a &amp;quot;Ghost HUD&amp;quot; telemetry overlay (built with PyQt6) that allows users to monitor Engine Load and CPS (Clicks Per Second) in real-time. It includes a &amp;quot;Global Panic&amp;quot; switch and &amp;quot;Ghost Mode&amp;quot; visibility toggles using &lt;code&gt;HIDSystemState&lt;/code&gt; listeners.&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Target Audience:&lt;/strong&gt; This is currently a &lt;strong&gt;toy project/proof-of-concept&lt;/strong&gt; for developers interested in macOS-specific input handling and UI overlays that bypass window focus-trapping. It’s perfect for testing stability in high-input environments (like clicker games).&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Comparison:&lt;/strong&gt; Unlike standard cross-platform libraries like &lt;code&gt;pyautogui&lt;/code&gt; or &lt;code&gt;pynput&lt;/code&gt;, which often suffer from input lag and &amp;quot;focus stealing&amp;quot; on macOS, NinoClicker uses:&lt;/p&gt; &lt;ol&gt; &lt;li&gt;&lt;strong&gt;Direct Quartz Injection:&lt;/strong&gt; Bypasses the standard event loop for higher CPS (20k+).&lt;/li&gt; &lt;li&gt;&lt;strong&gt;WindowTransparentForInput:&lt;/strong&gt; Allows the HUD to be visible without intercepting clicks meant for the background application.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;HIDSystemState Hotkeys:&lt;/strong&gt; Ensures the panic switch works even when the app isn't the &amp;quot;active&amp;quot; window.&lt;/li&gt; &lt;/ol&gt; &lt;p&gt;&lt;strong&gt;&lt;em&gt;Yes thats not how you write it&lt;/em&gt;&lt;/strong&gt; ↓&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Source Code:&lt;/strong&gt;&lt;a href=\"https://github.com/NinoTheNoob/Auto-Cliker\"&gt;https://github.com/NinoTheNoob/Auto-Cliker&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;em&gt;Verification/Proof&lt;/em&gt;&lt;/strong&gt; : &lt;a href=\"https://imgur.com/a/JDM29FT\"&gt;https://imgur.com/a/JDM29FT&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/Nino_life\"&gt; /u/Nino_life &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg2o2z/project_ninoclicker_v22_macos_highfrequency_input/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg2o2z/project_ninoclicker_v22_macos_highfrequency_input/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    },
    {
      "title": "I am finding people who are interested in coding.",
      "link": "https://www.reddit.com/r/Python/comments/1rg0vf0/i_am_finding_people_who_are_interested_in_coding/",
      "published": "2026-02-27T08:10:43+00:00",
      "summary": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Join this discord server. This is your choice ,I'm just here to find people who are interested.&lt;/p&gt; &lt;p&gt;&lt;a href=\"https://discord.gg/6QmU9YXG\"&gt;https://discord.gg/6QmU9YXG&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=\"https://www.reddit.com/user/Ambitious-Treacle971\"&gt; /u/Ambitious-Treacle971 &lt;/a&gt; &lt;br /&gt; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg0vf0/i_am_finding_people_who_are_interested_in_coding/\"&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=\"https://www.reddit.com/r/Python/comments/1rg0vf0/i_am_finding_people_who_are_interested_in_coding/\"&gt;[comments]&lt;/a&gt;&lt;/span&gt;"
    }
  ],
  "https://hnrss.org/frontpage": [
    {
      "title": "Show HN: RetroTick – Run classic Windows EXEs in the browser",
      "link": "https://retrotick.com/",
      "published": "Fri, 27 Feb 2026 13:06:50 +0000",
      "summary": "&lt;p&gt;RetroTick parses PE/NE/MZ binaries, emulates an x86 CPU, and stubs enough Win32/Win16/DOS APIs to run classics like FreeCell, Minesweeper, Solitaire and QBasic, entirely in the browser. Built with Preact + Vite + TypeScript.&lt;p&gt;Demo: &lt;a href=\"https://retrotick.com\" rel=\"nofollow\"&gt;https://retrotick.com&lt;/a&gt;&lt;p&gt;GitHub: &lt;a href=\"https://github.com/lqs/retrotick\" rel=\"nofollow\"&gt;https://github.com/lqs/retrotick&lt;/a&gt;&lt;/p&gt;\n&lt;hr /&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47180083\"&gt;https://news.ycombinator.com/item?id=47180083&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 20&lt;/p&gt;\n&lt;p&gt;# Comments: 3&lt;/p&gt;"
    },
    {
      "title": "Generative AI Use and Depressive Symptoms Among US Adults",
      "link": "https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2844128",
      "published": "Fri, 27 Feb 2026 13:02:56 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2844128\"&gt;https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2844128&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47180040\"&gt;https://news.ycombinator.com/item?id=47180040&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 7&lt;/p&gt;\n&lt;p&gt;# Comments: 3&lt;/p&gt;"
    },
    {
      "title": "PostmarketOS in 2026-02: generic kernels, bans use of generative AI",
      "link": "https://postmarketos.org/blog/2026/02/26/pmOS-update-2026-02/",
      "published": "Fri, 27 Feb 2026 12:01:36 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://postmarketos.org/blog/2026/02/26/pmOS-update-2026-02/\"&gt;https://postmarketos.org/blog/2026/02/26/pmOS-update-2026-02/&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47179553\"&gt;https://news.ycombinator.com/item?id=47179553&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 45&lt;/p&gt;\n&lt;p&gt;# Comments: 32&lt;/p&gt;"
    },
    {
      "title": "Lawmakers say US Military used laser to take down Border Protection drone in TX",
      "link": "https://apnews.com/article/military-laser-border-drone-texas-airport-55aaab7093f7d6dd174f909f3875001c",
      "published": "Fri, 27 Feb 2026 11:37:49 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://apnews.com/article/military-laser-border-drone-texas-airport-55aaab7093f7d6dd174f909f3875001c\"&gt;https://apnews.com/article/military-laser-border-drone-texas-airport-55aaab7093f7d6dd174f909f3875001c&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47179356\"&gt;https://news.ycombinator.com/item?id=47179356&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 41&lt;/p&gt;\n&lt;p&gt;# Comments: 37&lt;/p&gt;"
    },
    {
      "title": "F-Droid Board of Directors nominations 2026",
      "link": "https://f-droid.org/2026/02/26/board-of-directors-nominations.html",
      "published": "Fri, 27 Feb 2026 10:27:29 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://f-droid.org/2026/02/26/board-of-directors-nominations.html\"&gt;https://f-droid.org/2026/02/26/board-of-directors-nominations.html&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178863\"&gt;https://news.ycombinator.com/item?id=47178863&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 61&lt;/p&gt;\n&lt;p&gt;# Comments: 24&lt;/p&gt;"
    },
    {
      "title": "Dyson settles forced labour suit in landmark UK case",
      "link": "https://www.bbc.com/news/articles/cddnry8dnl7o",
      "published": "Fri, 27 Feb 2026 10:21:40 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://www.bbc.com/news/articles/cddnry8dnl7o\"&gt;https://www.bbc.com/news/articles/cddnry8dnl7o&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178836\"&gt;https://news.ycombinator.com/item?id=47178836&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 68&lt;/p&gt;\n&lt;p&gt;# Comments: 62&lt;/p&gt;"
    },
    {
      "title": "Breaking Free",
      "link": "https://www.forbrukerradet.no/breakingfree/",
      "published": "Fri, 27 Feb 2026 09:56:42 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://www.forbrukerradet.no/breakingfree/\"&gt;https://www.forbrukerradet.no/breakingfree/&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178678\"&gt;https://news.ycombinator.com/item?id=47178678&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 59&lt;/p&gt;\n&lt;p&gt;# Comments: 8&lt;/p&gt;"
    },
    {
      "title": "Get free Claude max 20x for open-source maintainers",
      "link": "https://claude.com/contact-sales/claude-for-oss",
      "published": "Fri, 27 Feb 2026 09:08:58 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://claude.com/contact-sales/claude-for-oss\"&gt;https://claude.com/contact-sales/claude-for-oss&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178371\"&gt;https://news.ycombinator.com/item?id=47178371&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 8&lt;/p&gt;\n&lt;p&gt;# Comments: 4&lt;/p&gt;"
    },
    {
      "title": "Working on Pharo Smalltalk: BPatterns: Rewrite Engine with Smalltalk Style",
      "link": "http://dionisiydk.blogspot.com/2026/02/bpatterns-rewrite-engine-with-smalltalk.html",
      "published": "Fri, 27 Feb 2026 09:04:48 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"http://dionisiydk.blogspot.com/2026/02/bpatterns-rewrite-engine-with-smalltalk.html\"&gt;http://dionisiydk.blogspot.com/2026/02/bpatterns-rewrite-engine-with-smalltalk.html&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178344\"&gt;https://news.ycombinator.com/item?id=47178344&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 28&lt;/p&gt;\n&lt;p&gt;# Comments: 1&lt;/p&gt;"
    },
    {
      "title": "Ubicloud (YC W24): Software Engineer – $95-$250K in Turkey, Netherlands, CA",
      "link": "https://www.ycombinator.com/companies/ubicloud/jobs/j4bntEJ-software-engineer",
      "published": "Fri, 27 Feb 2026 08:45:02 +0000",
      "summary": "&lt;p&gt;Article URL: &lt;a href=\"https://www.ycombinator.com/companies/ubicloud/jobs/j4bntEJ-software-engineer\"&gt;https://www.ycombinator.com/companies/ubicloud/jobs/j4bntEJ-software-engineer&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Comments URL: &lt;a href=\"https://news.ycombinator.com/item?id=47178176\"&gt;https://news.ycombinator.com/item?id=47178176&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Points: 0&lt;/p&gt;\n&lt;p&gt;# Comments: 0&lt;/p&gt;"
    }
  ]
}
</pre>


<p>
Guardar en json
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> feedparser
<span style="color: #fb4934;">import</span> json

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">fetch_rss</span><span style="color: #fe8019;">(</span>url, max_entries=20<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Devuelve una lista de &#237;tems de un feed RSS/Atom."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">feed</span> = feedparser.parse<span style="color: #fe8019;">(</span>url<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">items</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> e <span style="color: #fb4934;">in</span> feed.entries<span style="color: #fe8019;">[</span>:max_entries<span style="color: #fe8019;">]</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   items.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">{</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"title"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"title"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"link"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"link"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"published"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"published"</span>, e.get<span style="color: #83a598;">(</span><span style="color: #b8bb26;">"updated"</span>, <span style="color: #b8bb26;">""</span><span style="color: #83a598;">)</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"summary"</span>: e.get<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"summary"</span>, e.get<span style="color: #83a598;">(</span><span style="color: #b8bb26;">"description"</span>, <span style="color: #b8bb26;">""</span><span style="color: #83a598;">)</span><span style="color: #b8bb26;">)</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> items

<span style="color: #928374;"># </span><span style="color: #928374;">&#128313; Lista de feeds RSS / Atom
</span><span style="color: #83a598;">urls</span> = <span style="color: #fe8019;">[</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://feeds.elpais.com/mrss-s/pages/ep/site/elpais.com/section/mexico/portada"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://www.reddit.com/r/python/.rss"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"https://hnrss.org/frontpage"</span>
<span style="color: #fe8019;">]</span>

<span style="color: #928374;">#  </span><span style="color: #928374;">Diccionario: una clave por feed
</span><span style="color: #83a598;">feeds_data</span> = <span style="color: #fe8019;">{}</span>

<span style="color: #fb4934;">for</span> url <span style="color: #fb4934;">in</span> urls:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">try</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">feeds_data</span><span style="color: #fe8019;">[</span>url<span style="color: #fe8019;">]</span> = fetch_rss<span style="color: #fe8019;">(</span>url, max_entries=10<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">except</span> <span style="color: #fabd2f;">Exception</span> <span style="color: #fb4934;">as</span> err:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">feeds_data</span><span style="color: #fe8019;">[</span>url<span style="color: #fe8019;">]</span> = <span style="color: #fe8019;">[</span><span style="color: #b16286;">{</span><span style="color: #b8bb26;">"error"</span>: <span style="color: #fe8019;">str</span><span style="color: #b8bb26;">(</span>err<span style="color: #b8bb26;">)</span><span style="color: #b16286;">}</span><span style="color: #fe8019;">]</span>

<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   
<span style="color: #fb4934;">with</span> <span style="color: #fe8019;">open</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"data.json"</span>, <span style="color: #b8bb26;">"w"</span>, encoding=<span style="color: #b8bb26;">"utf-8"</span><span style="color: #fe8019;">)</span> <span style="color: #fb4934;">as</span> f:
<span style="background-color: #3c3836;"> </span>   json.dump<span style="color: #fe8019;">(</span>feeds_data, f, indent=2, ensure_ascii=<span style="color: #d3869b;">False</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   
<span style="color: #928374;">#  </span><span style="color: #928374;">Salida legible en Org / consola
</span><span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Salida del JSON"</span><span style="color: #fe8019;">)</span>
</pre>
</div>

<pre class="example">
Salida del JSON
</pre>
</div>
</div>
<div id="outline-container-org3fe8111" class="outline-3">
<h3 id="org3fe8111">Limpieza de texto (normalización para el IRS)</h3>
<div class="outline-text-3" id="text-org3fe8111">
<p>
Los feeds RSS suelen incluir en título y resumen <b>HTML</b> (etiquetas <code>&lt;p&gt;</code>, <code>&lt;a&gt;</code>,
etc.), mayúsculas/minúsculas mezcladas y signos de puntuación. Si el IRS
busca la palabra “python” en el texto crudo, no encontrará “Python” ni
“&lt;em&gt;python&lt;/em&gt;”. La <b>normalización</b> (limpieza) hace que todos los documentos
y la consulta compartan el mismo “alfabeto”: minúsculas, sin HTML, sin
caracteres que no aporten para la búsqueda. Así la comparación consulta–documento
es consistente y el <b>modelo booleano</b> (palabras exactas) y el <b>vectorial</b> (conteo
de términos) pueden aplicarse sobre una representación uniforme del texto.
</p>


<ul class="org-ul">
<li><b>IRS</b>: la normalización es una etapa típica de <b>indexación</b>; el índice se
construye sobre el texto limpio, no sobre el raw.</li>
<li><b>RSS</b>: los campos <code>title</code> y <code>summary~/~description</code> suelen venir en HTML;
<code>text_clean</code> es la versión “indexable” de ese contenido.</li>
<li><b>Código</b>: <code>clean_text</code> transforma una cadena en texto normalizado;
<code>normalize_items</code> añade a cada documento de la colección el campo <code>text_clean</code>
(título + resumen concatenados y limpios).</li>
</ul>

<p>
clean<sub>text</sub>(text)~: (1) quita etiquetas HTML con <code>re.sub(r"&lt;[^&gt;]+&gt;", " ", text)</code>;
(2) deja solo letras, números y espacios con <code>re.sub(r"[^\w\s]", " ", text,
flags=re.UNICODE)</code>; (3) colapsa espacios y pasa a minúsculas con
<code>.strip().lower()</code>. El resultado es una sola cadena en minúsculas, sin HTML ni
puntuación, lista para comparar con la consulta. <code>normalize_items(items)</code>
recorre cada ítem de la colección, concatena título y resumen limpios en
<code>text_clean</code> y modifica el ítem in-place. A partir de aquí, la <b>recuperación</b>
(booleana o rankeada) usará <code>text_clean</code>, no el título/resumen originales.
Así se garantiza que la búsqueda “python” coincida con “Python” en el feed.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> re

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">clean_text</span><span style="color: #fe8019;">(</span>text<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Limpieza b&#225;sica: quitar tags HTML, solo letras y espacios, min&#250;sculas."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fb4934;">not</span> text:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> <span style="color: #b8bb26;">""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">text</span> = re.sub<span style="color: #fe8019;">(</span>r<span style="color: #b8bb26;">"&lt;[^&gt;]+&gt;"</span>, <span style="color: #b8bb26;">" "</span>, text<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">text</span> = re.sub<span style="color: #fe8019;">(</span>r<span style="color: #b8bb26;">"[^\w\s]"</span>, <span style="color: #b8bb26;">" "</span>, text, flags=re.UNICODE<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">text</span> = re.sub<span style="color: #fe8019;">(</span>r<span style="color: #b8bb26;">"\s+"</span>, <span style="color: #b8bb26;">" "</span>, text<span style="color: #fe8019;">)</span>.strip<span style="color: #fe8019;">()</span>.lower<span style="color: #fe8019;">()</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> text

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">normalize_items</span><span style="color: #fe8019;">(</span>items<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""A&#241;ade campo 'text_clean' a cada &#237;tem (t&#237;tulo + resumen limpios)."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> it <span style="color: #fb4934;">in</span> items:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #b8bb26;">"error"</span> <span style="color: #fb4934;">in</span> it:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">continue</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">title</span> = it.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"title"</span>, <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">summary</span> = it.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"summary"</span>, <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">it</span><span style="color: #fe8019;">[</span><span style="color: #b8bb26;">"text_clean"</span><span style="color: #fe8019;">]</span> = clean_text<span style="color: #fe8019;">(</span>title<span style="color: #fe8019;">)</span> + <span style="color: #b8bb26;">" "</span> + clean_text<span style="color: #fe8019;">(</span>summary<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> items

<span style="color: #83a598;">items_norm</span> = normalize_items<span style="color: #fe8019;">(</span>items<span style="color: #fe8019;">)</span>
<span style="color: #fb4934;">for</span> i, it <span style="color: #fb4934;">in</span> <span style="color: #fe8019;">enumerate</span><span style="color: #fe8019;">(</span>items_norm<span style="color: #b16286;">[</span>:3<span style="color: #b16286;">]</span><span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #b8bb26;">"error"</span> <span style="color: #fb4934;">not</span> <span style="color: #fb4934;">in</span> it:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"--- &#205;tem"</span>, i+1, <span style="color: #b8bb26;">"---"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"text_clean:"</span>, it.get<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"text_clean"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b16286;">)[</span>:200<span style="color: #b16286;">]</span>, <span style="color: #b8bb26;">"..."</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">()</span>
</pre>
</div>

<pre class="example">
--- Ítem 1 ---
text_clean: salinas pliego lleva a tv azteca a concurso mercantil en plena pelea millonaria con acreedores de estados unidos el grupo asegura que recurrirá a este procedimiento para reordenar de manera estructura ...

--- Ítem 2 ---
text_clean: sheinbaum visitará sinaloa en una señal de gobernabilidad tras la escalada de violencia la presidenta alista una visita de dos días al estado que ha albergado la cruenta guerra entre facciones del car ...

--- Ítem 3 ---
text_clean: centros libre la gran apuesta de la secretaría de las mujeres aquí me dijeron que tenía derechos los 678 espacios comunitarios en el territorio mexicano brindan asesoría jurídica atención psicológica  ...
</pre>
</div>
</div>
<div id="outline-container-org2b21208" class="outline-3">
<h3 id="org2b21208">Modelo booleano: búsqueda por palabras clave</h3>
<div class="outline-text-3" id="text-org2b21208">
<p>
En el <b>modelo booleano</b> de recuperación, cada documento es <b>relevante</b> o <b>no
relevante</b> según cumpla o no una expresión lógica sobre los términos (AND, OR,
NOT). No hay “más o menos relevante”: es un filtro. Es el modelo más directo
para consultas del tipo “quiero ítems que contengan <b>todas</b> estas palabras”.
Sobre la colección de ítems RSS normalizados (<code>text_clean</code>), una búsqueda AND
equivale a: “devolver solo los documentos cuyo <code>text_clean</code> contiene cada
palabra de la consulta”. Así el IRS aplica el <b>proceso de recuperación</b>:
comparar la <b>consulta</b> (query) con cada <b>documento</b> de la colección y decidir
sí/no según el criterio booleano.
</p>

<ul class="org-ul">
<li><b>IRS — Proceso de recuperación</b>: la función que compara consulta y documentos
implementa el <b>modelo booleano</b> (AND).</li>
<li><b>Consulta</b>: la cadena que escribe el usuario (p. ej. “python software”) se
normaliza igual que los documentos y se divide en palabras; cada palabra debe
aparecer en <code>text_clean</code>.</li>
<li><b>RSS</b>: cada ítem del feed es un documento; el campo <code>text_clean</code> (título +
resumen limpios) es el texto sobre el que se hace la comparación.</li>
</ul>

<p>
search<sub>boolean</sub><sub>and</sub>(items, query)~ recibe la colección (lista de ítems con
<code>text_clean</code>) y la consulta en lenguaje natural. Primero se <b>normaliza la
consulta</b> con <code>clean_text(query).split()</code>: mismas reglas que los documentos,
para que “Python Software” y “python software” den las mismas palabras. Luego
se recorre cada ítem: si <code>text_clean</code> contiene <b>todas</b> las palabras de la
consulta (<code>all(w in text for w in words)</code>), el documento se considera relevante
y se añade a <code>results</code>. La lista devuelta es el <b>conjunto recuperado</b>: documentos
que pasan el filtro booleano. No hay orden de relevancia; si se quisiera
ordenar, se usaría un modelo con score (p. ej. el ranking siguiente).
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">search_boolean_and</span><span style="color: #fe8019;">(</span>items, query<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Recupera &#237;tems donde text_clean contiene TODAS las palabras de query."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">words</span> = clean_text<span style="color: #fe8019;">(</span>query<span style="color: #fe8019;">)</span>.split<span style="color: #fe8019;">()</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">results</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> it <span style="color: #fb4934;">in</span> items:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #b8bb26;">"error"</span> <span style="color: #fb4934;">in</span> it:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">continue</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">text</span> = it.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"text_clean"</span>, <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fe8019;">all</span><span style="color: #fe8019;">(</span>w <span style="color: #fb4934;">in</span> text <span style="color: #fb4934;">for</span> w <span style="color: #fb4934;">in</span> words<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   results.append<span style="color: #fe8019;">(</span>it<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> results

<span style="color: #83a598;">query</span> = <span style="color: #b8bb26;">"python software"</span>
<span style="color: #83a598;">found</span> = search_boolean_and<span style="color: #fe8019;">(</span>items_norm, query<span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Consulta:"</span>, <span style="color: #fe8019;">repr</span><span style="color: #b16286;">(</span>query<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Resultados:"</span>, <span style="color: #fe8019;">len</span><span style="color: #b16286;">(</span>found<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
<span style="color: #fb4934;">for</span> it <span style="color: #fb4934;">in</span> found<span style="color: #fe8019;">[</span>:5<span style="color: #fe8019;">]</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"-"</span>, it.get<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"title"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b16286;">)[</span>:60<span style="color: #b16286;">]</span><span style="color: #fe8019;">)</span>
</pre>
</div>

<pre class="example">
Consulta: 'python software'
Resultados: 0
</pre>
</div>
</div>
<div id="outline-container-org04750e0" class="outline-3">
<h3 id="org04750e0">Ranking simple (modelo tipo vectorial)</h3>
<div class="outline-text-3" id="text-org04750e0">
<p>
El modelo booleano devuelve un conjunto sin orden: todos los documentos
recuperados son “igual de relevantes”. En la práctica el usuario espera ver
<b>primero</b> los más relevantes. El <b>modelo vectorial</b> (y variantes) asigna a
cada documento un <b>score</b> de relevancia y ordena por ese score. Una
simplificación muy usada es contar cuántas veces aparecen los términos de la
consulta en el documento (<b>term frequency</b>, TF): más apariciones suelen indicar
mayor relevancia. Así el IRS no solo filtra (sí/no) sino que <b>rankea</b> los
resultados; la interfaz puede mostrar los <code>top_k</code> primeros. En feeds RSS, los
ítems con más menciones de las palabras buscadas en título y resumen aparecen
arriba.
</p>

<ul class="org-ul">
<li><b>IRS — Modelo de recuperación</b>: aquí se implementa un <b>ranking</b> inspirado en
el modelo vectorial (score por conteo de términos en <code>text_clean</code>).</li>
<li><b>Consulta</b>: se normaliza y se divide en palabras; cada palabra contribuye al
score del documento.</li>
<li><b>RSS</b>: cada ítem tiene <code>text_clean</code>; el score es la suma de las frecuencias
de los términos de la consulta en ese texto. Los ítems se ordenan por score
descendente.</li>
</ul>

<p>
search<sub>ranked</sub>(items, query, top<sub>k</sub>)~ recibe la colección normalizada, la
consulta y cuántos resultados devolver. Para cada ítem se calcula <code>score</code> como
<code>sum(text.split().count(w) for w in words)</code>: número total de apariciones de
cualquier término de la consulta en <code>text_clean</code>. Solo se consideran documentos
con score &gt; 0. Se ordena la lista <code>(score, ítem)</code> por score descendente
(<code>key=lambda x: -x[0]</code>) y se devuelven los primeros <code>top_k</code> ítems. Así la
salida es una <b>lista ordenada por relevancia</b>: el primer elemento es el que más
coincide con la consulta. Es una versión simplificada de TF (sin IDF ni
normalización por longitud); suficiente para ilustrar el concepto de ranking
en un IRS sobre feeds RSS.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">search_ranked</span><span style="color: #fe8019;">(</span>items, query, top_k=10<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Recupera &#237;tems rankeados por n&#250;mero de apariciones de t&#233;rminos de la consulta."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">words</span> = clean_text<span style="color: #fe8019;">(</span>query<span style="color: #fe8019;">)</span>.split<span style="color: #fe8019;">()</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fb4934;">not</span> words:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">scored</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> it <span style="color: #fb4934;">in</span> items:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #b8bb26;">"error"</span> <span style="color: #fb4934;">in</span> it:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">continue</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">text</span> = it.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"text_clean"</span>, <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">score</span> = <span style="color: #fe8019;">sum</span><span style="color: #fe8019;">(</span>text.split<span style="color: #b16286;">()</span>.count<span style="color: #b16286;">(</span>w<span style="color: #b16286;">)</span> <span style="color: #fb4934;">for</span> w <span style="color: #fb4934;">in</span> words<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> score &gt; 0:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   scored.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">(</span>score, it<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   scored.sort<span style="color: #fe8019;">(</span>key=<span style="color: #fb4934;">lambda</span> x: -x<span style="color: #b16286;">[</span>0<span style="color: #b16286;">]</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> <span style="color: #fe8019;">[</span>it <span style="color: #fb4934;">for</span> _, it <span style="color: #fb4934;">in</span> scored<span style="color: #b16286;">[</span>:top_k<span style="color: #b16286;">]</span><span style="color: #fe8019;">]</span>

<span style="color: #83a598;">query2</span> = <span style="color: #b8bb26;">"python release"</span>
<span style="color: #83a598;">ranked</span> = search_ranked<span style="color: #fe8019;">(</span>items_norm, query2, top_k=5<span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Consulta:"</span>, <span style="color: #fe8019;">repr</span><span style="color: #b16286;">(</span>query2<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
<span style="color: #fb4934;">for</span> i, it <span style="color: #fb4934;">in</span> <span style="color: #fe8019;">enumerate</span><span style="color: #fe8019;">(</span>ranked, 1<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">title</span> = it.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"title"</span>, <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)[</span>:55<span style="color: #fe8019;">]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>i, <span style="color: #b8bb26;">"-"</span>, title<span style="color: #fe8019;">)</span>
</pre>
</div>

<pre class="example">
Consulta: 'python release'
</pre>
</div>
</div>
<div id="outline-container-org4c2feff" class="outline-3">
<h3 id="org4c2feff">Interfaz de resultados</h3>
<div class="outline-text-3" id="text-org4c2feff">
<p>
En un IRS la <b>interfaz</b> es el medio por el que el usuario formula la consulta
y <b>ve los resultados</b>. Sin una presentación clara de los documentos recuperados,
el sistema no es usable. En un buscador web típico la interfaz muestra título,
enlace, fecha y a veces un snippet. En nuestro flujo con feeds RSS y Org-mode,
la “pantalla” de resultados puede ser una <b>tabla Org</b>: cada fila es un ítem
recuperado (por búsqueda booleana o rankeada), con columnas como número de
orden, título, URL y fecha. Así se cierra el ciclo IRS: colección → consulta →
recuperación → <b>presentación</b> al usuario.
</p>

<ul class="org-ul">
<li><b>IRS — Interfaz</b>: la tabla generada es la <b>vista de resultados</b> del sistema;
el usuario ve qué documentos se recuperaron y puede acceder al enlace (RSS
<code>link</code>) de cada ítem.</li>
<li><b>RSS</b>: los campos mostrados (título, enlace, fecha) vienen directamente del
feed; el orden de las filas viene del <b>modelo de recuperación</b> (ranking o
filtro booleano).</li>
<li><b>Código</b>: <code>results_to_org_table</code> transforma la lista de ítems (salida de
<code>search_ranked</code> o <code>search_boolean_and</code>) en líneas de tabla Org.</li>
</ul>

<p>
results<sub>to</sub><sub>org</sub><sub>table</sub>(items<sub>list</sub>)~ recibe la lista de ítems ya recuperados
(ordenados por score si vienen de <code>search_ranked</code>). Construye la cabecera de
la tabla Org (<code>| # | Título | Enlace | Fecha |</code>) y el separador (<code>|---+...</code>).
Para cada ítem añade una fila: posición (<code>i</code>), título truncado a 50 caracteres,
<code>link</code> (URL del ítem en el feed) y fecha truncada a 20 caracteres. El resultado
es una cadena con las líneas de la tabla; en Org-mode se puede insertar en el
buffer o exportar. Así el documento Org actúa como “pantalla” del IRS: el usuario
ve el listado rankeado de ítems RSS con enlaces clicables.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">results_to_org_table</span><span style="color: #fe8019;">(</span>items_list<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Genera l&#237;neas de tabla Org (| col1 | col2 | col3 |)."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">lines</span> = <span style="color: #fe8019;">[</span><span style="color: #b8bb26;">"| # | T&#237;tulo | Enlace | Fecha |"</span>, <span style="color: #b8bb26;">"|---+--------+--------+-------|"</span><span style="color: #fe8019;">]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> i, it <span style="color: #fb4934;">in</span> <span style="color: #fe8019;">enumerate</span><span style="color: #fe8019;">(</span>items_list, 1<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #b8bb26;">"error"</span> <span style="color: #fb4934;">in</span> it:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">continue</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">title</span> = <span style="color: #fe8019;">(</span>it.get<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"title"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b16286;">)</span> <span style="color: #fb4934;">or</span> <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)[</span>:50<span style="color: #fe8019;">]</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">link</span> = it.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"link"</span>, <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">pub</span> = <span style="color: #fe8019;">(</span>it.get<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"published"</span>, <span style="color: #b8bb26;">""</span><span style="color: #b16286;">)</span> <span style="color: #fb4934;">or</span> <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)[</span>:20<span style="color: #fe8019;">]</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   lines.append<span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"| </span>{i}<span style="color: #b8bb26;"> | </span>{title}<span style="color: #b8bb26;"> | </span>{link}<span style="color: #b8bb26;"> | </span>{pub}<span style="color: #b8bb26;"> |"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> <span style="color: #b8bb26;">"</span><span style="color: #d3869b;">\n</span><span style="color: #b8bb26;">"</span>.join<span style="color: #fe8019;">(</span>lines<span style="color: #fe8019;">)</span>

<span style="color: #83a598;">org_table</span> = results_to_org_table<span style="color: #fe8019;">(</span>ranked<span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>org_table<span style="color: #fe8019;">)</span>
</pre>
</div>

<pre class="example">
None
</pre>
</div>
</div>
<div id="outline-container-org8c2f15d" class="outline-3">
<h3 id="org8c2f15d">Pipeline completo del IRS con RSS</h3>
<div class="outline-text-3" id="text-org8c2f15d">
<p>
Un IRS real encadena varias etapas: obtener la colección, indexar/normalizar,
recibir la consulta, aplicar el modelo de recuperación y presentar los
resultados. Integrar todo en un <b>pipeline</b> (una sola función o flujo) permite
ver de un vistazo cómo se relacionan los componentes del IRS con los feeds RSS:
URL del feed → colección; consulta del usuario → proceso de recuperación;
lista rankeada → interfaz (tabla). Así se evidencia que el IRS no es solo
“búsqueda”, sino <b>colección + consulta + modelo + interfaz</b>.
</p>
</div>
<div id="outline-container-orgd26a525" class="outline-4">
<h4 id="orgd26a525">Relación IRS ↔ feeds RSS en el pipeline</h4>
<div class="outline-text-4" id="text-orgd26a525">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Componente IRS</th>
<th scope="col" class="org-left">En el pipeline con RSS</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Colección</td>
<td class="org-left"><code>fetch_rss(feed_url)</code> → ítems del feed</td>
</tr>

<tr>
<td class="org-left">Normalización</td>
<td class="org-left"><code>normalize_items(raw)</code> → <code>text_clean</code> por ítem</td>
</tr>

<tr>
<td class="org-left">Consulta</td>
<td class="org-left">Parámetro <code>query</code> (cadena del usuario)</td>
</tr>

<tr>
<td class="org-left">Modelo recuperación</td>
<td class="org-left"><code>search_ranked(normalized, query, top_k)</code></td>
</tr>

<tr>
<td class="org-left">Interfaz</td>
<td class="org-left"><code>results_to_org_table(resultados)</code> → tabla Org</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgf641d4a" class="outline-4">
<h4 id="orgf641d4a">Explicación del código</h4>
<div class="outline-text-4" id="text-orgf641d4a">
<p>
<code>irs_pipeline(feed_url, query, max_entries, top_k)</code> encadena: (1) <code>fetch_rss</code>
descarga y parsea el feed y devuelve la lista de ítems (colección en bruto);
(2) si hay error, se devuelve el mensaje; (3) <code>normalize_items</code> añade
<code>text_clean</code> a cada ítem; (4) <code>search_ranked</code> aplica el modelo de recuperación
(ranking por conteo de términos) y devuelve los <code>top_k</code> ítems más relevantes;
(5) opcionalmente se pasa esa lista a <code>results_to_org_table</code> para generar la
vista. Una sola llamada con URL de feed y consulta produce la tabla de
resultados que el usuario vería en la interfaz. Así queda explícito el flujo
completo: feed RSS → colección → normalización → consulta → ranking →
presentación.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">irs_pipeline</span><span style="color: #fe8019;">(</span>feed_url, query, max_entries=20, top_k=5<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Pipeline: fetch &#8594; normalizar &#8594; b&#250;squeda rankeada &#8594; resultados."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">raw</span> = fetch_rss<span style="color: #fe8019;">(</span>feed_url, max_entries=max_entries<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> raw <span style="color: #fb4934;">and</span> <span style="color: #b8bb26;">"error"</span> <span style="color: #fb4934;">in</span> raw<span style="color: #fe8019;">[</span>0<span style="color: #fe8019;">]</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> raw
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">normalized</span> = normalize_items<span style="color: #fe8019;">(</span>raw<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">results</span> = search_ranked<span style="color: #fe8019;">(</span>normalized, query, top_k=top_k<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> results

<span style="color: #83a598;">url_ejemplo</span> = <span style="color: #b8bb26;">"https://pyfound.blogspot.com/feeds/posts/default?alt=rss"</span>
<span style="color: #83a598;">consulta</span> = <span style="color: #b8bb26;">"python foundation"</span>
<span style="color: #83a598;">resultados</span> = irs_pipeline<span style="color: #fe8019;">(</span>url_ejemplo, consulta, max_entries=15, top_k=5<span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Feed:"</span>, url_ejemplo<span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Consulta:"</span>, consulta<span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>results_to_org_table<span style="color: #b16286;">(</span>resultados<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>

<pre class="example">
Feed: https://pyfound.blogspot.com/feeds/posts/default?alt=rss
Consulta: python foundation
| # | Título | Enlace | Fecha |
|---+--------+--------+-------|
| 1 | Python is for everyone: Join in the PSF year-end f | https://pyfound.blogspot.com/2025/11/python-is-for-everyone-join-in-psf-year.html | Wed, 12 Nov 2025 16: |
| 2 | Python is for Everyone: Inside the PSF's D&amp;I Work  | https://pyfound.blogspot.com/2026/02/python-is-for-everyone-inside-psfs-d.html | Thu, 12 Feb 2026 12: |
| 3 | Introducing the PSF Community Partner Program | https://pyfound.blogspot.com/2026/02/introducing-psf-community-partner.html | Tue, 10 Feb 2026 13: |
| 4 | Join the Python Security Response Team! | https://pyfound.blogspot.com/2026/02/join-the-python-security-response-team.html | Tue, 17 Feb 2026 07: |
| 5 | Anthropic invests $1.5 million in the Python Softw | https://pyfound.blogspot.com/2025/12/anthropic-invests-in-python.html | Tue, 13 Jan 2026 13: |
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfda0682" class="outline-2">
<h2 id="orgfda0682">Introducción a XPath</h2>
<div class="outline-text-2" id="text-orgfda0682">
<p>
<b>XPath</b> (XML Path Language) es un lenguaje para localizar nodos y extraer valores en
documentos XML y HTML. Se usa en transformaciones XSLT, scraping web, APIs y consultas
a documentos estructurados.
</p>
</div>
<div id="outline-container-org240b2b9" class="outline-3">
<h3 id="org240b2b9">¿Para qué sirve?</h3>
<div class="outline-text-3" id="text-org240b2b9">
<ul class="org-ul">
<li>Navegar por la estructura de un árbol XML/HTML.</li>
<li>Seleccionar elementos por etiqueta, atributo, posición o relación jerárquica.</li>
<li>Extraer texto, atributos o fragmentos concretos.</li>
<li>Usarse desde Python (<code>lxml</code>, <code>BeautifulSoup</code>), JavaScript (<code>document.evaluate</code>), etc.</li>
</ul>
</div>
</div>
<div id="outline-container-org7c1458c" class="outline-3">
<h3 id="org7c1458c">Documento de ejemplo</h3>
<div class="outline-text-3" id="text-org7c1458c">
<p>
En esta parte usaremos este XML ficticio como referencia:
</p>

<div class="org-src-container">
<pre class="src src-xml"><span style="color: #ebdbb2; background-color: #282828;">&lt;?</span><span style="color: #fb4934;">xml</span> <span style="color: #dfd2b8;">version="1.0" encoding="UTF-8"</span><span style="color: #ebdbb2; background-color: #282828;">?&gt;</span>
<span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">catalogo</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
  <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">libro</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"1"</span> <span style="color: #83a598;">categoria</span>=<span style="color: #b8bb26;">"ficcion"</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">titulo</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">Don Quijote</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">titulo</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">autor</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">Cervantes</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">autor</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">precio</span> <span style="color: #83a598;">moneda</span>=<span style="color: #b8bb26;">"EUR"</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">12.50</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">precio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">anio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">1605</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">anio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
  <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">libro</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
  <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">libro</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"2"</span> <span style="color: #83a598;">categoria</span>=<span style="color: #b8bb26;">"tecnica"</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">titulo</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">Introducci&#243;n a XPath</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">titulo</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">autor</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">Ana Garc&#237;a</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">autor</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">precio</span> <span style="color: #83a598;">moneda</span>=<span style="color: #b8bb26;">"USD"</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">25.00</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">precio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">anio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">2023</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">anio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
  <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">libro</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
  <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">libro</span> <span style="color: #83a598;">id</span>=<span style="color: #b8bb26;">"3"</span> <span style="color: #83a598;">categoria</span>=<span style="color: #b8bb26;">"ficcion"</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">titulo</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">Cien a&#241;os de soledad</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">titulo</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">autor</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">Garc&#237;a M&#225;rquez</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">autor</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">precio</span> <span style="color: #83a598;">moneda</span>=<span style="color: #b8bb26;">"EUR"</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">14.00</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">precio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
    <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #b8bb26;">anio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span><span style="color: #ebdbb2; background-color: #282828;">1967</span><span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">anio</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
  <span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">libro</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
<span style="color: #ebdbb2; background-color: #282828;">&lt;</span><span style="color: #ebdbb2; background-color: #282828;">/</span><span style="color: #b8bb26;">catalogo</span><span style="color: #ebdbb2; background-color: #282828;">&gt;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org806fd84" class="outline-3">
<h3 id="org806fd84">Sintaxis básica</h3>
<div class="outline-text-3" id="text-org806fd84">
</div>
<div id="outline-container-org768e5a0" class="outline-4">
<h4 id="org768e5a0">Rutas absolutas y relativas</h4>
<div class="outline-text-4" id="text-org768e5a0">
</div>
<ul class="org-ul">
<li><a id="orgba770f8"></a>Ruta absoluta<br />
<div class="outline-text-5" id="text-orgba770f8">
<p>
Empieza en la raíz del documento con <code>/</code>:
</p>

<pre class="example" id="orgee1aced">
/catalogo/libro
</pre>

<p>
Selecciona todos los elementos <code>&lt;libro&gt;</code> que son hijos directos de <code>&lt;catalogo&gt;</code>.
</p>
</div>
</li>
<li><a id="orgc050728"></a>Ruta relativa<br />
<div class="outline-text-5" id="text-orgc050728">
<p>
Se evalúa desde el nodo actual (contexto):
</p>

<pre class="example" id="org44f6630">
libro/titulo
</pre>

<p>
Desde el contexto actual, selecciona <code>&lt;titulo&gt;</code> dentro de <code>&lt;libro&gt;</code>.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgce48dd4" class="outline-4">
<h4 id="orgce48dd4">Seleccionar por etiqueta</h4>
<div class="outline-text-4" id="text-orgce48dd4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">XPath</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>/catalogo</code></td>
<td class="org-left">Elemento raíz <code>catalogo</code></td>
</tr>

<tr>
<td class="org-left"><code>/catalogo/libro</code></td>
<td class="org-left">Todos los <code>libro</code> hijos de <code>catalogo</code></td>
</tr>

<tr>
<td class="org-left"><code>//libro</code></td>
<td class="org-left">Todos los <code>libro</code> en cualquier nivel</td>
</tr>

<tr>
<td class="org-left"><code>//titulo</code></td>
<td class="org-left">Todos los <code>titulo</code> en el documento</td>
</tr>
</tbody>
</table>
</div>
<ul class="org-ul">
<li><a id="org926c8d4"></a>Diferencia entre <code>/</code> y <code>//</code><br />
<div class="outline-text-5" id="text-org926c8d4">
<dl class="org-dl">
<dt><code>/</code></dt><dd>Solo hijos <b>directos</b> (un nivel).</dd>
<dt><code>//</code></dt><dd>Descendientes en <b>cualquier nivel</b>.</dd>
</dl>

<pre class="example" id="org713f465">
/catalogo/libro/titulo   → titulos que son nietos de catalogo (1 nivel)
//titulo                 → todos los titulos del documento
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-org4531f8f" class="outline-3">
<h3 id="org4531f8f">Predicados</h3>
<div class="outline-text-3" id="text-org4531f8f">
<p>
Los <b>predicados</b> <code>[...]</code> filtran nodos según una condición.
</p>
</div>
<div id="outline-container-org7d4399e" class="outline-4">
<h4 id="org7d4399e">Por posición</h4>
<div class="outline-text-4" id="text-org7d4399e">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">XPath</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>/catalogo/libro[1]</code></td>
<td class="org-left">Primer <code>libro</code> (índice desde 1)</td>
</tr>

<tr>
<td class="org-left"><code>/catalogo/libro[last()]</code></td>
<td class="org-left">Último <code>libro</code></td>
</tr>

<tr>
<td class="org-left"><code>/catalogo/libro[position()&lt;=2]</code></td>
<td class="org-left">Los dos primeros</td>
</tr>
</tbody>
</table>
</div>
<ul class="org-ul">
<li><a id="org2ea8fb7"></a>Nota sobre índices<br />
<div class="outline-text-5" id="text-org2ea8fb7">
<p>
En XPath, los índices empiezan en <b>1</b>, no en 0.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org59d6600" class="outline-4">
<h4 id="org59d6600">Por atributo</h4>
<div class="outline-text-4" id="text-org59d6600">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">XPath</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>//libro[@id]</code></td>
<td class="org-left">Libros que tienen atributo <code>id</code></td>
</tr>

<tr>
<td class="org-left"><code>//libro[@id</code>"2"]=</td>
<td class="org-left">Libro con <code>id</code>"2"=</td>
</tr>

<tr>
<td class="org-left"><code>//libro[@categoria</code>"ficcion"]=</td>
<td class="org-left">Libros de categoría ficción</td>
</tr>

<tr>
<td class="org-left"><code>//precio[@moneda</code>"EUR"]=</td>
<td class="org-left">Precios en euros</td>
</tr>

<tr>
<td class="org-left"><code>//libro[@id&gt;1]</code></td>
<td class="org-left">Libros con id numérico mayor que 1</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org657cfb9" class="outline-4">
<h4 id="org657cfb9">Por contenido de texto</h4>
<div class="outline-text-4" id="text-org657cfb9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">XPath</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>//titulo[text()</code>"Don Quijote"]=</td>
<td class="org-left">Título con ese texto exacto</td>
</tr>

<tr>
<td class="org-left"><code>//titulo[contains(., "años")]</code></td>
<td class="org-left">Títulos que contienen "años"</td>
</tr>

<tr>
<td class="org-left"><code>//autor[starts-with(., "Gar")]</code></td>
<td class="org-left">Autores que empiezan por "Gar"</td>
</tr>

<tr>
<td class="org-left"><code>//libro[precio&gt;13]</code></td>
<td class="org-left">Libros cuyo precio es mayor que 13</td>
</tr>
</tbody>
</table>

<p>
El punto <code>.</code> representa el nodo actual (el texto del elemento en muchos contextos).
</p>
</div>
</div>
</div>
<div id="outline-container-orgd15547b" class="outline-3">
<h3 id="orgd15547b">Ejes</h3>
<div class="outline-text-3" id="text-orgd15547b">
<p>
Los <b>ejes</b> definen la relación entre nodos. Sintaxis: <code>eje::paso</code>.
</p>
</div>
<div id="outline-container-org6491b0a" class="outline-4">
<h4 id="org6491b0a">Ejes más usados</h4>
<div class="outline-text-4" id="text-org6491b0a">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Eje</th>
<th scope="col" class="org-left">Abreviatura</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>child::</code></td>
<td class="org-left">(por defecto)</td>
<td class="org-left">Hijos directos</td>
</tr>

<tr>
<td class="org-left"><code>descendant::</code></td>
<td class="org-left"><code>//</code></td>
<td class="org-left">Descendientes (cualquier nivel)</td>
</tr>

<tr>
<td class="org-left"><code>parent::</code></td>
<td class="org-left"><code>../</code></td>
<td class="org-left">Padre</td>
</tr>

<tr>
<td class="org-left"><code>ancestor::</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Antepasados</td>
</tr>

<tr>
<td class="org-left"><code>following-sibling::</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Hermanos siguientes</td>
</tr>

<tr>
<td class="org-left"><code>preceding-sibling::</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Hermanos anteriores</td>
</tr>

<tr>
<td class="org-left"><code>attribute::</code></td>
<td class="org-left"><code>@</code></td>
<td class="org-left">Atributos</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org987e0d8" class="outline-4">
<h4 id="org987e0d8">Ejemplos con ejes</h4>
<div class="outline-text-4" id="text-org987e0d8">
<pre class="example" id="orgd99f781">
/catalogo/child::libro          → igual que /catalogo/libro
//titulo/parent::libro          → libros que contienen un titulo
//libro[1]/following-sibling::libro  → hermanos siguientes del primer libro
//libro/@id                     → atributo id de cada libro
</pre>
</div>
</div>
</div>
<div id="outline-container-org27d6516" class="outline-3">
<h3 id="org27d6516">Funciones útiles</h3>
<div class="outline-text-3" id="text-org27d6516">
</div>
<div id="outline-container-org9bf5fa5" class="outline-4">
<h4 id="org9bf5fa5">Funciones de texto</h4>
<div class="outline-text-4" id="text-org9bf5fa5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Función</th>
<th scope="col" class="org-left">Uso</th>
<th scope="col" class="org-left">Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>text()</code></td>
<td class="org-left">Texto del nodo</td>
<td class="org-left"><code>//titulo/text()</code></td>
</tr>

<tr>
<td class="org-left"><code>normalize-space(s)</code></td>
<td class="org-left">Quita espacios extra</td>
<td class="org-left"><code>normalize-space(//titulo[1])</code></td>
</tr>

<tr>
<td class="org-left"><code>contains(s, sub)</code></td>
<td class="org-left">¿s contiene sub?</td>
<td class="org-left"><code>//titulo[contains(., "Quijote")]</code></td>
</tr>

<tr>
<td class="org-left"><code>starts-with(s, pre)</code></td>
<td class="org-left">¿s empieza por pre?</td>
<td class="org-left"><code>//autor[starts-with(., "C")]</code></td>
</tr>

<tr>
<td class="org-left"><code>substring(s, i, n)</code></td>
<td class="org-left">Subcadena desde i, n chars</td>
<td class="org-left"><code>substring(//titulo[1], 1, 3)</code></td>
</tr>

<tr>
<td class="org-left"><code>concat(s1, s2)</code></td>
<td class="org-left">Concatenar strings</td>
<td class="org-left"><code>concat(//titulo[1], " - ", //autor[1])</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org7b8951a" class="outline-4">
<h4 id="org7b8951a">Funciones numéricas</h4>
<div class="outline-text-4" id="text-org7b8951a">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Función</th>
<th scope="col" class="org-left">Uso</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>count(nodeset)</code></td>
<td class="org-left">Número de nodos</td>
</tr>

<tr>
<td class="org-left"><code>sum(nodeset)</code></td>
<td class="org-left">Suma de valores</td>
</tr>

<tr>
<td class="org-left"><code>position()</code></td>
<td class="org-left">Posición en el contexto</td>
</tr>

<tr>
<td class="org-left"><code>last()</code></td>
<td class="org-left">Última posición</td>
</tr>
</tbody>
</table>

<pre class="example" id="org35a8fbc">
count(//libro)           → 3
sum(//precio)            → 51.50 (si los precios son números)
//libro[position()=last()]
</pre>
</div>
</div>
<div id="outline-container-orgdcb6761" class="outline-4">
<h4 id="orgdcb6761">Funciones de tipo</h4>
<div class="outline-text-4" id="text-orgdcb6761">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Función</th>
<th scope="col" class="org-left">Uso</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>name()</code></td>
<td class="org-left">Nombre de la etiqueta</td>
</tr>

<tr>
<td class="org-left"><code>local-name()</code></td>
<td class="org-left">Nombre local (sin prefijo)</td>
</tr>

<tr>
<td class="org-left"><code>string-length(s)</code></td>
<td class="org-left">Longitud de la cadena</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org61cb073" class="outline-3">
<h3 id="org61cb073">Operadores y combinaciones</h3>
<div class="outline-text-3" id="text-org61cb073">
</div>
<div id="outline-container-org8dfdf21" class="outline-4">
<h4 id="org8dfdf21">Operadores lógicos</h4>
<div class="outline-text-4" id="text-org8dfdf21">
<pre class="example" id="org622f4cc">
//libro[@categoria="ficcion" and precio&gt;12]
//libro[@categoria="ficcion" or @categoria="tecnica"]
//titulo[not(contains(., "años"))]
</pre>
</div>
</div>
<div id="outline-container-org9506838" class="outline-4">
<h4 id="org9506838">Unión de conjuntos (|)</h4>
<div class="outline-text-4" id="text-org9506838">
<pre class="example" id="org3523197">
//titulo | //autor
</pre>

<p>
Devuelve todos los elementos <code>titulo</code> y <code>autor</code>.
</p>
</div>
</div>
<div id="outline-container-org8c9fd4d" class="outline-4">
<h4 id="org8c9fd4d">Operadores de comparación</h4>
<div class="outline-text-4" id="text-org8c9fd4d">
<p>
= = <code>, =!</code> <code>, =&lt; =, =&lt;</code> <code>, =&gt; =, =&gt;</code> =
</p>
</div>
</div>
</div>
<div id="outline-container-org0a1c140" class="outline-3">
<h3 id="org0a1c140">XPath en HTML (scraping)</h3>
<div class="outline-text-3" id="text-org0a1c140">
<p>
HTML no siempre es XML bien formado. Herramientas como <code>lxml</code> en Python pueden parsear
HTML y aplicar XPath. Ejemplo:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">from</span> lxml <span style="color: #fb4934;">import</span> etree

<span style="color: #83a598;">html</span> = <span style="color: #b8bb26;">"""
&lt;html&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;"> &lt;body&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   &lt;div class="articulo"&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   </span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;"> &lt;h1&gt;T&#237;tulo del art&#237;culo&lt;/h1&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   </span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;"> &lt;p&gt;P&#225;rrafo uno.&lt;/p&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   </span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;"> &lt;p&gt;P&#225;rrafo dos con &lt;a href="/enlace"&gt;enlace&lt;/a&gt;.&lt;/p&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   &lt;/div&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   &lt;div class="articulo"&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   </span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;"> &lt;h1&gt;Otro art&#237;culo&lt;/h1&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   </span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;"> &lt;p&gt;Contenido.&lt;/p&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;">   &lt;/div&gt;
</span><span style="color: #b8bb26; background-color: #3c3836;"> </span><span style="color: #b8bb26;"> &lt;/body&gt;
&lt;/html&gt;
"""</span>

<span style="color: #83a598;">tree</span> = etree.HTML<span style="color: #fe8019;">(</span>html<span style="color: #fe8019;">)</span>

<span style="color: #928374;"># </span><span style="color: #928374;">Todos los h1
</span><span style="color: #83a598;">titulos</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//h1/text()"</span><span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>titulos<span style="color: #fe8019;">)</span>  <span style="color: #928374;"># </span><span style="color: #928374;">['T&#237;tulo del art&#237;culo', 'Otro art&#237;culo']
</span>
<span style="color: #928374;"># </span><span style="color: #928374;">h1 dentro de div con clase "articulo"
</span><span style="color: #83a598;">titulos_articulo</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//div[@class='articulo']/h1/text()"</span><span style="color: #fe8019;">)</span>

<span style="color: #928374;"># </span><span style="color: #928374;">Atributo href de enlaces
</span><span style="color: #83a598;">enlaces</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//a/@href"</span><span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>enlaces<span style="color: #fe8019;">)</span>  <span style="color: #928374;"># </span><span style="color: #928374;">['/enlace']
</span>
<span style="color: #928374;"># </span><span style="color: #928374;">Segundo p&#225;rrafo del primer articulo
</span><span style="color: #83a598;">segundo_p</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//div[@class='articulo'][1]/p[2]/text()"</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
<div id="outline-container-orged6cc9e" class="outline-4">
<h4 id="orged6cc9e">XPath útiles para HTML común</h4>
<div class="outline-text-4" id="text-orged6cc9e">
<pre class="example" id="org497b8e2">
//a/@href                    → todos los enlaces (URL)
//img/@src                   → todas las imágenes
//div[@class='contenido']    → divs con esa clase
//table//tr                  → filas de tablas
//input[@name='email']       → input por nombre
//*[@id='principal']         → elemento con id
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfc1e37b" class="outline-3">
<h3 id="orgfc1e37b">XPath en Python (lxml)</h3>
<div class="outline-text-3" id="text-orgfc1e37b">
</div>
<div id="outline-container-orgd1d84fb" class="outline-4">
<h4 id="orgd1d84fb">Cargar XML desde archivo</h4>
<div class="outline-text-4" id="text-orgd1d84fb">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">from</span> lxml <span style="color: #fb4934;">import</span> etree

<span style="color: #83a598;">tree</span> = etree.parse<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"catalogo.xml"</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">root</span> = tree.getroot<span style="color: #fe8019;">()</span>

<span style="color: #928374;"># </span><span style="color: #928374;">O desde string
</span><span style="color: #83a598;">xml_string</span> = <span style="color: #b8bb26;">"&lt;catalogo&gt;&lt;libro&gt;&lt;titulo&gt;X&lt;/titulo&gt;&lt;/libro&gt;&lt;/catalogo&gt;"</span>
<span style="color: #83a598;">root</span> = etree.fromstring<span style="color: #fe8019;">(</span>xml_string.encode<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"utf-8"</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga3947d7" class="outline-4">
<h4 id="orga3947d7">Ejecutar XPath</h4>
<div class="outline-text-4" id="text-orga3947d7">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #928374;"># </span><span style="color: #928374;">.xpath() devuelve lista de nodos o valores seg&#250;n la expresi&#243;n
</span><span style="color: #83a598;">libros</span> = root.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//libro"</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">titulos</span> = root.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//titulo/text()"</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">precio_eur</span> = root.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//precio[@moneda='EUR']/text()"</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">primer_autor</span> = root.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//autor[1]/text()"</span><span style="color: #fe8019;">)[</span>0<span style="color: #fe8019;">]</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd1ef6a6" class="outline-4">
<h4 id="orgd1ef6a6">Namespaces (XML con prefijos)</h4>
<div class="outline-text-4" id="text-orgd1ef6a6">
<p>
Si el XML usa namespaces (p. ej. <code>xmlns</code>), hay que registrarlos:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #83a598;">ns</span> = <span style="color: #fe8019;">{</span><span style="color: #b8bb26;">"rss"</span>: <span style="color: #b8bb26;">"http://purl.org/rss/1.0/"</span><span style="color: #fe8019;">}</span>
<span style="color: #83a598;">items</span> = root.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//rss:item/title/text()"</span>, namespaces=ns<span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgaff1a85" class="outline-3">
<h3 id="orgaff1a85">Ejercicios prácticos</h3>
<div class="outline-text-3" id="text-orgaff1a85">
<p>
Con el XML de ejemplo del catálogo, escribe el XPath que:
</p>
</div>
<ul class="org-ul">
<li><a id="org5d1c6dd"></a>Ejercicio 1<br />
<div class="outline-text-5" id="text-org5d1c6dd">
<p>
Obtenga el título del segundo libro.
</p>
<pre class="example" id="orgd3a3ae5">
# Respuesta: /catalogo/libro[2]/titulo/text()
</pre>
</div>
</li>
<li><a id="org5701c5d"></a>Ejercicio 2<br />
<div class="outline-text-5" id="text-org5701c5d">
<p>
Obtenga todos los precios en euros.
</p>
<pre class="example" id="orgb4c0c04">
# Respuesta: //precio[@moneda='EUR']/text()
</pre>
</div>
</li>
<li><a id="orgbcf6090"></a>Ejercicio 3<br />
<div class="outline-text-5" id="text-orgbcf6090">
<p>
Obtenga los títulos de los libros de ficción.
</p>
<pre class="example" id="org9f84043">
# Respuesta: //libro[@categoria='ficcion']/titulo/text()
</pre>
</div>
</li>
<li><a id="org65e02cd"></a>Ejercicio 4<br />
<div class="outline-text-5" id="text-org65e02cd">
<p>
Obtenga el autor del libro cuyo título contiene "años".
</p>
<pre class="example" id="orgf9f51e9">
# Respuesta: //libro[titulo[contains(., 'años')]]/autor/text()
</pre>
</div>
</li>
<li><a id="org5ecba46"></a>Ejercicio 5<br />
<div class="outline-text-5" id="text-org5ecba46">
<p>
Cuente cuántos libros hay en el catálogo.
</p>
<pre class="example" id="org0fbd966">
# Respuesta: count(//libro)
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgc98102b" class="outline-3">
<h3 id="orgc98102b">Referencia rápida</h3>
<div class="outline-text-3" id="text-orgc98102b">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Símbolo / sintaxis</th>
<th scope="col" class="org-left">Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>/</code></td>
<td class="org-left">Hijo directo / raíz</td>
</tr>

<tr>
<td class="org-left"><code>//</code></td>
<td class="org-left">Descendiente (cualquier nivel)</td>
</tr>

<tr>
<td class="org-left"><code>.</code></td>
<td class="org-left">Nodo actual</td>
</tr>

<tr>
<td class="org-left"><code>..</code></td>
<td class="org-left">Padre</td>
</tr>

<tr>
<td class="org-left"><code>@</code></td>
<td class="org-left">Atributo</td>
</tr>

<tr>
<td class="org-left"><code>[]</code></td>
<td class="org-left">Predicado (filtro)</td>
</tr>

<tr>
<td class="org-left">=</td>
<td class="org-left">=</td>
<td class="org-left">Unión de conjuntos</td>
</tr>

<tr>
<td class="org-left"><code>text()</code></td>
<td class="org-left">Contenido de texto</td>
</tr>

<tr>
<td class="org-left"><code>*</code></td>
<td class="org-left">Cualquier elemento</td>
</tr>

<tr>
<td class="org-left"><code>@*</code></td>
<td class="org-left">Cualquier atributo</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org2ab82b6" class="outline-3">
<h3 id="org2ab82b6">Dependencias</h3>
<div class="outline-text-3" id="text-org2ab82b6">
<pre class="example" id="org15cc3e4">
pip install lxml
</pre>

<p>
Para HTML "suelto": <code>lxml</code> con <code>etree.HTML()</code> o <code>BeautifulSoup</code> con soporte <code>lxml</code>.
</p>
</div>
</div>
</div>
<div id="outline-container-org8d25e84" class="outline-2">
<h2 id="org8d25e84">Ruta Crítica del Web Scraping y Aspectos de Seguridad</h2>
<div class="outline-text-2" id="text-org8d25e84">
</div>
<div id="outline-container-orgefb6d87" class="outline-3">
<h3 id="orgefb6d87">Introducción</h3>
<div class="outline-text-3" id="text-orgefb6d87">
<p>
Este apartado describe la <b>ruta crítica</b> para realizar web scraping: los pasos imprescindibles,
orden lógico y las consideraciones de <b>seguridad</b> (tuyas y del sitio objetivo) que conlleva.
</p>
</div>
</div>
<div id="outline-container-org2fe922c" class="outline-3">
<h3 id="org2fe922c">La ruta crítica: fases del proyecto de scraping</h3>
<div class="outline-text-3" id="text-org2fe922c">
<p>
La ruta crítica es la secuencia de actividades que deben completarse en orden y cuyas
demoras afectan directamente el tiempo total del proyecto.
</p>
</div>
<div id="outline-container-org39cc728" class="outline-4">
<h4 id="org39cc728">Diagrama de flujo general</h4>
<div class="outline-text-4" id="text-org39cc728">
<pre class="example" id="orgb022119">
┌─────────────────┐
│ 1. LEGALIDAD    │ ¿Puedo hacerlo?
│ y ÉTICA         │
└────────┬────────┘
         │ Sí
         ▼
┌─────────────────┐
│ 2. ALTERNATIVAS │ ¿Existe API o descarga oficial?
│ (evitar scrape) │
└────────┬────────┘
         │ No hay alternativa adecuada
         ▼
┌─────────────────┐
│ 3. PLANIFICACIÓN│ ¿Qué datos? ¿Qué páginas? ¿Frecuencia?
│                 │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 4. ANÁLISIS     │ Inspeccionar HTML, estructura, paginación
│ TÉCNICO         │ ¿Contenido estático o dinámico?
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 5. DESARROLLO   │ Código: requests/lxml/selenium, etc.
│                 │ Manejo de errores, reintentos
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 6. SEGURIDAD    │ Headers, rate limiting, proxies (si aplica)
│ Y ROBUSTEZ      │ Validación de datos, sanitización
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 7. EJECUCIÓN    │ Monitoreo, logs, alertas
│ Y MANTENIMIENTO │ Adaptación a cambios del sitio
└─────────────────┘
</pre>
</div>
</div>
</div>
<div id="outline-container-org22004b1" class="outline-3">
<h3 id="org22004b1">Fase 1: Legalidad y ética (puerta de entrada)</h3>
<div class="outline-text-3" id="text-org22004b1">
</div>
<div id="outline-container-orge6f3b32" class="outline-4">
<h4 id="orge6f3b32">Antes de escribir código</h4>
<div class="outline-text-4" id="text-orge6f3b32">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Verificación</th>
<th scope="col" class="org-left">Pregunta</th>
<th scope="col" class="org-left">Acción si falla</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Términos de uso</td>
<td class="org-left">¿El sitio prohíbe explícitamente el scraping?</td>
<td class="org-left">No proceder</td>
</tr>

<tr>
<td class="org-left">robots.txt</td>
<td class="org-left">¿Hay directivas que bloqueen tu user-agent o rutas?</td>
<td class="org-left">Respetar o no proceder</td>
</tr>

<tr>
<td class="org-left">Propiedad intelectual</td>
<td class="org-left">¿El contenido está protegido por derechos de autor?</td>
<td class="org-left">Evaluar uso justo / licencia</td>
</tr>

<tr>
<td class="org-left">Datos personales</td>
<td class="org-left">¿Vas a extraer datos que identifiquen personas?</td>
<td class="org-left">Cumplir RGPD/LFPDPPP y normativa local</td>
</tr>

<tr>
<td class="org-left">robots.txt location</td>
<td class="org-left">¿Dónde está?</td>
<td class="org-left">Revisar <code>https://dominio.com/robots.txt</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgd6d8093" class="outline-4">
<h4 id="orgd6d8093">Ejemplo de robots.txt</h4>
<div class="outline-text-4" id="text-orgd6d8093">
<pre class="example" id="org3324312">
User-agent: *
Disallow: /admin/
Disallow: /api/  # Puede indicar que hay API disponible
Allow: /public/

User-agent: BadBot
Disallow: /
</pre>
</div>
</div>
<div id="outline-container-orged2329e" class="outline-4">
<h4 id="orged2329e">Consecuencias de omitir esta fase</h4>
<div class="outline-text-4" id="text-orged2329e">
<ul class="org-ul">
<li>Demandas por violación de términos de servicio.</li>
<li>Bloqueo de IP o cuenta.</li>
<li>Responsabilidad por tratamiento indebido de datos personales.</li>
<li>Reputación y costes legales.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc820c01" class="outline-3">
<h3 id="orgc820c01">Fase 2: Buscar alternativas al scraping</h3>
<div class="outline-text-3" id="text-orgc820c01">
</div>
<div id="outline-container-orge169801" class="outline-4">
<h4 id="orge169801">Jerarquía de preferencia (orden recomendado)</h4>
<div class="outline-text-4" id="text-orge169801">
<ol class="org-ol">
<li><b>API oficial</b> (Twitter, INEGI, Amazon Product Advertising API, etc.)</li>
<li><b>RSS / feed XML</b></li>
<li><b>JSON oculto en Network</b> (pestaña Network del navegador: peticiones XHR/Fetch que devuelven JSON)</li>
<li><b>HTML estático</b> (<code>requests</code> + lxml)</li>
<li><b>Contenido dinámico</b> (Selenium, Playwright)</li>
</ol>

<p>
Nunca empezar con Selenium si no es necesario: es más lento y pesado. Ejemplos: Twitter/X
→ API oficial (plan básico limitado); Amazon → Product Advertising API para afiliados.
</p>
</div>
</div>
<div id="outline-container-orgcc4823e" class="outline-4">
<h4 id="orgcc4823e">Antes de scrapear, preguntar</h4>
<div class="outline-text-4" id="text-orgcc4823e">
<ol class="org-ol">
<li>¿Existe una <b>API oficial</b>? (Google, Twitter, INEGI, etc.)</li>
<li>¿Hay <b>datos abiertos</b> o descarga masiva? (datos.gob.mx, Kaggle)</li>
<li>¿Ofrecen <b>exportación</b> o <b>feed RSS/XML</b>?</li>
<li>¿El sitio carga datos por JSON interno? (revisar pestaña Network)</li>
<li>¿Se puede <b>contactar</b> al propietario para solicitar acceso formal?</li>
</ol>
</div>
</div>
<div id="outline-container-org1b84602" class="outline-4">
<h4 id="org1b84602">Motivos para preferir alternativas</h4>
<div class="outline-text-4" id="text-org1b84602">
<ul class="org-ul">
<li>Legalidad más clara.</li>
<li>Menor riesgo de bloqueo.</li>
<li>Datos más estructurados y estables.</li>
<li>Menos mantenimiento ante cambios del sitio.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgd765595" class="outline-3">
<h3 id="orgd765595">Fase 3: Planificación</h3>
<div class="outline-text-3" id="text-orgd765595">
</div>
<div id="outline-container-orgb7569bf" class="outline-4">
<h4 id="orgb7569bf">Definir alcance</h4>
<div class="outline-text-4" id="text-orgb7569bf">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Aspecto</th>
<th scope="col" class="org-left">Preguntas</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Objetivo</td>
<td class="org-left">¿Qué datos exactos necesito?</td>
</tr>

<tr>
<td class="org-left">Volumen</td>
<td class="org-left">¿Cuántas páginas/registros?</td>
</tr>

<tr>
<td class="org-left">Frecuencia</td>
<td class="org-left">¿Una vez, diario, en tiempo real?</td>
</tr>

<tr>
<td class="org-left">Formato salida</td>
<td class="org-left">CSV, JSON, base de datos</td>
</tr>

<tr>
<td class="org-left">Tiempo estimado</td>
<td class="org-left">¿Cuánto tardará una ejecución completa?</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgffc4633" class="outline-4">
<h4 id="orgffc4633">Estimar carga al servidor</h4>
<div class="outline-text-4" id="text-orgffc4633">
<p>
\[
\text{peticiones/hora} \approx \frac{\text{páginas totales}}{\text{tiempo deseado (h)}} \times (1 + \text{margen reintentos})
\]
</p>

<p>
Mantener un ritmo <b>razonable</b> evita saturar el servidor y ser detectado como bot.
</p>
</div>
</div>
</div>
<div id="outline-container-orgd6a6d15" class="outline-3">
<h3 id="orgd6a6d15">Fase 4: Análisis técnico</h3>
<div class="outline-text-3" id="text-orgd6a6d15">
</div>
<div id="outline-container-orgba0cbde" class="outline-4">
<h4 id="orgba0cbde">Inspeccionar el sitio</h4>
<div class="outline-text-4" id="text-orgba0cbde">
<ul class="org-ul">
<li>Herramientas de desarrollador (F12): estructura HTML, clases, IDs.</li>
<li>Network tab: ver peticiones XHR/Fetch (contenido dinámico).</li>
<li>Probar si <code>requests</code> + <code>lxml</code> devuelven el contenido visible en el navegador.</li>
</ul>
</div>
</div>
<div id="outline-container-orgc2f5da0" class="outline-4">
<h4 id="orgc2f5da0">Contenido estático vs. dinámico</h4>
<div class="outline-text-4" id="text-orgc2f5da0">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Tipo</th>
<th scope="col" class="org-left">Cómo identificarlo</th>
<th scope="col" class="org-left">Herramienta típica</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Estático</td>
<td class="org-left">HTML completo en la respuesta GET</td>
<td class="org-left"><code>requests</code> + <code>lxml</code></td>
</tr>

<tr>
<td class="org-left">Dinámico</td>
<td class="org-left">Contenido cargado por JavaScript</td>
<td class="org-left">Selenium, Playwright</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org51cc6c2" class="outline-4">
<h4 id="org51cc6c2">Mapear la estructura</h4>
<div class="outline-text-4" id="text-org51cc6c2">
<ul class="org-ul">
<li>URLs base y patrones de paginación.</li>
<li>Selectores XPath o CSS estables.</li>
<li>Formularios, cookies o cabeceras requeridas.</li>
</ul>
</div>
</div>
<div id="outline-container-org29049ac" class="outline-4">
<h4 id="org29049ac">Detectando JSON oculto (Network)</h4>
<div class="outline-text-4" id="text-org29049ac">
<p>
Muchos sitios (incl. Amazon, tiendas, portales) cargan datos por peticiones internas a APIs
que devuelven JSON. En lugar de parsear HTML:
</p>

<ol class="org-ol">
<li>Abrir herramientas de desarrollador (F12) → pestaña <b>Network</b>.</li>
<li>Filtrar por XHR o Fetch.</li>
<li>Recargar la página y observar qué peticiones devuelven datos útiles.</li>
<li>Copiar la URL de la petición y sus parámetros; replicar con <code>requests</code>.</li>
</ol>

<p>
Ventaja: JSON estructurado, más fácil de parsear y más estable que el HTML.
</p>
</div>
</div>
</div>
<div id="outline-container-org00d2745" class="outline-3">
<h3 id="org00d2745">Fase 5: Desarrollo</h3>
<div class="outline-text-3" id="text-org00d2745">
</div>
<div id="outline-container-org1d41965" class="outline-4">
<h4 id="org1d41965">Estructura recomendada del código</h4>
<div class="outline-text-4" id="text-org1d41965">
<pre class="example" id="orgce6e931">
scraper/
├── config.py        # URLs, timeouts, headers
├── fetch.py         # Lógica de peticiones HTTP
├── parse.py         # Extracción con XPath/CSS
├── storage.py       # Guardar datos (CSV, DB)
├── main.py          # Orquestación
└── logs/            # Registro de ejecuciones
</pre>
</div>
</div>
<div id="outline-container-org5b5c681" class="outline-4">
<h4 id="org5b5c681">Manejo de errores</h4>
<div class="outline-text-4" id="text-org5b5c681">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> time
<span style="color: #fb4934;">import</span> requests
<span style="color: #fb4934;">from</span> requests.adapters <span style="color: #fb4934;">import</span> HTTPAdapter
<span style="color: #fb4934;">from</span> urllib3.util.retry <span style="color: #fb4934;">import</span> Retry

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">session_con_reintentos</span><span style="color: #fe8019;">()</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">session</span> = requests.Session<span style="color: #fe8019;">()</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">retries</span> = Retry<span style="color: #fe8019;">(</span>total=3, backoff_factor=1, status_forcelist=<span style="color: #b16286;">[</span>500, 502, 503<span style="color: #b16286;">]</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   session.mount<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"https://"</span>, HTTPAdapter<span style="color: #b16286;">(</span>max_retries=retries<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> session

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">fetch_con_pausa</span><span style="color: #fe8019;">(</span>url, session, delay=1<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">try</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">r</span> = session.get<span style="color: #fe8019;">(</span>url, timeout=30<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   r.raise_for_status<span style="color: #fe8019;">()</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   time.sleep<span style="color: #fe8019;">(</span>delay<span style="color: #fe8019;">)</span>  <span style="color: #928374;"># </span><span style="color: #928374;">Rate limiting
</span><span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> r.content
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">except</span> requests.RequestException <span style="color: #fb4934;">as</span> e:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">Registrar en log, no solo print
</span><span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">raise</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org22c26c1" class="outline-3">
<h3 id="org22c26c1">Fase 6: Seguridad y robustez</h3>
<div class="outline-text-3" id="text-org22c26c1">
</div>
<div id="outline-container-org67106a0" class="outline-4">
<h4 id="org67106a0">Seguridad de las peticiones</h4>
<div class="outline-text-4" id="text-org67106a0">
</div>
<ul class="org-ul">
<li><a id="org19751fd"></a>User-Agent e identificación<br />
<div class="outline-text-5" id="text-org19751fd">
<ul class="org-ul">
<li>Identificarse de forma clara (no hacerse pasar por Googlebot si no lo eres).</li>
<li>Incluir un correo de contacto si el sitio lo sugiere.</li>
<li>Evitar user-agents de navegadores muy antiguos (suelen ser bloqueados).</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #83a598;">HEADERS</span> = <span style="color: #fe8019;">{</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"User-Agent"</span>: <span style="color: #b8bb26;">"MiProyecto/1.0 (estudio acad&#233;mico; +mail@ejemplo.com)"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"Accept"</span>: <span style="color: #b8bb26;">"text/html,application/xhtml+xml"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"Accept-Language"</span>: <span style="color: #b8bb26;">"es-ES,es;q=0.9"</span>,
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</li>
<li><a id="orgdcc3826"></a>No exponer credenciales<br />
<div class="outline-text-5" id="text-orgdcc3826">
<ul class="org-ul">
<li>Nunca hardcodear API keys, contraseñas o tokens.</li>
<li>Usar variables de entorno o archivos de configuración excluidos de control de versiones.</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> os
<span style="color: #83a598;">API_KEY</span> = os.environ.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"SCRAPER_API_KEY"</span><span style="color: #fe8019;">)</span>
<span style="color: #fb4934;">if</span> <span style="color: #fb4934;">not</span> API_KEY:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">raise</span> <span style="color: #fabd2f;">ValueError</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Configurar SCRAPER_API_KEY"</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org8a2322a"></a>Validar y sanitizar datos de entrada<br />
<div class="outline-text-5" id="text-org8a2322a">
<ul class="org-ul">
<li>URLs, parámetros y consultas pueden venir de fuentes externas.</li>
<li>Evitar inyección o URLs maliciosas (redirecciones a dominios desconocidos).</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">from</span> urllib.parse <span style="color: #fb4934;">import</span> urlparse

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">url_permitida</span><span style="color: #fe8019;">(</span>url, dominios_permitidos<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">parsed</span> = urlparse<span style="color: #fe8019;">(</span>url<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> parsed.netloc <span style="color: #fb4934;">in</span> dominios_permitidos
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org3ff83ee" class="outline-4">
<h4 id="org3ff83ee">Seguridad de los datos extraídos</h4>
<div class="outline-text-4" id="text-org3ff83ee">
</div>
<ul class="org-ul">
<li><a id="orgc9d09b3"></a>Sanitización de salida<br />
<div class="outline-text-5" id="text-orgc9d09b3">
<ul class="org-ul">
<li>Limpiar HTML antes de guardar (evitar XSS si luego se muestran en una web).</li>
<li>Validar tipos y formatos (fechas, números, textos).</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> re
<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">limpiar_texto</span><span style="color: #fe8019;">(</span>texto<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fb4934;">not</span> <span style="color: #fe8019;">isinstance</span><span style="color: #fe8019;">(</span>texto, <span style="color: #fe8019;">str</span><span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> <span style="color: #b8bb26;">""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> re.sub<span style="color: #fe8019;">(</span>r<span style="color: #b8bb26;">"&lt;[^&gt;]+&gt;"</span>, <span style="color: #b8bb26;">""</span>, texto<span style="color: #fe8019;">)</span>.strip<span style="color: #fe8019;">()</span>
</pre>
</div>
</div>
</li>
<li><a id="org3661047"></a>Almacenamiento<br />
<div class="outline-text-5" id="text-org3661047">
<ul class="org-ul">
<li>No guardar datos personales innecesarios.</li>
<li>Cifrar almacenamiento si hay datos sensibles.</li>
<li>Respaldar solo lo necesario y cumplir normativa de retención.</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgd5ee0b4" class="outline-4">
<h4 id="orgd5ee0b4">Protección del sitio objetivo (ética técnica)</h4>
<div class="outline-text-4" id="text-orgd5ee0b4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Práctica</th>
<th scope="col" class="org-left">Objetivo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Rate limiting</td>
<td class="org-left">No saturar el servidor; pausas entre peticiones</td>
</tr>

<tr>
<td class="org-left">Horarios valle</td>
<td class="org-left">Ejecutar en horas de menor tráfico si es posible</td>
</tr>

<tr>
<td class="org-left">Cache</td>
<td class="org-left">Evitar repetir peticiones innecesarias</td>
</tr>

<tr>
<td class="org-left">Respetar 429/503</td>
<td class="org-left">Detener o ralentizar si el servidor pide esperar</td>
</tr>

<tr>
<td class="org-left">No evadir bloqueos</td>
<td class="org-left">Si te bloquean, revisar si tu uso es adecuado</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org661561c" class="outline-4">
<h4 id="org661561c">Proxies y escalado (consideraciones)</h4>
<div class="outline-text-4" id="text-org661561c">
<ul class="org-ul">
<li>Proxies rotativos: mayor complejidad y coste; puede violar términos de uso.</li>
<li>Antes de usarlos: confirmar legalidad y política del sitio.</li>
<li>Preferir optimizar el ritmo antes que multiplicar IPs.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org6752f05" class="outline-3">
<h3 id="org6752f05">Fase 7: Ejecución y mantenimiento</h3>
<div class="outline-text-3" id="text-org6752f05">
</div>
<div id="outline-container-orge4d2f72" class="outline-4">
<h4 id="orge4d2f72">Logging</h4>
<div class="outline-text-4" id="text-orge4d2f72">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> logging
logging.basicConfig<span style="color: #fe8019;">(</span>level=logging.INFO, <span style="color: #fe8019;">format</span>=<span style="color: #b8bb26;">"%(asctime)s [%(levelname)s] %(message)s"</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">logger</span> = logging.getLogger<span style="color: #fe8019;">(</span><span style="color: #fe8019;">__name__</span><span style="color: #fe8019;">)</span>
logger.info<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Iniciando scraping de %s"</span>, url<span style="color: #fe8019;">)</span>
logger.warning<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Reintento %d para %s"</span>, intento, url<span style="color: #fe8019;">)</span>
logger.error<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Error en %s: %s"</span>, url, <span style="color: #fe8019;">str</span><span style="color: #b16286;">(</span>e<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgca95ac2" class="outline-4">
<h4 id="orgca95ac2">Monitoreo básico</h4>
<div class="outline-text-4" id="text-orgca95ac2">
<ul class="org-ul">
<li>Tasa de éxito vs. errores.</li>
<li>Tiempo de respuesta y códigos HTTP.</li>
<li>Cambios en la estructura (parsers que dejan de funcionar).</li>
</ul>
</div>
</div>
<div id="outline-container-org2a47746" class="outline-4">
<h4 id="org2a47746">Adaptación a cambios</h4>
<div class="outline-text-4" id="text-org2a47746">
<ul class="org-ul">
<li>Los sitios modifican HTML, clases y rutas.</li>
<li>Diseñar selectores robustos (evitar dependencias frágiles).</li>
<li>Revisar periódicamente que el scraper sigue funcionando.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org8dce76e" class="outline-3">
<h3 id="org8dce76e">Checklist de seguridad resumido</h3>
<div class="outline-text-3" id="text-org8dce76e">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">#</th>
<th scope="col" class="org-left">Verificación</th>
<th scope="col" class="org-left">Estado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-left">Términos de uso y robots.txt revisados</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-left">Sin API/alternativa viable</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-left">Credenciales en variables de entorno</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-left">User-Agent identificable</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left">Rate limiting / pausas implementados</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">6</td>
<td class="org-left">Manejo de errores y reintentos</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">7</td>
<td class="org-left">Validación de URLs y dominios permitidos</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">8</td>
<td class="org-left">Sanitización de datos extraídos</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">9</td>
<td class="org-left">Sin almacenar datos personales innecesarios</td>
<td class="org-left">☐</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-left">Logging y monitoreo básico</td>
<td class="org-left">☐</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org5cdac06" class="outline-3">
<h3 id="org5cdac06">Riesgos y mitigaciones</h3>
<div class="outline-text-3" id="text-org5cdac06">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Riesgo</th>
<th scope="col" class="org-left">Mitigación</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Bloqueo de IP</td>
<td class="org-left">Rate limiting, horarios valle, User-Agent adecuado</td>
</tr>

<tr>
<td class="org-left">Cambio de estructura HTML</td>
<td class="org-left">Selectores resilientes, pruebas periódicas</td>
</tr>

<tr>
<td class="org-left">Exposición de credenciales</td>
<td class="org-left">Variables de entorno, .gitignore</td>
</tr>

<tr>
<td class="org-left">Datos personales</td>
<td class="org-left">Minimización, anonimización, cumplimiento legal</td>
</tr>

<tr>
<td class="org-left">Caída del servidor objetivo</td>
<td class="org-left">Reintentos con backoff, detección de 429/503</td>
</tr>

<tr>
<td class="org-left">Malware en respuestas</td>
<td class="org-left">Validar tipos MIME, no ejecutar código descargado</td>
</tr>

<tr>
<td class="org-left">Sanciones legales</td>
<td class="org-left">Cumplir ToS, robots.txt y normativa aplicable</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org2ec93a7" class="outline-3">
<h3 id="org2ec93a7">Referencias</h3>
<div class="outline-text-3" id="text-org2ec93a7">
<ul class="org-ul">
<li><code>Tutorial_Webscraping_XPath_Blogs.org</code>: Técnicas de scraping con XPath, ejemplo likcos.</li>
<li><code>Fuentes_Datos_Gobierno_Abierto.org</code>: INEGI, datos.gob.mx, clima, alternativas legales.</li>
<li><code>Tutorial_XPath.org</code>: Sintaxis XPath y comparación XPath vs CSS.</li>
<li>robots.txt: <code>https://dominio.com/robots.txt</code></li>
<li>RGPD / LFPDPPP: normativa aplicable a datos personales según jurisdicción.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org7b08533" class="outline-2">
<h2 id="org7b08533">Web Scraping con XPath para Blogs Estáticos</h2>
<div class="outline-text-2" id="text-org7b08533">
</div>
<div id="outline-container-org3508715" class="outline-3">
<h3 id="org3508715">Introducción</h3>
<div class="outline-text-3" id="text-org3508715">
<p>
Este apartado explica cómo hacer <b>web scraping</b> con XPath sobre <b>blogs estáticos</b> (HTML
pre-renderizado en el servidor), qué consideraciones técnicas y éticas tener, y por qué
<b>sitios como Amazon</b> no son adecuados para este enfoque.
</p>
</div>
<div id="outline-container-org6ceeff7" class="outline-4">
<h4 id="org6ceeff7">Prerrequisitos</h4>
<div class="outline-text-4" id="text-org6ceeff7">
<ul class="org-ul">
<li>Python 3 con <code>requests</code>, <code>lxml</code> (o <code>BeautifulSoup</code> con parser lxml).</li>
<li>Conocimientos básicos de XPath (ver <code>Tutorial_XPath.org</code>).</li>
<li>Comprensión de la estructura HTML (etiquetas, clases, ids).</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgbe485ad" class="outline-3">
<h3 id="orgbe485ad">Blogs estáticos vs. sitios dinámicos</h3>
<div class="outline-text-3" id="text-orgbe485ad">
</div>
<div id="outline-container-orgc4366b4" class="outline-4">
<h4 id="orgc4366b4">¿Qué es un blog estático?</h4>
<div class="outline-text-4" id="text-orgc4366b4">
<p>
Un blog estático sirve HTML ya generado por el servidor. Al hacer una petición GET,
recibes el contenido completo en la respuesta. No necesitas ejecutar JavaScript para
ver los artículos.
</p>
</div>
<ul class="org-ul">
<li><a id="orga566392"></a>Características típicas<br />
<div class="outline-text-5" id="text-orga566392">
<ul class="org-ul">
<li>HTML con estructura predecible (artículos en <code>&lt;article&gt;</code>, <code>&lt;div class</code>"post"&gt;=, etc.).</li>
<li>Paginación mediante URLs distintas (<code>/page/2/</code>, <code>?p=2</code>).</li>
<li>Contenido público y pensado para ser indexado por buscadores.</li>
<li>Sin capchas agresivos ni medidas anti-bot fuertes (en muchos casos).</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgda87154" class="outline-4">
<h4 id="orgda87154">¿Por qué son adecuados para scraping?</h4>
<div class="outline-text-4" id="text-orgda87154">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Aspecto</th>
<th scope="col" class="org-left">Blogs estáticos</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Contenido</td>
<td class="org-left">HTML completo en la respuesta</td>
</tr>

<tr>
<td class="org-left">Herramientas</td>
<td class="org-left"><code>requests</code> + <code>lxml</code> suficientes</td>
</tr>

<tr>
<td class="org-left">Estructura</td>
<td class="org-left">Generalmente clara y consistente</td>
</tr>

<tr>
<td class="org-left">Legalidad</td>
<td class="org-left">Más predecible si es uso personal</td>
</tr>

<tr>
<td class="org-left">robots.txt</td>
<td class="org-left">Suele permitir acceso a contenido</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-orgedfe988" class="outline-3">
<h3 id="orgedfe988">Técnicas de scraping para blogs con XPath</h3>
<div class="outline-text-3" id="text-orgedfe988">
</div>
<div id="outline-container-orgef3a33e" class="outline-4">
<h4 id="orgef3a33e">Paso 1: Inspeccionar la estructura HTML</h4>
<div class="outline-text-4" id="text-orgef3a33e">
<p>
Antes de escribir XPath, abre el blog en el navegador y usa las herramientas de
desarrollador (F12) para ver:
</p>

<ul class="org-ul">
<li>Contenedor de artículos: <code>&lt;article&gt;</code>, <code>&lt;div class</code>"post"&gt;=, <code>&lt;div class</code>"entry"&gt;=.</li>
<li>Título: <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, <code>&lt;a class</code>"title"&gt;=.</li>
<li>Autor, fecha, categorías.</li>
<li>Enlace al artículo completo: <code>&lt;a href</code>"&#x2026;"&gt;=.</li>
<li>Snippet o extracto: <code>&lt;p class</code>"excerpt"&gt;=, <code>&lt;div class</code>"summary"&gt;=.</li>
</ul>
</div>
</div>
<div id="outline-container-orgbcd41e8" class="outline-4">
<h4 id="orgbcd41e8">Paso 2: Obtener el HTML</h4>
<div class="outline-text-4" id="text-orgbcd41e8">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> requests
<span style="color: #fb4934;">from</span> lxml <span style="color: #fb4934;">import</span> etree

<span style="color: #83a598;">url</span> = <span style="color: #b8bb26;">"https://ejemplo-blog.com/"</span>
<span style="color: #83a598;">headers</span> = <span style="color: #fe8019;">{</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"User-Agent"</span>: <span style="color: #b8bb26;">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36"</span>
<span style="color: #fe8019;">}</span>
<span style="color: #83a598;">response</span> = requests.get<span style="color: #fe8019;">(</span>url, headers=headers<span style="color: #fe8019;">)</span>
response.raise_for_status<span style="color: #fe8019;">()</span>
<span style="color: #83a598;">html</span> = response.content
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc4f21db" class="outline-4">
<h4 id="orgc4f21db">Paso 3: Parsear y aplicar XPath</h4>
<div class="outline-text-4" id="text-orgc4f21db">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #83a598;">tree</span> = etree.HTML<span style="color: #fe8019;">(</span>html<span style="color: #fe8019;">)</span>

<span style="color: #928374;"># </span><span style="color: #928374;">Ejemplos t&#237;picos para blogs (ajustar selectores seg&#250;n el sitio):
</span><span style="color: #928374;"># </span><span style="color: #928374;">Todos los art&#237;culos
</span><span style="color: #83a598;">articulos</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//article"</span><span style="color: #fe8019;">)</span>
<span style="color: #928374;"># </span><span style="color: #928374;">o
</span><span style="color: #83a598;">articulos</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//div[contains(@class, 'post')]"</span><span style="color: #fe8019;">)</span>

<span style="color: #928374;"># </span><span style="color: #928374;">T&#237;tulo del primer art&#237;culo
</span><span style="color: #83a598;">titulo</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//article[1]//h2/a/text()"</span><span style="color: #fe8019;">)[</span>0<span style="color: #fe8019;">]</span>.strip<span style="color: #fe8019;">()</span>

<span style="color: #928374;"># </span><span style="color: #928374;">Enlace al art&#237;culo
</span><span style="color: #83a598;">enlace</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//article[1]//h2/a/@href"</span><span style="color: #fe8019;">)[</span>0<span style="color: #fe8019;">]</span>

<span style="color: #928374;"># </span><span style="color: #928374;">Fecha (si est&#225; en un elemento con clase 'date')
</span><span style="color: #83a598;">fecha</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//article[1]//time/@datetime"</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">fecha</span> = fecha<span style="color: #fe8019;">[</span>0<span style="color: #fe8019;">]</span> <span style="color: #fb4934;">if</span> fecha <span style="color: #fb4934;">else</span> tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//article[1]//*[contains(@class,'date')]/text()"</span><span style="color: #fe8019;">)</span>

<span style="color: #928374;"># </span><span style="color: #928374;">Extracto o resumen
</span><span style="color: #83a598;">extracto</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//article[1]//div[contains(@class,'excerpt')]//text()"</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">extracto</span> = <span style="color: #b8bb26;">" "</span>.join<span style="color: #fe8019;">(</span>t.strip<span style="color: #b16286;">()</span> <span style="color: #fb4934;">for</span> t <span style="color: #fb4934;">in</span> extracto <span style="color: #fb4934;">if</span> t.strip<span style="color: #b16286;">()</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgff6a560" class="outline-4">
<h4 id="orgff6a560">Paso 4: Extraer todos los artículos de una página</h4>
<div class="outline-text-4" id="text-orgff6a560">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">extraer_articulos_pagina</span><span style="color: #fe8019;">(</span>html<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">tree</span> = etree.HTML<span style="color: #fe8019;">(</span>html<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">articulos</span> = tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//article"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">resultado</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> art <span style="color: #fb4934;">in</span> articulos:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">titulo</span> = art.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">".//h2/a/text() | .//h1/a/text() | .//.//a[contains(@class,'title')]/text()"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">enlace</span> = art.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">".//h2/a/@href | .//h1/a/@href | .//a[contains(@class,'title')]/@href"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">extracto</span> = art.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">".//div[contains(@class,'excerpt')]//text() | .//p[contains(@class,'summary')]//text()"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   resultado.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">{</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"titulo"</span>: titulo<span style="color: #b8bb26;">[</span>0<span style="color: #b8bb26;">]</span>.strip<span style="color: #b8bb26;">()</span> <span style="color: #fb4934;">if</span> titulo <span style="color: #fb4934;">else</span> <span style="color: #b8bb26;">""</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"enlace"</span>: enlace<span style="color: #b8bb26;">[</span>0<span style="color: #b8bb26;">]</span> <span style="color: #fb4934;">if</span> enlace <span style="color: #fb4934;">else</span> <span style="color: #b8bb26;">""</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"extracto"</span>: <span style="color: #b8bb26;">" "</span>.join<span style="color: #b8bb26;">(</span>t.strip<span style="color: #83a598;">()</span> <span style="color: #fb4934;">for</span> t <span style="color: #fb4934;">in</span> extracto <span style="color: #fb4934;">if</span> t.strip<span style="color: #83a598;">()</span><span style="color: #b8bb26;">)[</span>:200<span style="color: #b8bb26;">]</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> resultado
</pre>
</div>
</div>
</div>
<div id="outline-container-org4a80e69" class="outline-4">
<h4 id="org4a80e69">Paso 5: Paginación</h4>
<div class="outline-text-4" id="text-org4a80e69">
<p>
Muchos blogs usan URLs como <code>/page/2/</code>, <code>/?paged=2</code>, <code>/blog?page=2</code>:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> time

<span style="color: #83a598;">base_url</span> = <span style="color: #b8bb26;">"https://ejemplo-blog.com/page/{}/"</span>
<span style="color: #fb4934;">for</span> pagina <span style="color: #fb4934;">in</span> <span style="color: #fe8019;">range</span><span style="color: #fe8019;">(</span>1, 6<span style="color: #fe8019;">)</span>:  <span style="color: #928374;"># </span><span style="color: #928374;">p&#225;ginas 1 a 5
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">url</span> = base_url.<span style="color: #fe8019;">format</span><span style="color: #fe8019;">(</span>pagina<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">response</span> = requests.get<span style="color: #fe8019;">(</span>url, headers=headers<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">articulos</span> = extraer_articulos_pagina<span style="color: #fe8019;">(</span>response.content<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> a <span style="color: #fb4934;">in</span> articulos:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>a<span style="color: #b16286;">[</span><span style="color: #b8bb26;">"titulo"</span><span style="color: #b16286;">]</span>, a<span style="color: #b16286;">[</span><span style="color: #b8bb26;">"enlace"</span><span style="color: #b16286;">]</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   time.sleep<span style="color: #fe8019;">(</span>1<span style="color: #fe8019;">)</span>  <span style="color: #928374;"># </span><span style="color: #928374;">respetar el servidor: pausa entre peticiones</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbe6d11f" class="outline-4">
<h4 id="orgbe6d11f">XPath útiles para blogs (resumen)</h4>
<div class="outline-text-4" id="text-orgbe6d11f">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Objetivo</th>
<th scope="col" class="org-left">XPath típico</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Contenedor posts</td>
<td class="org-left"><code>//article</code>, <code>//div[contains(@class,'post')]</code></td>
</tr>

<tr>
<td class="org-left">Título</td>
<td class="org-left"><code>.//h1/a/text()</code>, <code>.//h2/a/text()</code></td>
</tr>

<tr>
<td class="org-left">Enlace</td>
<td class="org-left"><code>.//h1/a/@href</code>, <code>.//a[contains(@class,'entry-link')]/@href</code></td>
</tr>

<tr>
<td class="org-left">Fecha</td>
<td class="org-left"><code>.//time/@datetime</code>, <code>.//*[contains(@class,'date')]/text()</code></td>
</tr>

<tr>
<td class="org-left">Autor</td>
<td class="org-left"><code>.//*[contains(@class,'author')]/text()</code></td>
</tr>

<tr>
<td class="org-left">Categorías</td>
<td class="org-left"><code>.//a[contains(@class,'category')]/text()</code></td>
</tr>

<tr>
<td class="org-left">Extracto</td>
<td class="org-left"><code>.//div[contains(@class,'excerpt')]//text()</code></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org356e238" class="outline-3">
<h3 id="org356e238">Consideraciones éticas y legales</h3>
<div class="outline-text-3" id="text-org356e238">
</div>
<div id="outline-container-org715e99e" class="outline-4">
<h4 id="org715e99e">Buenas prácticas</h4>
<div class="outline-text-4" id="text-org715e99e">
<ol class="org-ol">
<li><b>robots.txt</b>: Revisar si el sitio prohíbe o limita el scraping.</li>
<li><b>User-Agent</b>: Identificarse de forma razonable (no hacerse pasar por bot de Google).</li>
<li><b>Rate limiting</b>: Hacer pausas entre peticiones (<code>time.sleep(1)</code> o más).</li>
<li><b>Uso razonable</b>: Evitar sobrecargar el servidor; respetar términos de uso.</li>
<li><b>Atribución</b>: Si redistribuyes contenido, cita la fuente.</li>
</ol>
</div>
</div>
<div id="outline-container-org936ce75" class="outline-4">
<h4 id="org936ce75">Cuándo es más aceptable</h4>
<div class="outline-text-4" id="text-org936ce75">
<ul class="org-ul">
<li>Blogs personales o pequeños con contenido público.</li>
<li>Uso educativo o de investigación.</li>
<li>Agregadores de noticias que respetan robots.txt y términos de uso.</li>
<li>Contenido bajo licencias abiertas (CC, etc.).</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org0558cc7" class="outline-3">
<h3 id="org0558cc7">Por qué NO es adecuado hacer scraping en Amazon (y similares)</h3>
<div class="outline-text-3" id="text-org0558cc7">
</div>
<div id="outline-container-org652a984" class="outline-4">
<h4 id="org652a984">1. Términos de uso y condiciones</h4>
<div class="outline-text-4" id="text-org652a984">
<p>
Amazon (y la mayoría de grandes plataformas) <b>prohíben explícitamente</b> el scraping en
sus condiciones de servicio. Hacerlo puede suponer:
</p>

<ul class="org-ul">
<li>Suspensión o cierre de cuenta.</li>
<li>Acciones legales.</li>
<li>Bloqueo de IP.</li>
</ul>

<p>
No es una limitación técnica, sino contractual y legal.
</p>
</div>
</div>
<div id="outline-container-orgadc97e4" class="outline-4">
<h4 id="orgadc97e4">2. Contenido dinámico (JavaScript)</h4>
<div class="outline-text-4" id="text-orgadc97e4">
<p>
Amazon carga gran parte del contenido mediante JavaScript:
</p>

<ul class="org-ul">
<li>Listados de productos se actualizan con peticiones AJAX.</li>
<li>Precios, disponibilidad y valoraciones se insertan después del HTML inicial.</li>
<li>Una petición con <code>requests</code> devuelve HTML casi vacío respecto a lo que ves en el navegador.</li>
</ul>

<p>
Para scraping efectivo haría falta un navegador headless (Selenium, Playwright), lo que:
</p>

<ul class="org-ul">
<li>Es más complejo y pesado.</li>
<li>Genera más carga para el servidor.</li>
<li>Suele detectarse más fácilmente como bot.</li>
</ul>
</div>
</div>
<div id="outline-container-org49295fd" class="outline-4">
<h4 id="org49295fd">3. Medidas anti-bot</h4>
<div class="outline-text-4" id="text-org49295fd">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Medida</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Rate limiting</td>
<td class="org-left">Bloqueo temporal tras muchas peticiones</td>
</tr>

<tr>
<td class="org-left">CAPTCHAs</td>
<td class="org-left">Verificaciones que rompen automatización</td>
</tr>

<tr>
<td class="org-left">Fingerprinting</td>
<td class="org-left">Detección de patrones de navegación</td>
</tr>

<tr>
<td class="org-left">IP blocking</td>
<td class="org-left">Bloqueo de IPs sospechosas</td>
</tr>

<tr>
<td class="org-left">Contenido ofuscado</td>
<td class="org-left">Clases/ids aleatorios que cambian</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org1b2025c" class="outline-4">
<h4 id="org1b2025c">4. Estructura cambiante</h4>
<div class="outline-text-4" id="text-org1b2025c">
<ul class="org-ul">
<li>El HTML de Amazon cambia con frecuencia (A/B tests, rediseños).</li>
<li>Selectores XPath que funcionan hoy pueden dejar de hacerlo en semanas.</li>
<li>Mantener un scraper estable es costoso y frágil.</li>
</ul>
</div>
</div>
<div id="outline-container-org990fc2f" class="outline-4">
<h4 id="org990fc2f">5. Alternativas legales y recomendadas</h4>
<div class="outline-text-4" id="text-org990fc2f">
<ul class="org-ul">
<li><b>Amazon Product Advertising API</b>: Para afiliados y partners autorizados.</li>
<li><b>Otros APIs oficiales</b>: Muchas tiendas ofrecen APIs para precios, inventario, etc.</li>
<li><b>Bases de datos de terceros</b>: Datasets académicos o comerciales de productos.</li>
</ul>
</div>
</div>
<div id="outline-container-org477b11a" class="outline-4">
<h4 id="org477b11a">Resumen: Amazon vs. blog estático</h4>
<div class="outline-text-4" id="text-org477b11a">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Aspecto</th>
<th scope="col" class="org-left">Blog estático</th>
<th scope="col" class="org-left">Amazon (y similares)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Términos de uso</td>
<td class="org-left">Suele ser tolerable</td>
<td class="org-left">Prohibido explícitamente</td>
</tr>

<tr>
<td class="org-left">Contenido</td>
<td class="org-left">HTML estático completo</td>
<td class="org-left">Mucho contenido dinámico</td>
</tr>

<tr>
<td class="org-left">Anti-bot</td>
<td class="org-left">Escaso o inexistente</td>
<td class="org-left">Muy presente</td>
</tr>

<tr>
<td class="org-left">Estructura</td>
<td class="org-left">Estable y predecible</td>
<td class="org-left">Cambia con frecuencia</td>
</tr>

<tr>
<td class="org-left">Alternativas</td>
<td class="org-left">Scraping razonable</td>
<td class="org-left">Usar API oficial</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-orge24ff2a" class="outline-3">
<h3 id="orge24ff2a">Ejemplo completo: scraper para un blog estático</h3>
<div class="outline-text-3" id="text-orge24ff2a">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> requests
<span style="color: #fb4934;">from</span> lxml <span style="color: #fb4934;">import</span> etree
<span style="color: #fb4934;">import</span> time
<span style="color: #fb4934;">import</span> csv

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">scrape_blog</span><span style="color: #fe8019;">(</span>base_url, num_paginas=3<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Extrae art&#237;culos de un blog est&#225;tico con paginaci&#243;n /page/N/."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">headers</span> = <span style="color: #fe8019;">{</span><span style="color: #b8bb26;">"User-Agent"</span>: <span style="color: #b8bb26;">"Mozilla/5.0 (compatible; BlogStudyBot/1.0)"</span><span style="color: #fe8019;">}</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">articulos</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> p <span style="color: #fb4934;">in</span> <span style="color: #fe8019;">range</span><span style="color: #fe8019;">(</span>1, num_paginas + 1<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">url</span> = f<span style="color: #b8bb26;">"</span>{base_url.rstrip('/')}<span style="color: #b8bb26;">/page/</span>{p}<span style="color: #b8bb26;">/"</span> <span style="color: #fb4934;">if</span> p &gt; 1 <span style="color: #fb4934;">else</span> base_url
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">try</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">r</span> = requests.get<span style="color: #fe8019;">(</span>url, headers=headers, timeout=10<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   r.raise_for_status<span style="color: #fe8019;">()</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">tree</span> = etree.HTML<span style="color: #fe8019;">(</span>r.content<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> art <span style="color: #fb4934;">in</span> tree.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"//article"</span><span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">tit</span> = art.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">".//h2/a/text() | .//h1/a/text()"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">lnk</span> = art.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">".//h2/a/@href | .//h1/a/@href"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">ext</span> = art.xpath<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">".//div[contains(@class,'excerpt')]//text()"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   articulos.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">{</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"titulo"</span>: tit<span style="color: #b8bb26;">[</span>0<span style="color: #b8bb26;">]</span>.strip<span style="color: #b8bb26;">()</span> <span style="color: #fb4934;">if</span> tit <span style="color: #fb4934;">else</span> <span style="color: #b8bb26;">""</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"enlace"</span>: lnk<span style="color: #b8bb26;">[</span>0<span style="color: #b8bb26;">]</span> <span style="color: #fb4934;">if</span> lnk <span style="color: #fb4934;">else</span> <span style="color: #b8bb26;">""</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"extracto"</span>: <span style="color: #b8bb26;">" "</span>.join<span style="color: #b8bb26;">(</span>t.strip<span style="color: #83a598;">()</span> <span style="color: #fb4934;">for</span> t <span style="color: #fb4934;">in</span> ext <span style="color: #fb4934;">if</span> t.strip<span style="color: #83a598;">()</span><span style="color: #b8bb26;">)[</span>:300<span style="color: #b8bb26;">]</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">except</span> <span style="color: #fabd2f;">Exception</span> <span style="color: #fb4934;">as</span> e:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"Error en </span>{url}<span style="color: #b8bb26;">: </span>{e}<span style="color: #b8bb26;">"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   time.sleep<span style="color: #fe8019;">(</span>1<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> articulos

<span style="color: #928374;"># </span><span style="color: #928374;">Uso (sustituir por un blog real que permita scraping):
</span><span style="color: #928374;"># </span><span style="color: #928374;">datos = scrape_blog("https://ejemplo-blog.com/", num_paginas=3)
</span><span style="color: #928374;"># </span><span style="color: #928374;">for a in datos:
</span><span style="color: #928374;">#     </span><span style="color: #928374;">print(a["titulo"], "-&gt;", a["enlace"])</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8b36680" class="outline-3">
<h3 id="org8b36680">Dependencias</h3>
<div class="outline-text-3" id="text-org8b36680">
<pre class="example" id="org35cb16d">
pip install requests lxml
</pre>
</div>
</div>
<div id="outline-container-org82da00f" class="outline-3">
<h3 id="org82da00f">Referencias</h3>
<div class="outline-text-3" id="text-org82da00f">
<ul class="org-ul">
<li><code>Tutorial_XPath.org</code>: Sintaxis y ejemplos de XPath.</li>
<li><code>robots.txt</code>: Revisar <code>https://dominio.com/robots.txt</code> antes de scrapear.</li>
<li>APIs: Buscar si el sitio ofrece una API oficial antes de automatizar.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org486a6c5" class="outline-2">
<h2 id="org486a6c5">Fuentes de Datos Gubernamentales y Abiertos: INEGI, datos.gob.mx y más</h2>
<div class="outline-text-2" id="text-org486a6c5">
</div>
<div id="outline-container-orge9a8870" class="outline-3">
<h3 id="orge9a8870">Introducción</h3>
<div class="outline-text-3" id="text-orge9a8870">
<p>
Instituciones gubernamentales publican <b>datos abiertos</b> bajo marcos legales que permiten
su reutilización. Es preferible usar <b>APIs oficiales</b> o <b>descargas directas</b> en lugar de
scraping cuando están disponibles: son legales, estables y eficientes.
</p>

<p>
Este apartado recopila fuentes como <b>INEGI</b>, <b>datos.gob.mx</b> y otras donde sí podemos
obtener información de forma adecuada.
</p>
</div>
</div>
<div id="outline-container-org71a658f" class="outline-3">
<h3 id="org71a658f">INEGI (México)</h3>
<div class="outline-text-3" id="text-org71a658f">
</div>
<div id="outline-container-org8fccfea" class="outline-4">
<h4 id="org8fccfea">Qué es INEGI</h4>
<div class="outline-text-4" id="text-org8fccfea">
<p>
El <b>Instituto Nacional de Estadística y Geografía</b> (INEGI) produce estadísticas y
geografía de México. Ofrece varias formas de acceso programático a sus datos.
</p>
</div>
</div>
<div id="outline-container-org3fa4889" class="outline-4">
<h4 id="org3fa4889">API del Banco de Indicadores</h4>
<div class="outline-text-4" id="text-org3fa4889">
</div>
<ul class="org-ul">
<li><a id="org20ee916"></a>Registro y token<br />
<div class="outline-text-5" id="text-org20ee916">
<ul class="org-ul">
<li>URL: <code>https://www.inegi.org.mx/servicios/api_indicadores.html</code></li>
<li>Requiere <b>registro</b> para obtener un <b>token</b>.</li>
<li>Registro: <code>https://www.inegi.org.mx/app/desarrolladores/registro/default.html</code></li>
</ul>
</div>
</li>
<li><a id="orgc85aa99"></a>Parámetros típicos<br />
<div class="outline-text-5" id="text-orgc85aa99">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Parámetro</th>
<th scope="col" class="org-left">Descripción</th>
<th scope="col" class="org-left">Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">IdIndicador</td>
<td class="org-left">Clave del indicador</td>
<td class="org-left">1002000001 (Población total)</td>
</tr>

<tr>
<td class="org-left">Idioma</td>
<td class="org-left">es / en</td>
<td class="org-left">es</td>
</tr>

<tr>
<td class="org-left">Área geográfica</td>
<td class="org-left">00=nacional, 99=entidad, 999=municipio</td>
<td class="org-left">00</td>
</tr>

<tr>
<td class="org-left">Dato más reciente</td>
<td class="org-left">true / false</td>
<td class="org-left">false (serie histórica)</td>
</tr>

<tr>
<td class="org-left">Fuente</td>
<td class="org-left">BISE, etc.</td>
<td class="org-left">BISE</td>
</tr>

<tr>
<td class="org-left">Token</td>
<td class="org-left">Token de registro</td>
<td class="org-left">[tu token]</td>
</tr>

<tr>
<td class="org-left">Formato</td>
<td class="org-left">json, jsonp, xml</td>
<td class="org-left">json</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="orgc3cfcd5"></a>Ejemplo en Python (API Indicadores)<br />
<div class="outline-text-5" id="text-orgc3cfcd5">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> requests

<span style="color: #83a598;">TOKEN</span> = <span style="color: #b8bb26;">"TU_TOKEN_AQUI"</span>  <span style="color: #928374;"># </span><span style="color: #928374;">Obtener en inegi.org.mx/app/desarrolladores/registro
</span><span style="color: #928374;"># </span><span style="color: #928374;">Indicador 1002000001 = Poblaci&#243;n total
</span><span style="color: #83a598;">url</span> = <span style="color: #fe8019;">(</span>
<span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"https://www.inegi.org.mx/app/api/indicadores/desarrolladores/jsonxml/"</span>
<span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"INDICATOR/1002000001/es/00/false/BISE/2.0/</span>{TOKEN}<span style="color: #b8bb26;">?type=json"</span>
<span style="color: #fe8019;">)</span>
<span style="color: #83a598;">response</span> = requests.get<span style="color: #fe8019;">(</span>url<span style="color: #fe8019;">)</span>
<span style="color: #83a598;">data</span> = response.json<span style="color: #fe8019;">()</span>
<span style="color: #928374;"># </span><span style="color: #928374;">Estructura: data["Series"][0]["OBSERVATIONS"]
</span><span style="color: #fb4934;">for</span> obs <span style="color: #fb4934;">in</span> data.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Series"</span>, <span style="color: #b16286;">[</span><span style="color: #b8bb26;">{}</span><span style="color: #b16286;">]</span><span style="color: #fe8019;">)[</span>0<span style="color: #fe8019;">]</span>.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"OBSERVATIONS"</span>, <span style="color: #b16286;">[]</span><span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>obs<span style="color: #b16286;">[</span><span style="color: #b8bb26;">"TIME_PERIOD"</span><span style="color: #b16286;">]</span>, obs<span style="color: #b16286;">[</span><span style="color: #b8bb26;">"OBS_VALUE"</span><span style="color: #b16286;">]</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org879c390" class="outline-4">
<h4 id="org879c390">API DENUE (Directorio Estadístico Nacional de Unidades Económicas)</h4>
<div class="outline-text-4" id="text-org879c390">
<ul class="org-ul">
<li>URL: <code>https://www.inegi.org.mx/servicios/api_denue.html</code></li>
<li>Busca establecimientos por palabra, actividad económica, ubicación, etc.</li>
<li>Requiere token.</li>
<li>Devuelve JSON con unidades económicas.</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="orgd057941"></a>Ejemplo de consulta DENUE<br />
<div class="outline-text-5" id="text-orgd057941">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #83a598;">TOKEN</span> = <span style="color: #b8bb26;">"TU_TOKEN"</span>
<span style="color: #83a598;">busqueda</span> = <span style="color: #b8bb26;">"restaurante"</span>
<span style="color: #83a598;">entidad</span> = <span style="color: #b8bb26;">"19"</span>  <span style="color: #928374;"># </span><span style="color: #928374;">Nuevo Le&#243;n
</span><span style="color: #83a598;">url</span> = f<span style="color: #b8bb26;">"https://www.inegi.org.mx/app/api/denue/v1/consulta/buscar/</span>{busqueda}<span style="color: #b8bb26;">/</span>{entidad}<span style="color: #b8bb26;">/</span>{TOKEN}<span style="color: #b8bb26;">"</span>
<span style="color: #83a598;">response</span> = requests.get<span style="color: #fe8019;">(</span>url<span style="color: #fe8019;">)</span>
<span style="color: #83a598;">establecimientos</span> = response.json<span style="color: #fe8019;">()</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgb42417e" class="outline-4">
<h4 id="orgb42417e">Datos Abiertos INEGI</h4>
<div class="outline-text-4" id="text-orgb42417e">
<ul class="org-ul">
<li>URL: <code>https://www.inegi.org.mx/datosabiertos/</code></li>
<li>Archivos en formatos estándar (CSV, Excel, etc.).</li>
<li>Descarga directa sin API; suele usarse para conjuntos grandes.</li>
</ul>
</div>
</div>
<div id="outline-container-org78848db" class="outline-4">
<h4 id="org78848db">Descarga Masiva INEGI</h4>
<div class="outline-text-4" id="text-org78848db">
<ul class="org-ul">
<li>URL: <code>https://www.inegi.org.mx/app/descarga/</code></li>
<li>Permite seleccionar DENUE, Banco de Indicadores, Inventario Nacional de Viviendas,
microdatos y tabulados por área geográfica, tema, período y formato.</li>
</ul>
</div>
</div>
<div id="outline-container-org22a09a0" class="outline-4">
<h4 id="org22a09a0">Librería inegipy (Python)</h4>
<div class="outline-text-4" id="text-org22a09a0">
<pre class="example" id="org679c067">
pip install inegipy
</pre>

<p>
Facilita el acceso al Banco de Indicadores, DENUE y Marco Geoestadístico.
Documentación: <code>https://pypi.org/project/inegipy/</code>
</p>
</div>
</div>
</div>
<div id="outline-container-orgf4556f0" class="outline-3">
<h3 id="orgf4556f0">datos.gob.mx (Plataforma Nacional de Datos Abiertos)</h3>
<div class="outline-text-3" id="text-orgf4556f0">
</div>
<div id="outline-container-orgd82f08b" class="outline-4">
<h4 id="orgd82f08b">Qué es datos.gob.mx</h4>
<div class="outline-text-4" id="text-orgd82f08b">
<p>
Plataforma centralizada de <b>datos abiertos</b> del Gobierno de México. Incluye miles de
bases de datos de dependencias federales, estatales y organismos autónomos.
</p>

<ul class="org-ul">
<li>URL: <code>https://datos.gob.mx/</code></li>
<li>Más de 5 000 bases de datos.</li>
<li>Categorías: Economía, Educación, Salud, Cultura, Ciencia y Tecnología, etc.</li>
</ul>
</div>
</div>
<div id="outline-container-org0904ab3" class="outline-4">
<h4 id="org0904ab3">API CKAN</h4>
<div class="outline-text-4" id="text-org0904ab3">
<p>
La plataforma usa <b>CKAN</b>. Su API permite listar conjuntos, buscar y obtener URLs de
descarga de recursos (CSV, Excel, etc.).
</p>
</div>
<ul class="org-ul">
<li><a id="org5013e29"></a>Endpoints útiles<br />
<div class="outline-text-5" id="text-org5013e29">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Acción</th>
<th scope="col" class="org-left">URL</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Listar datasets</td>
<td class="org-left"><code>/api/3/action/package_list</code></td>
<td class="org-left">IDs de todos los conjuntos</td>
</tr>

<tr>
<td class="org-left">Ver dataset</td>
<td class="org-left"><code>/api/3/action/package_show?id=ID</code></td>
<td class="org-left">Metadatos y recursos</td>
</tr>

<tr>
<td class="org-left">Buscar</td>
<td class="org-left"><code>/api/3/action/package_search?q=TERMINO</code></td>
<td class="org-left">Búsqueda por término</td>
</tr>

<tr>
<td class="org-left">Ver recurso</td>
<td class="org-left"><code>/api/3/action/resource_show?id=ID</code></td>
<td class="org-left">Detalles de un recurso</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="orga7bbab6"></a>Ejemplo: listar y buscar conjuntos de datos<br />
<div class="outline-text-5" id="text-orga7bbab6">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> requests

<span style="color: #83a598;">BASE</span> = <span style="color: #b8bb26;">"https://datos.gob.mx/api/3/action"</span>

<span style="color: #928374;"># </span><span style="color: #928374;">Listar todos los IDs de conjuntos
</span><span style="color: #83a598;">r</span> = requests.get<span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"</span>{BASE}<span style="color: #b8bb26;">/package_list"</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">datasets</span> = r.json<span style="color: #fe8019;">()</span>.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"result"</span>, <span style="color: #b16286;">[]</span><span style="color: #fe8019;">)</span>

<span style="color: #928374;"># </span><span style="color: #928374;">Buscar por t&#233;rmino
</span><span style="color: #83a598;">r</span> = requests.get<span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"</span>{BASE}<span style="color: #b8bb26;">/package_search"</span>, params=<span style="color: #b16286;">{</span><span style="color: #b8bb26;">"q"</span>: <span style="color: #b8bb26;">"educaci&#243;n"</span><span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">resultados</span> = r.json<span style="color: #fe8019;">()</span>.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"result"</span>, <span style="color: #b16286;">{}</span><span style="color: #fe8019;">)</span>.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"results"</span>, <span style="color: #b16286;">[]</span><span style="color: #fe8019;">)</span>
<span style="color: #fb4934;">for</span> d <span style="color: #fb4934;">in</span> resultados<span style="color: #fe8019;">[</span>:5<span style="color: #fe8019;">]</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>d<span style="color: #b16286;">[</span><span style="color: #b8bb26;">"title"</span><span style="color: #b16286;">]</span>, <span style="color: #b8bb26;">"-"</span>, d.get<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"organization"</span>, <span style="color: #b8bb26;">{}</span><span style="color: #b16286;">)</span>.get<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"title"</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgdda0d8e"></a>Ejemplo: obtener URL de descarga de un recurso<br />
<div class="outline-text-5" id="text-orgdda0d8e">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #928374;"># </span><span style="color: #928374;">Supongamos que tenemos el id del dataset (ej. "catalogo-escuelas")
</span><span style="color: #83a598;">dataset_id</span> = <span style="color: #b8bb26;">"catalogo-escuelas"</span>
<span style="color: #83a598;">r</span> = requests.get<span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"</span>{BASE}<span style="color: #b8bb26;">/package_show"</span>, params=<span style="color: #b16286;">{</span><span style="color: #b8bb26;">"id"</span>: dataset_id<span style="color: #b16286;">}</span><span style="color: #fe8019;">)</span>
<span style="color: #83a598;">pkg</span> = r.json<span style="color: #fe8019;">()</span>.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"result"</span>, <span style="color: #b16286;">{}</span><span style="color: #fe8019;">)</span>
<span style="color: #fb4934;">for</span> res <span style="color: #fb4934;">in</span> pkg.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"resources"</span>, <span style="color: #b16286;">[]</span><span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> res.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"format"</span>, <span style="color: #b8bb26;">""</span><span style="color: #fe8019;">)</span>.upper<span style="color: #fe8019;">()</span> == <span style="color: #b8bb26;">"CSV"</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">url_descarga</span> = res<span style="color: #fe8019;">[</span><span style="color: #b8bb26;">"url"</span><span style="color: #fe8019;">]</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Descargar CSV:"</span>, url_descarga<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">response = requests.get(url_descarga)
</span><span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">with open("datos.csv", "wb") as f:
</span><span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #928374;">#     </span><span style="color: #928374;">f.write(response.content)
</span><span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">break</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org56e5165" class="outline-4">
<h4 id="org56e5165">Descarga directa de archivos</h4>
<div class="outline-text-4" id="text-org56e5165">
<p>
En la web de datos.gob.mx cada dataset tiene recursos con enlaces de descarga directa.
Se puede usar la API para obtener esas URLs y luego <code>requests.get()</code> para descargar.
</p>
</div>
</div>
</div>
<div id="outline-container-orge067ff3" class="outline-3">
<h3 id="orge067ff3">Otras fuentes gubernamentales de datos abiertos</h3>
<div class="outline-text-3" id="text-orge067ff3">
</div>
<div id="outline-container-org773edeb" class="outline-4">
<h4 id="org773edeb">México</h4>
<div class="outline-text-4" id="text-org773edeb">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Fuente</th>
<th scope="col" class="org-left">URL</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">INEGI</td>
<td class="org-left">inegi.org.mx</td>
<td class="org-left">Estadísticas, indicadores, DENUE, geografía</td>
</tr>

<tr>
<td class="org-left">datos.gob.mx</td>
<td class="org-left">datos.gob.mx</td>
<td class="org-left">Catálogo nacional de datos abiertos</td>
</tr>

<tr>
<td class="org-left">SAT datos abiertos</td>
<td class="org-left">gob.mx/sat</td>
<td class="org-left">Información fiscal y aduanal</td>
</tr>

<tr>
<td class="org-left">SEPOMEX</td>
<td class="org-left">sepomex.gob.mx</td>
<td class="org-left">Códigos postales (consultar términos de uso)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgbc164a0" class="outline-4">
<h4 id="orgbc164a0">España</h4>
<div class="outline-text-4" id="text-orgbc164a0">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Fuente</th>
<th scope="col" class="org-left">URL</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">datos.gob.es</td>
<td class="org-left">datos.gob.es</td>
<td class="org-left">Portal de datos abiertos de España</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org693e67d" class="outline-4">
<h4 id="org693e67d">Internacional</h4>
<div class="outline-text-4" id="text-org693e67d">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Fuente</th>
<th scope="col" class="org-left">URL</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">World Bank Open Data</td>
<td class="org-left">data.worldbank.org</td>
<td class="org-left">Indicadores mundiales</td>
</tr>

<tr>
<td class="org-left">UN Data</td>
<td class="org-left">data.un.org</td>
<td class="org-left">Estadísticas de Naciones Unidas</td>
</tr>

<tr>
<td class="org-left">Eurostat</td>
<td class="org-left">ec.europa.eu/eurostat</td>
<td class="org-left">Estadísticas europeas</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org1933e6a" class="outline-3">
<h3 id="org1933e6a">Cuándo usar cada método</h3>
<div class="outline-text-3" id="text-org1933e6a">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Método</th>
<th scope="col" class="org-left">Cuándo usarlo</th>
<th scope="col" class="org-left">Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">API oficial</td>
<td class="org-left">Existe y cubre tus necesidades</td>
<td class="org-left">INEGI Indicadores, DENUE</td>
</tr>

<tr>
<td class="org-left">Descarga directa</td>
<td class="org-left">Archivos CSV/Excel en el portal</td>
<td class="org-left">datos.gob.mx, INEGI Datos Abiertos</td>
</tr>

<tr>
<td class="org-left">API CKAN</td>
<td class="org-left">Listar, buscar, obtener URLs de recursos</td>
<td class="org-left">datos.gob.mx</td>
</tr>

<tr>
<td class="org-left">Scraping</td>
<td class="org-left">Solo si no hay API ni descarga y el sitio lo permite</td>
<td class="org-left">Evitar en gobierno; preferir alternativas</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org46794c2" class="outline-3">
<h3 id="org46794c2">Buenas prácticas</h3>
<div class="outline-text-3" id="text-org46794c2">
<ol class="org-ol">
<li><b>Priorizar API y descargas oficiales</b>: Son legales, estables y están pensadas para uso programático.</li>
<li><b>Revisar términos de uso y licencias</b>: Aunque sean datos abiertos, pueden haber condiciones.</li>
<li><b>Identificarse</b>: Usar un User-Agent razonable si haces peticiones HTTP.</li>
<li><b>No saturar servidores</b>: Respetar rate limits; hacer pausas entre peticiones masivas.</li>
<li><b>Atribuir la fuente</b>: Citar INEGI, datos.gob.mx, etc., al publicar o reutilizar datos.</li>
<li><b>Protección de datos</b>: Evitar extraer o combinar datos que permitan identificar personas sin base legal.</li>
</ol>
</div>
</div>
<div id="outline-container-org6054ddf" class="outline-3">
<h3 id="org6054ddf">Ejemplo completo: indicador INEGI + guardar CSV</h3>
<div class="outline-text-3" id="text-org6054ddf">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> requests
<span style="color: #fb4934;">import</span> csv

<span style="color: #83a598;">TOKEN</span> = <span style="color: #b8bb26;">"TU_TOKEN"</span>
<span style="color: #928374;"># </span><span style="color: #928374;">INPC - &#205;ndice Nacional de Precios al Consumidor (ejemplo)
</span><span style="color: #83a598;">indicador</span> = <span style="color: #b8bb26;">"628193"</span>  <span style="color: #928374;"># </span><span style="color: #928374;">Ajustar al indicador deseado
</span><span style="color: #83a598;">url</span> = <span style="color: #fe8019;">(</span>
<span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"https://www.inegi.org.mx/app/api/indicadores/desarrolladores/jsonxml/"</span>
<span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"INDICATOR/</span>{indicador}<span style="color: #b8bb26;">/es/00/false/BISE/2.0/</span>{TOKEN}<span style="color: #b8bb26;">?type=json"</span>
<span style="color: #fe8019;">)</span>
<span style="color: #83a598;">r</span> = requests.get<span style="color: #fe8019;">(</span>url<span style="color: #fe8019;">)</span>
<span style="color: #83a598;">data</span> = r.json<span style="color: #fe8019;">()</span>

<span style="color: #83a598;">observaciones</span> = data.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Series"</span>, <span style="color: #b16286;">[</span><span style="color: #b8bb26;">{}</span><span style="color: #b16286;">]</span><span style="color: #fe8019;">)[</span>0<span style="color: #fe8019;">]</span>.get<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"OBSERVATIONS"</span>, <span style="color: #b16286;">[]</span><span style="color: #fe8019;">)</span>
<span style="color: #fb4934;">with</span> <span style="color: #fe8019;">open</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"indicador_inegi.csv"</span>, <span style="color: #b8bb26;">"w"</span>, newline=<span style="color: #b8bb26;">""</span>, encoding=<span style="color: #b8bb26;">"utf-8"</span><span style="color: #fe8019;">)</span> <span style="color: #fb4934;">as</span> f:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">w</span> = csv.writer<span style="color: #fe8019;">(</span>f<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   w.writerow<span style="color: #fe8019;">(</span><span style="color: #b16286;">[</span><span style="color: #b8bb26;">"periodo"</span>, <span style="color: #b8bb26;">"valor"</span><span style="color: #b16286;">]</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> obs <span style="color: #fb4934;">in</span> observaciones:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   w.writerow<span style="color: #fe8019;">(</span><span style="color: #b16286;">[</span>obs<span style="color: #b8bb26;">[</span><span style="color: #b8bb26;">"TIME_PERIOD"</span><span style="color: #b8bb26;">]</span>, obs<span style="color: #b8bb26;">[</span><span style="color: #b8bb26;">"OBS_VALUE"</span><span style="color: #b8bb26;">]</span><span style="color: #b16286;">]</span><span style="color: #fe8019;">)</span>
<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"Guardados </span>{<span style="color: #fe8019;">len</span>(observaciones)}<span style="color: #b8bb26;"> registros"</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgacd796b" class="outline-3">
<h3 id="orgacd796b">Resumen de enlaces</h3>
<div class="outline-text-3" id="text-orgacd796b">
<ul class="org-ul">
<li>INEGI API Indicadores: <code>https://www.inegi.org.mx/servicios/api_indicadores.html</code></li>
<li>INEGI API DENUE: <code>https://www.inegi.org.mx/servicios/api_denue.html</code></li>
<li>INEGI Datos Abiertos: <code>https://www.inegi.org.mx/datosabiertos/</code></li>
<li>INEGI Descarga Masiva: <code>https://www.inegi.org.mx/app/descarga/</code></li>
<li>Registro token INEGI: <code>https://www.inegi.org.mx/app/desarrolladores/registro/default.html</code></li>
<li>datos.gob.mx: <code>https://datos.gob.mx/</code></li>
<li>Constructor de Consultas INEGI: <code>https://www.inegi.org.mx/app/querybuilder/</code></li>
</ul>
</div>
</div>
<div id="outline-container-orgfa2a964" class="outline-3">
<h3 id="orgfa2a964">Dependencias</h3>
<div class="outline-text-3" id="text-orgfa2a964">
<pre class="example" id="org67ab721">
pip install requests inegipy
</pre>
</div>
</div>
</div>
<div id="outline-container-org37a202c" class="outline-2">
<h2 id="org37a202c">Actividades Introductorias - Recuperación de la Información</h2>
<div class="outline-text-2" id="text-org37a202c">
</div>
<div id="outline-container-orgfe465af" class="outline-3">
<h3 id="orgfe465af">Introducción</h3>
<div class="outline-text-3" id="text-orgfe465af">
<p>
Este conjunto de actividades tiene como objetivo desarrollar en el estudiante
las habilidades básicas de recuperación de información:
</p>

<ul class="org-ul">
<li>Formulación de consultas</li>
<li>Identificación de relevancia</li>
<li>Detección de ruido</li>
<li>Evaluación de fuentes</li>
<li>Análisis crítico de resultados</li>
</ul>

<p>
No se requiere programación. El enfoque es conceptual y práctico.
</p>

<hr />
</div>
</div>
<div id="outline-container-org2135cde" class="outline-3">
<h3 id="org2135cde">1. Inteligencia Artificial en la vida diaria</h3>
<div class="outline-text-3" id="text-org2135cde">
</div>
<div id="outline-container-org72e9b3b" class="outline-4">
<h4 id="org72e9b3b">1.1 Uso de la IA en la educación y el aprendizaje</h4>
<div class="outline-text-4" id="text-org72e9b3b">
</div>
<ul class="org-ul">
<li><a id="orgc4bbc58"></a>Objetivo<br />
<div class="outline-text-5" id="text-orgc4bbc58">
<p>
Analizar cómo cambia la recuperación de información según la formulación de la consulta.
</p>
</div>
</li>
<li><a id="org9c3c47c"></a>Actividad<br />
<div class="outline-text-5" id="text-org9c3c47c">
<ol class="org-ol">
<li>Formular tres consultas:
<ul class="org-ul">
<li>General</li>
<li>Específica</li>
<li>Académica (Google Scholar)</li>
</ul></li>
<li>Recuperar al menos 8 resultados por consulta.</li>
<li>Clasificar cada resultado:
<ul class="org-ul">
<li>Evidencia científica</li>
<li>Opinión</li>
<li>Publicidad</li>
<li>Experiencia personal</li>
</ul></li>
</ol>
</div>
</li>
<li><a id="orgb243084"></a>Producto<br />
<div class="outline-text-5" id="text-orgb243084">
<p>
Tabla comparativa de calidad de resultados por tipo de consulta.
</p>
</div>
</li>
<li><a id="org21c0f59"></a>Reflexión<br />
<div class="outline-text-5" id="text-org21c0f59">
<ul class="org-ul">
<li>¿Qué consulta tuvo mayor precisión?</li>
<li>¿Cuál generó más ruido?</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-org059c41a" class="outline-4">
<h4 id="org059c41a">1.2 IA generativa y creación de contenido</h4>
<div class="outline-text-4" id="text-org059c41a">
</div>
<ul class="org-ul">
<li><a id="orgb7965d3"></a>Objetivo<br />
<div class="outline-text-5" id="text-orgb7965d3">
<p>
nComparar sistemas generativos y sistemas de recuperación tradicionales.
</p>
</div>
</li>
<li><a id="org07bb11e"></a>Actividad<br />
<div class="outline-text-5" id="text-org07bb11e">
<ol class="org-ol">
<li>Buscar información sobre "IA generativa".</li>
<li>Formular la misma pregunta a ChatGPT.</li>
<li>Comparar:
<ul class="org-ul">
<li>Fuentes citadas</li>
<li>Profundidad</li>
<li>Posibles omisiones</li>
</ul></li>
</ol>
</div>
</li>
<li><a id="org8cdbae8"></a>Producto<br />
<div class="outline-text-5" id="text-org8cdbae8">
<p>
Reporte comparativo de 1 cuartilla.
</p>
</div>
</li>
<li><a id="org8cda947"></a>Conceptos clave<br />
<div class="outline-text-5" id="text-org8cda947">
<p>
Relevancia, ranking, síntesis vs recuperación.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgf98048e" class="outline-4">
<h4 id="orgf98048e">1.3 Impacto de la IA en el empleo joven</h4>
<div class="outline-text-4" id="text-orgf98048e">
</div>
<ul class="org-ul">
<li><a id="orga5d8aac"></a>Actividad<br />
<div class="outline-text-5" id="text-orga5d8aac">
<ol class="org-ol">
<li>Recuperar:
<ul class="org-ul">
<li>3 noticias alarmistas</li>
<li>2 estudios académicos</li>
<li>2 fuentes estadísticas</li>
</ul></li>
<li>Clasificar el tipo de evidencia.</li>
</ol>
</div>
</li>
<li><a id="orgc78380c"></a>Reflexión<br />
<div class="outline-text-5" id="text-orgc78380c">
<p>
¿Predomina el sensacionalismo o la evidencia?
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org43fb26a" class="outline-4">
<h4 id="org43fb26a">1.4 Ética, privacidad y regulación</h4>
<div class="outline-text-4" id="text-org43fb26a">
</div>
<ul class="org-ul">
<li><a id="orgd282ec7"></a>Actividad<br />
<div class="outline-text-5" id="text-orgd282ec7">
<p>
Realizar búsqueda usando:
site:.gob
site:.edu
site:.org
</p>

<p>
Comparar resultados con blogs o medios comerciales.
</p>
</div>
</li>
<li><a id="orgec2e749"></a>Producto<br />
<div class="outline-text-5" id="text-orgec2e749">
<p>
Mapa conceptual de fuentes oficiales vs no oficiales.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgb95f5c8" class="outline-4">
<h4 id="orgb95f5c8">1.5 Herramientas de IA cotidianas</h4>
<div class="outline-text-4" id="text-orgb95f5c8">
</div>
<ul class="org-ul">
<li><a id="org907ec75"></a>Actividad<br />
<div class="outline-text-5" id="text-org907ec75">
<ol class="org-ol">
<li>Identificar 5 herramientas de IA.</li>
<li>Recuperar información sobre:
<ul class="org-ul">
<li>Uso de datos personales</li>
<li>Políticas de privacidad</li>
</ul></li>
<li>Clasificar riesgos.</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-org7e69925" class="outline-3">
<h3 id="org7e69925">2. Salud mental y bienestar en jóvenes</h3>
<div class="outline-text-3" id="text-org7e69925">
</div>
<div id="outline-container-org4e8bea2" class="outline-4">
<h4 id="org4e8bea2">2.1 Ansiedad y estrés académico</h4>
<div class="outline-text-4" id="text-org4e8bea2">
</div>
<ul class="org-ul">
<li><a id="orgf5c1074"></a>Actividad<br />
<div class="outline-text-5" id="text-orgf5c1074">
<p>
Comparar resultados de:
</p>
<ul class="org-ul">
<li>"estrés estudiantes"</li>
<li>"estrés académico universitario estudio"</li>
<li>"academic stress prevalence Mexico"</li>
</ul>
</div>
</li>
<li><a id="orgf182a8c"></a>Reflexión<br />
<div class="outline-text-5" id="text-orgf182a8c">
<p>
¿Cómo cambia la calidad de los resultados?
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgd42021b" class="outline-4">
<h4 id="orgd42021b">2.2 Influencia de redes sociales</h4>
<div class="outline-text-4" id="text-orgd42021b">
</div>
<ul class="org-ul">
<li><a id="org8a163ce"></a>Actividad<br />
<div class="outline-text-5" id="text-org8a163ce">
<p>
Buscar:
</p>
<ul class="org-ul">
<li>Impacto negativo de redes sociales</li>
<li>Impacto positivo de redes sociales</li>
</ul>

<p>
Comparar narrativas y diversidad de fuentes.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org7349c9c" class="outline-4">
<h4 id="org7349c9c">2.3 Estrategias de autocuidado</h4>
<div class="outline-text-4" id="text-org7349c9c">
</div>
<ul class="org-ul">
<li><a id="org91e6f39"></a>Actividad<br />
<div class="outline-text-5" id="text-org91e6f39">
<p>
Clasificar resultados en:
</p>
<ul class="org-ul">
<li>Científico</li>
<li>Comercial</li>
<li>Influencer</li>
<li>Pseudociencia</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-org25311f3" class="outline-4">
<h4 id="org25311f3">2.4 Salud mental universitaria</h4>
<div class="outline-text-4" id="text-org25311f3">
</div>
<ul class="org-ul">
<li><a id="org42b9eeb"></a>Actividad<br />
<div class="outline-text-5" id="text-org42b9eeb">
<p>
Recuperar programas de apoyo psicológico en universidades mexicanas.
</p>

<p>
Analizar:
</p>
<ul class="org-ul">
<li>Visibilidad</li>
<li>Claridad de información</li>
<li>Accesibilidad</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-org3971b98" class="outline-4">
<h4 id="org3971b98">2.5 Programas y políticas públicas</h4>
<div class="outline-text-4" id="text-org3971b98">
</div>
<ul class="org-ul">
<li><a id="orgf658718"></a>Actividad<br />
<div class="outline-text-5" id="text-orgf658718">
<p>
Buscar:
site:.gob.mx "salud mental jovenes"
</p>

<p>
Evaluar cobertura y actualidad.
</p>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgb08293a" class="outline-3">
<h3 id="orgb08293a">3. Algoritmos, poder y sociedad digital</h3>
<div class="outline-text-3" id="text-orgb08293a">
</div>
<div id="outline-container-org69a50f9" class="outline-4">
<h4 id="org69a50f9">3.1 Algoritmos de recomendación</h4>
<div class="outline-text-4" id="text-org69a50f9">
</div>
<ul class="org-ul">
<li><a id="org52bd7d2"></a>Actividad<br />
<div class="outline-text-5" id="text-org52bd7d2">
<p>
Diferentes perfiles de búsqueda:
</p>
<ul class="org-ul">
<li>Noticias políticas A</li>
<li>Noticias políticas B</li>
</ul>

<p>
Comparar resultados obtenidos.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org01c1b68" class="outline-4">
<h4 id="org01c1b68">3.2 Economía de la atención</h4>
<div class="outline-text-4" id="text-org01c1b68">
</div>
<ul class="org-ul">
<li><a id="org89d7197"></a>Actividad<br />
<div class="outline-text-5" id="text-org89d7197">
<p>
Seleccionar un tema polémico.
Comparar:
</p>
<ul class="org-ul">
<li>Título</li>
<li>Contenido</li>
<li>Palabras clave predominantes</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgd6e337f" class="outline-4">
<h4 id="orgd6e337f">3.3 Vigilancia y privacidad</h4>
<div class="outline-text-4" id="text-orgd6e337f">
</div>
<ul class="org-ul">
<li><a id="orgdeea0fe"></a>Actividad<br />
<div class="outline-text-5" id="text-orgdeea0fe">
<p>
Comparar búsquedas:
</p>
<ul class="org-ul">
<li>"vigilancia digital"</li>
<li>"surveillance capitalism"</li>
</ul>

<p>
Analizar profundidad de resultados.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgca0f356" class="outline-4">
<h4 id="orgca0f356">3.4 Plataformas digitales y control de la información</h4>
<div class="outline-text-4" id="text-orgca0f356">
</div>
<ul class="org-ul">
<li><a id="orge051ba9"></a>Actividad<br />
<div class="outline-text-5" id="text-orge051ba9">
<p>
Buscar el mismo tema en:
</p>
<ul class="org-ul">
<li>Google</li>
<li>Bing</li>
<li>DuckDuckGo</li>
</ul>

<p>
Comparar ranking y diversidad de fuentes.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org3c1a6d7" class="outline-4">
<h4 id="org3c1a6d7">3.5 Desinformación y fake news</h4>
<div class="outline-text-4" id="text-org3c1a6d7">
</div>
<ul class="org-ul">
<li><a id="org6b95a26"></a>Actividad principal: Detectives de información<br />
<div class="outline-text-5" id="text-org6b95a26">
<ol class="org-ol">
<li>Se proporciona una noticia potencialmente dudosa.</li>
<li>El estudiante debe:
<ul class="org-ul">
<li>Formular consultas alternativas</li>
<li>Recuperar evidencia</li>
<li>Verificar fecha y fuente original</li>
</ul></li>
<li>Clasificar evidencia como:
<ul class="org-ul">
<li>Confirmada</li>
<li>Engañosa</li>
<li>Falsa</li>
<li>Desactualizada</li>
</ul></li>
</ol>
</div>
</li>
<li><a id="org1c0c94a"></a>Producto final<br />
<div class="outline-text-5" id="text-org1c0c94a">
<p>
Informe argumentado con evidencia recuperada.
</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org18aabb4" class="outline-2">
<h2 id="org18aabb4">La Ventana de Overton</h2>
<div class="outline-text-2" id="text-org18aabb4">
<p>
La Ventana de Overton es una teoría política que describe el rango de
ideas que el público está dispuesto a aceptar en un momento dado. Las
ideas fuera de la ventana se consideran "radicales" o "impensables".
</p>

<p>
El objetivo de la desinformación suele ser "empujar" la ventana para
que algo que hoy nos parece una locura, mañana nos parezca normal.
</p>
</div>
<div id="outline-container-orgb3d9042" class="outline-3">
<h3 id="orgb3d9042">Caso de Estudio: "La legalización de la carne humana"</h3>
<div class="outline-text-3" id="text-orgb3d9042">
<p>
Este es uno de los ejemplos más perturbadores y efectivos para
analizar cómo se manipula la opinión pública mediante noticias falsas
y debates provocados.
</p>

<ol class="org-ol">
<li>La Noticia (El anzuelo)</li>
</ol>

<p>
En varios portales de noticias "alternativas" y redes sociales,
empezaron a circular artículos afirmando que "Científicos y éticos
sugieren que comer carne humana producida en laboratorio es la
solución al cambio climático".
</p>

<ol class="org-ol">
<li>El proceso de búsqueda y recuperación para los alumnos:</li>
</ol>

<p>
Paso 1: De lo Impensable a lo Radical. Aparecen noticias sobre una
empresa ficticia o un artista que "sirve carne humana" en una cena
privada. (Es falso, pero introduce la idea en el buscador de Google).
</p>

<p>
Paso 2: De lo Radical a lo Aceptable. Aparecen artículos de opinión
(muchas veces financiados por bots) que dicen: "No es que queramos
comer humanos, pero ¿no es peor que se muera el planeta?". Aquí el
alumno debe buscar quién firma esos artículos.
</p>

<p>
Paso 3: De lo Aceptable a lo Sensato. Se recuperan noticias sobre
"carne cultivada en laboratorio" (que es real) y se mezclan
malintencionadamente con el tema del canibalismo para confundir al
usuario.
</p>

<ol class="org-ol">
<li>La Realidad (El Fact-Check)</li>
</ol>

<p>
No hay ninguna legislación ni movimiento científico serio promoviendo
el canibalismo. Sin embargo, la noticia falsa se utiliza para:
</p>

<p>
Desacreditar la lucha contra el cambio climático (haciendo que parezca
que los ecologistas son caníbales).
</p>

<p>
Generar clics por puro impacto visual y emocional.
</p>
</div>
</div>
</div>
<div id="outline-container-orgf4a5365" class="outline-2">
<h2 id="orgf4a5365">Ejercicios: La Ventana de Overton</h2>
<div class="outline-text-2" id="text-orgf4a5365">
</div>
<div id="outline-container-orge6aa5c3" class="outline-3">
<h3 id="orge6aa5c3">Introducción al Análisis de Desplazamiento de Opinión</h3>
<div class="outline-text-3" id="text-orge6aa5c3">
<p>
Este documento contiene 10 casos de estudio sobre temas que están
moviendo la "Ventana de Overton" en la esfera pública global. El
objetivo es recuperar las fuentes originales y determinar
la veracidad o manipulación de los datos presentados.
</p>
</div>
</div>
<div id="outline-container-orgcf15b19" class="outline-3">
<h3 id="orgcf15b19">Casos de Estudio para Investigación Forense Digital</h3>
<div class="outline-text-3" id="text-orgcf15b19">
</div>
<div id="outline-container-org4daad8b" class="outline-4">
<h4 id="org4daad8b">1. Implementación de Ciudades de 15 Minutos y Restricción de Movimiento</h4>
<div class="outline-text-4" id="text-org4daad8b">
<ul class="org-ul">
<li><b>Premisa:</b> Gobiernos europeos han comenzado a instalar vallas
biométricas para impedir que los ciudadanos salgan de su radio de 15
minutos sin permiso digital previo.</li>
<li><b>Punto de búsqueda:</b> Investigar regulaciones urbanísticas en Oxford y
París (2023-2024).</li>
</ul>
</div>
</div>
<div id="outline-container-orgd7f013b" class="outline-4">
<h4 id="orgd7f013b">2. El Crédito Social Obligatorio para Acceso a Internet</h4>
<div class="outline-text-4" id="text-orgd7f013b">
<ul class="org-ul">
<li><b>Premisa:</b> La nueva Ley de Servicios Digitales incluye un sistema de
puntos donde comentarios "negativos" bloquean el acceso al home
banking del usuario de forma automática.</li>
<li><b>Punto de búsqueda:</b> Analizar el texto de la Digital Services Act
(DSA) de la Unión Europea.</li>
</ul>
</div>
</div>
<div id="outline-container-org0e55a3f" class="outline-4">
<h4 id="org0e55a3f">3. Sustitución de Proteína Animal por Invertebrados en Comedores Escolares</h4>
<div class="outline-text-4" id="text-org0e55a3f">
<ul class="org-ul">
<li><b>Premisa:</b> La normativa de la FAO para 2025 exige que el 30% de la
harina en escuelas sea de origen insectoide para combatir el metano
bovino.</li>
<li><b>Punto de búsqueda:</b> Rastrear comunicados oficiales de la FAO y el Codex Alimentarius.</li>
</ul>
</div>
</div>
<div id="outline-container-org48dd8b1" class="outline-4">
<h4 id="org48dd8b1">4. Identidad Digital de Recién Nacidos mediante Escaneo de Iris</h4>
<div class="outline-text-4" id="text-org48dd8b1">
<ul class="org-ul">
<li><b>Premisa:</b> Un programa piloto en hospitales de Indonesia vincula la
partida de nacimiento a una billetera digital biométrica desde el
primer minuto de vida.</li>
<li><b>Punto de búsqueda:</b> Investigar proyectos de ID2020 y alianzas
tecnológicas en el sudeste asiático.</li>
</ul>
</div>
</div>
<div id="outline-container-org8634b14" class="outline-4">
<h4 id="org8634b14">5. Impuesto Global al Carbono Individual (Monedero de CO2)</h4>
<div class="outline-text-4" id="text-org8634b14">
<ul class="org-ul">
<li><b>Premisa:</b> Bancos centrales están probando tarjetas de crédito que se
bloquean si el usuario supera su cuota mensual de emisiones de
carbono al comprar carne o combustible.</li>
<li><b>Punto de búsqueda:</b> Revisar las propuestas del Foro Económico Mundial
sobre "Personal Carbon Allowances".</li>
</ul>
</div>
</div>
<div id="outline-container-org7ce395e" class="outline-4">
<h4 id="org7ce395e">6. Legalización de la "Eutanasia por Cansancio Vital" en Menores</h4>
<div class="outline-text-4" id="text-org7ce395e">
<ul class="org-ul">
<li><b>Premisa:</b> Países Bajos y Canadá han extendido sus protocolos médicos
para permitir el procedimiento en adolescentes con cuadros de
eco-ansiedad severa sin consentimiento parental.</li>
<li><b>Punto de búsqueda:</b> Recuperar las leyes MAiD (Canadá) y el Protocolo de Groningen.</li>
</ul>
</div>
</div>
<div id="outline-container-org250eb8a" class="outline-4">
<h4 id="org250eb8a">7. Sensores de "Ruido Social" en Hogares Inteligentes</h4>
<div class="outline-text-4" id="text-org250eb8a">
<ul class="org-ul">
<li><b>Premisa:</b> Las nuevas normativas de Smart Homes exigen que los
asistentes de voz reporten palabras clave de "discurso de odio"
directamente a las autoridades locales.</li>
<li><b>Punto de búsqueda:</b> Analizar términos y condiciones de dispositivos
IoT y patentes recientes de procesamiento de lenguaje natural.</li>
</ul>
</div>
</div>
<div id="outline-container-org89b565e" class="outline-4">
<h4 id="org89b565e">8. La Prohibición de la Propiedad Privada de Vehículos para 2030</h4>
<div class="outline-text-4" id="text-org89b565e">
<ul class="org-ul">
<li><b>Premisa:</b> Un acuerdo firmado en la COP28 establece que la fabricación
de coches particulares cesará en 2028, permitiendo solo el modelo de
"suscripción por uso" estatal.</li>
<li><b>Punto de búsqueda:</b> Consultar las resoluciones finales de la COP28 y el plan "Fit for 55".</li>
</ul>
</div>
</div>
<div id="outline-container-org79bd0ae" class="outline-4">
<h4 id="org79bd0ae">9. Uso de IA para la Reescritura de Textos Históricos en Tiempo Real</h4>
<div class="outline-text-4" id="text-org79bd0ae">
<ul class="org-ul">
<li><b>Premisa:</b> Bibliotecas digitales están utilizando algoritmos para
"adaptar" el lenguaje de clásicos literarios a estándares de
sensibilidad modernos sin dejar rastro del original.</li>
<li><b>Punto de búsqueda:</b> Investigar casos de edición en obras de Roald Dahl y Agatha Christie (2023).</li>
</ul>
</div>
</div>
<div id="outline-container-org874865a" class="outline-4">
<h4 id="org874865a">10. Geoingeniería: El Bloqueo Solar mediante Aerosoles de Azufre</h4>
<div class="outline-text-4" id="text-org874865a">
<ul class="org-ul">
<li><b>Premisa:</b> Un proyecto financiado por magnates tecnológicos ha
comenzado a liberar partículas en la estratósfera para oscurecer el
sol y bajar 1.5°C la temperatura global este verano.</li>
<li><b>Punto de búsqueda:</b> Rastrear el proyecto SCoPEx de Harvard y su estado de ejecución actual.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org3eb8e58" class="outline-3">
<h3 id="org3eb8e58">Guía de Recuperación para el Alumno</h3>
<div class="outline-text-3" id="text-org3eb8e58">
<ol class="org-ol">
<li>Localizar la <b>fuente primaria</b> (documento legal, paper científico o
comunicado oficial).</li>
<li>Identificar si el contenido recuperado coincide con la <b>premisa</b> o si
hay una distorsión semántica.</li>
<li>Evaluar en qué fase de la Ventana de Overton se encuentra el tema:
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Impensable</li>
<li class="off"><code>[&#xa0;]</code> Radical</li>
<li class="off"><code>[&#xa0;]</code> Aceptable</li>
<li class="off"><code>[&#xa0;]</code> Sensato</li>
<li class="off"><code>[&#xa0;]</code> Popular</li>
<li class="off"><code>[&#xa0;]</code> Política Pública</li>
</ul></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org1080b82" class="outline-2">
<h2 id="org1080b82">Similitud de coseno y TF‑IDF en Python</h2>
<div class="outline-text-2" id="text-org1080b82">
</div>
<div id="outline-container-org992718e" class="outline-3">
<h3 id="org992718e">1. Representar textos como vectores</h3>
<div class="outline-text-3" id="text-org992718e">
<ul class="org-ul">
<li><b>Bolsa de palabras (Bag of Words)</b>: cada documento se representa por cuántas veces aparece cada palabra.
<ul class="org-ul">
<li>Ventaja: sencillo.</li>
<li>Desventaja: trata todas las palabras como igual de importantes (un "el" cuenta tanto como "inteligencia").</li>
<li><b>TF‑IDF</b> mejora esta idea ponderando las palabras según:</li>
<li><b>TF (Term Frequency)</b>: qué tan frecuente es una palabra en un documento.</li>
<li><b>IDF (Inverse Document Frequency)</b>: qué tan rara es esa palabra en toda la colección de documentos.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgb672ed1" class="outline-3">
<h3 id="orgb672ed1">2. TF (Term Frequency)</h3>
<div class="outline-text-3" id="text-orgb672ed1">
<p>
Para una palabra \(t\) en un documento \(d\):
</p>

<p>
\[
TF(t, d) = \frac{\text{número de veces que aparece } t \text{ en } d}{\text{número total de palabras en } d}
\]
</p>

<p>
En la práctica, muchas librerías usan variantes (por ejemplo, solo el conteo bruto).
</p>
</div>
</div>
<div id="outline-container-orge06b297" class="outline-3">
<h3 id="orge06b297">3. IDF (Inverse Document Frequency)</h3>
<div class="outline-text-3" id="text-orge06b297">
<p>
Para una palabra \(t\) en una colección de documentos \(D\) (con \(|D|\) documentos) y \(df(t)\) = número de documentos donde aparece \(t\):
</p>

<p>
\[
IDF(t, D) = \log \left( \frac{|D|}{1 + df(t)} \right)
\]
</p>

<ul class="org-ul">
<li>Si una palabra aparece en muchos documentos, \(df(t)\) es grande y el <b>IDF es pequeño</b> → la palabra aporta <b>poca información</b>.</li>
<li>Si una palabra aparece en pocos documentos, \(df(t)\) es pequeño y el <b>IDF es grande</b> → la palabra aporta <b>mucha información</b>.</li>
</ul>
</div>
</div>
<div id="outline-container-org5ec07fa" class="outline-3">
<h3 id="org5ec07fa">4. TF‑IDF</h3>
<div class="outline-text-3" id="text-org5ec07fa">
<p>
El peso TF‑IDF de una palabra \(t\) en un documento \(d\) se define como:
</p>

<p>
\[
TF\text{-}IDF(t, d, D) = TF(t, d) \cdot IDF(t, D)
\]
</p>

<p>
Cada documento se convierte en un <b>vector</b> donde cada componente es el TF‑IDF de una palabra del vocabulario.
</p>



<p>
Imagina que tienes muchos documentos (noticias, artículos, tareas, etc.) y quieres saber de qué habla cada uno y cuáles se parecen entre sí.
</p>
</div>
<div id="outline-container-org86316d0" class="outline-4">
<h4 id="org86316d0">4.1. TF: qué tanto se repite una palabra en un documento</h4>
<div class="outline-text-4" id="text-org86316d0">
<p>
Piensa en un solo documento.
</p>

<p>
TF (Term Frequency) responde a la pregunta:
</p>
<ul class="org-ul">
<li>"¿Cuántas veces aparece esta palabra aquí dentro?"</li>
</ul>

<p>
Ejemplo sencillo:
</p>
<ul class="org-ul">
<li>Si en un texto de 100 palabras, la palabra "gato" aparece 5 veces, su TF es 5 de 100 (o simplemente 5, según la variante de la fórmula).</li>
</ul>

<p>
Cuanto más aparece una palabra en ese documento, más importante parece para ese documento.
</p>
</div>
</div>
<div id="outline-container-org5faa5a8" class="outline-4">
<h4 id="org5faa5a8">4.2. El problema de las palabras que no dicen nada</h4>
<div class="outline-text-4" id="text-org5faa5a8">
<p>
Palabras como "el", "la", "de", "y" aparecen en casi todos los textos y no nos dicen de qué trata el documento.
</p>

<p>
Si solo miráramos TF, "el" podría parecer súper importante, pero no queremos eso.
</p>
</div>
</div>
<div id="outline-container-org7786343" class="outline-4">
<h4 id="org7786343">4.3. IDF: qué tan rara es una palabra en toda la colección</h4>
<div class="outline-text-4" id="text-org7786343">
<p>
Ahora miramos todos los documentos juntos.
</p>

<p>
IDF (Inverse Document Frequency) responde:
</p>
<ul class="org-ul">
<li>"¿En cuántos documentos aparece esta palabra?"</li>
</ul>

<p>
Ideas clave:
</p>
<ul class="org-ul">
<li>Si una palabra aparece en muchísimos documentos, su IDF es bajo → es poco informativa.</li>
<li>Si aparece en pocos documentos, su IDF es alto → es muy informativa (característica de ciertos textos).</li>
</ul>

<p>
Es como decir:
</p>
<ul class="org-ul">
<li>Palabra muy común ⇒ "no cuenta tanto".</li>
<li>Palabra rara ⇒ "esto describe algo específico".</li>
</ul>
</div>
</div>
<div id="outline-container-orgaf893a4" class="outline-4">
<h4 id="orgaf893a4">4.4. TF‑IDF: combinar las dos ideas</h4>
<div class="outline-text-4" id="text-orgaf893a4">
<p>
TF‑IDF = TF × IDF
</p>

<ul class="org-ul">
<li>TF dice: qué tanto se usa la palabra dentro de este documento.</li>
<li>IDF dice: qué tan rara o especial es esa palabra en toda la colección.</li>
</ul>

<p>
Al multiplicar:
</p>
<ul class="org-ul">
<li>Una palabra que se repite mucho en este documento y casi no aparece en otros ⇒ peso alto (muy representativa de este texto).</li>
<li>Una palabra que se repite mucho pero aparece en todos lados (como "el") ⇒ peso bajo.</li>
</ul>

<p>
Al final, cada documento se convierte en un vector (una lista de números), donde cada número es el TF‑IDF de una palabra:
</p>
<ul class="org-ul">
<li>cuanto más grande el número, más describe esa palabra al documento.</li>
</ul>
</div>
</div>
<div id="outline-container-org4979827" class="outline-4">
<h4 id="org4979827">4n.5. ¿Para qué sirve en la práctica?</h4>
<div class="outline-text-4" id="text-org4979827">
<ul class="org-ul">
<li>Para que un buscador sepa qué documentos son más relevantes a una consulta.</li>
<li>Para medir similitud entre textos (por ejemplo, usando después la similitud de coseno).</li>
<li>Para que una máquina vea el texto como números significativos y no solo como palabras sueltas.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org2b8d178" class="outline-3">
<h3 id="org2b8d178">5. Similitud de coseno</h3>
<div class="outline-text-3" id="text-org2b8d178">
<p>
Dado dos vectores \(A\) y \(B\) (por ejemplo, los TF‑IDF de dos documentos), la <b>similitud de coseno</b> es:
</p>

<p>
\[
\text{coseno}(A, B) = \frac{A \cdot B}{\|A\| \cdot \|B\|}
\]
</p>

<ul class="org-ul">
<li>\(A \cdot B\): producto punto (suma de multiplicaciones componente a componente).</li>
<li>\(\|A\|\): norma (longitud) del vector.</li>
<li>Resultado:
<ul class="org-ul">
<li><b>1</b> → vectores muy parecidos (documentos muy similares).</li>
<li><b>0</b> → vectores ortogonales (sin relación).</li>
<li>Valores negativos suelen no aparecer con TF‑IDF estándar (porque los pesos son no negativos).</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org6d42d29" class="outline-3">
<h3 id="org6d42d29">6. Ejemplo en Python: cargar varios .txt, calcular TF‑IDF y similitud de coseno</h3>
<div class="outline-text-3" id="text-org6d42d29">
<p>
Este ejemplo usa <code>scikit‑learn</code> para calcular TF‑IDF y similitudes entre varios documentos de texto.
</p>
</div>
<div id="outline-container-org40b2d4c" class="outline-4">
<h4 id="org40b2d4c">6.1. Requisitos</h4>
<div class="outline-text-4" id="text-org40b2d4c">
<p>
Instala las dependencias:
</p>

<div class="org-src-container">
<pre class="src src-bash">pip install scikit-learn
</pre>
</div>

<p>
Organiza tus textos, por ejemplo:
</p>

<ul class="org-ul">
<li>Carpeta <code>textos/</code> con archivos:
<ul class="org-ul">
<li><code>doc1.txt</code></li>
<li><code>doc2.txt</code></li>
<li><code>doc3.txt</code></li>
<li>&#x2026;</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org463a654" class="outline-4">
<h4 id="org463a654">6.2. Código básico</h4>
<div class="outline-text-4" id="text-org463a654">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">from</span> pathlib <span style="color: #fb4934;">import</span> Path

<span style="color: #fb4934;">from</span> sklearn.feature_extraction.text <span style="color: #fb4934;">import</span> TfidfVectorizer
<span style="color: #fb4934;">from</span> sklearn.metrics.pairwise <span style="color: #fb4934;">import</span> cosine_similarity


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">cargar_documentos</span><span style="color: #fe8019;">(</span>directorio: <span style="color: #fe8019;">str</span><span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Carga todos los .txt de un directorio y devuelve rutas y contenidos."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">base_path</span> = Path<span style="color: #fe8019;">(</span>directorio<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">filepaths</span> = <span style="color: #fe8019;">sorted</span><span style="color: #fe8019;">(</span>base_path.glob<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"*.txt"</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">documentos</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">nombres</span> = <span style="color: #fe8019;">[]</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> path <span style="color: #fb4934;">in</span> filepaths:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">texto</span> = path.read_text<span style="color: #fe8019;">(</span>encoding=<span style="color: #b8bb26;">"utf-8"</span>, errors=<span style="color: #b8bb26;">"ignore"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   documentos.append<span style="color: #fe8019;">(</span>texto<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   nombres.append<span style="color: #fe8019;">(</span>path.name<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> nombres, documentos


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">calcular_tfidf</span><span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Calcula la matriz TF-IDF a partir de una lista de textos."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">vectorizador</span> = TfidfVectorizer<span style="color: #fe8019;">(</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   lowercase=<span style="color: #d3869b;">True</span>,      <span style="color: #928374;"># </span><span style="color: #928374;">pasar todo a min&#250;sculas
</span><span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   stop_words=<span style="color: #b8bb26;">"spanish"</span> <span style="color: #928374;"># </span><span style="color: #928374;">eliminar stopwords en espa&#241;ol (siempre opcional)
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">matriz_tfidf</span> = vectorizador.fit_transform<span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> matriz_tfidf, vectorizador


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">matriz_similitud_coseno</span><span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Devuelve la matriz de similitud de coseno entre todos los documentos."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> cosine_similarity<span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>


<span style="color: #fb4934;">if</span> <span style="color: #fe8019;">__name__</span> == <span style="color: #b8bb26;">"__main__"</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">1. Cargar documentos
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">nombres</span>, <span style="color: #83a598;">documentos</span> = cargar_documentos<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"/home/likcos/txt"</span><span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">2. Calcular TF-IDF
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">matriz_tfidf</span>, <span style="color: #83a598;">vectorizador</span> = calcular_tfidf<span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">3. Calcular similitud de coseno entre todos los pares de documentos
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">sim_matrix</span> = matriz_similitud_coseno<span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">4. Mostrar resultados
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Documentos cargados:"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> i, nombre <span style="color: #fb4934;">in</span> <span style="color: #fe8019;">enumerate</span><span style="color: #fe8019;">(</span>nombres<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"</span>{i}<span style="color: #b8bb26;">: </span>{nombre}<span style="color: #b8bb26;">"</span><span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"</span><span style="color: #d3869b;">\n</span><span style="color: #b8bb26;">Matriz de similitud de coseno:"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>sim_matrix<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">Ejemplo: similitud entre el documento 0 y el 1
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fe8019;">len</span><span style="color: #fe8019;">(</span>nombres<span style="color: #fe8019;">)</span> &gt;= 2:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"</span><span style="color: #d3869b;">\n</span><span style="color: #b8bb26;">Similitud de coseno entre '</span>{nombres[0]}<span style="color: #b8bb26;">' y '</span>{nombres[1]}<span style="color: #b8bb26;">': "</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"</span>{sim_matrix[0, 1]:.4f}<span style="color: #b8bb26;">"</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">)</span>
</pre>
</div>

<p>
Código con stop word añadidas
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">from</span> pathlib <span style="color: #fb4934;">import</span> Path

<span style="color: #fb4934;">from</span> sklearn.feature_extraction.text <span style="color: #fb4934;">import</span> TfidfVectorizer
<span style="color: #fb4934;">from</span> sklearn.metrics.pairwise <span style="color: #fb4934;">import</span> cosine_similarity

<span style="color: #83a598;">STOP_WORDS_ES</span> = <span style="color: #fe8019;">[</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"a"</span>, <span style="color: #b8bb26;">"ac&#225;"</span>, <span style="color: #b8bb26;">"ah&#237;"</span>, <span style="color: #b8bb26;">"al"</span>, <span style="color: #b8bb26;">"algo"</span>, <span style="color: #b8bb26;">"alg&#250;n"</span>, <span style="color: #b8bb26;">"alguna"</span>, <span style="color: #b8bb26;">"algunas"</span>, <span style="color: #b8bb26;">"alguno"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"algunos"</span>, <span style="color: #b8bb26;">"all&#225;"</span>, <span style="color: #b8bb26;">"all&#237;"</span>, <span style="color: #b8bb26;">"ante"</span>, <span style="color: #b8bb26;">"antes"</span>, <span style="color: #b8bb26;">"aquel"</span>, <span style="color: #b8bb26;">"aquella"</span>, <span style="color: #b8bb26;">"aquellas"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"aquello"</span>, <span style="color: #b8bb26;">"aquellos"</span>, <span style="color: #b8bb26;">"aqu&#237;"</span>, <span style="color: #b8bb26;">"as&#237;"</span>, <span style="color: #b8bb26;">"a&#250;n"</span>, <span style="color: #b8bb26;">"bajo"</span>, <span style="color: #b8bb26;">"bastante"</span>, <span style="color: #b8bb26;">"bien"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"cabe"</span>, <span style="color: #b8bb26;">"cada"</span>, <span style="color: #b8bb26;">"casi"</span>, <span style="color: #b8bb26;">"como"</span>, <span style="color: #b8bb26;">"con"</span>, <span style="color: #b8bb26;">"contra"</span>, <span style="color: #b8bb26;">"cual"</span>, <span style="color: #b8bb26;">"cuales"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"cualquier"</span>, <span style="color: #b8bb26;">"cualquiera"</span>, <span style="color: #b8bb26;">"cualquieras"</span>, <span style="color: #b8bb26;">"cu&#225;n"</span>, <span style="color: #b8bb26;">"cu&#225;ndo"</span>, <span style="color: #b8bb26;">"cu&#225;nto"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"de"</span>, <span style="color: #b8bb26;">"dejar"</span>, <span style="color: #b8bb26;">"del"</span>, <span style="color: #b8bb26;">"dem&#225;s"</span>, <span style="color: #b8bb26;">"demasiado"</span>, <span style="color: #b8bb26;">"donde"</span>, <span style="color: #b8bb26;">"dos"</span>, <span style="color: #b8bb26;">"el"</span>, <span style="color: #b8bb26;">"&#233;l"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"ella"</span>, <span style="color: #b8bb26;">"ellas"</span>, <span style="color: #b8bb26;">"ellos"</span>, <span style="color: #b8bb26;">"en"</span>, <span style="color: #b8bb26;">"entre"</span>, <span style="color: #b8bb26;">"era"</span>, <span style="color: #b8bb26;">"eran"</span>, <span style="color: #b8bb26;">"eres"</span>, <span style="color: #b8bb26;">"es"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"esa"</span>, <span style="color: #b8bb26;">"esas"</span>, <span style="color: #b8bb26;">"ese"</span>, <span style="color: #b8bb26;">"eso"</span>, <span style="color: #b8bb26;">"esos"</span>, <span style="color: #b8bb26;">"esta"</span>, <span style="color: #b8bb26;">"est&#225;"</span>, <span style="color: #b8bb26;">"est&#225;n"</span>, <span style="color: #b8bb26;">"estas"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"este"</span>, <span style="color: #b8bb26;">"esto"</span>, <span style="color: #b8bb26;">"estos"</span>, <span style="color: #b8bb26;">"estoy"</span>, <span style="color: #b8bb26;">"fue"</span>, <span style="color: #b8bb26;">"fueron"</span>, <span style="color: #b8bb26;">"fui"</span>, <span style="color: #b8bb26;">"ha"</span>, <span style="color: #b8bb26;">"han"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"hasta"</span>, <span style="color: #b8bb26;">"hay"</span>, <span style="color: #b8bb26;">"la"</span>, <span style="color: #b8bb26;">"las"</span>, <span style="color: #b8bb26;">"le"</span>, <span style="color: #b8bb26;">"les"</span>, <span style="color: #b8bb26;">"lo"</span>, <span style="color: #b8bb26;">"los"</span>, <span style="color: #b8bb26;">"m&#225;s"</span>, <span style="color: #b8bb26;">"me"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"mi"</span>, <span style="color: #b8bb26;">"mis"</span>, <span style="color: #b8bb26;">"mucha"</span>, <span style="color: #b8bb26;">"muchas"</span>, <span style="color: #b8bb26;">"mucho"</span>, <span style="color: #b8bb26;">"muchos"</span>, <span style="color: #b8bb26;">"muy"</span>, <span style="color: #b8bb26;">"nada"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"ni"</span>, <span style="color: #b8bb26;">"no"</span>, <span style="color: #b8bb26;">"nos"</span>, <span style="color: #b8bb26;">"nosotros"</span>, <span style="color: #b8bb26;">"nuestra"</span>, <span style="color: #b8bb26;">"nuestras"</span>, <span style="color: #b8bb26;">"nuestro"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"nuestros"</span>, <span style="color: #b8bb26;">"o"</span>, <span style="color: #b8bb26;">"os"</span>, <span style="color: #b8bb26;">"otra"</span>, <span style="color: #b8bb26;">"otras"</span>, <span style="color: #b8bb26;">"otro"</span>, <span style="color: #b8bb26;">"otros"</span>, <span style="color: #b8bb26;">"para"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"pero"</span>, <span style="color: #b8bb26;">"poco"</span>, <span style="color: #b8bb26;">"por"</span>, <span style="color: #b8bb26;">"porque"</span>, <span style="color: #b8bb26;">"que"</span>, <span style="color: #b8bb26;">"qu&#233;"</span>, <span style="color: #b8bb26;">"quien"</span>, <span style="color: #b8bb26;">"qui&#233;n"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"quienes"</span>, <span style="color: #b8bb26;">"se"</span>, <span style="color: #b8bb26;">"sea"</span>, <span style="color: #b8bb26;">"seg&#250;n"</span>, <span style="color: #b8bb26;">"ser"</span>, <span style="color: #b8bb26;">"si"</span>, <span style="color: #b8bb26;">"s&#237;"</span>, <span style="color: #b8bb26;">"sin"</span>, <span style="color: #b8bb26;">"sobre"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"so"</span>, <span style="color: #b8bb26;">"somos"</span>, <span style="color: #b8bb26;">"son"</span>, <span style="color: #b8bb26;">"su"</span>, <span style="color: #b8bb26;">"sus"</span>, <span style="color: #b8bb26;">"tambi&#233;n"</span>, <span style="color: #b8bb26;">"tan"</span>, <span style="color: #b8bb26;">"tanto"</span>, <span style="color: #b8bb26;">"te"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"tenemos"</span>, <span style="color: #b8bb26;">"tener"</span>, <span style="color: #b8bb26;">"tiene"</span>, <span style="color: #b8bb26;">"tienen"</span>, <span style="color: #b8bb26;">"toda"</span>, <span style="color: #b8bb26;">"todas"</span>, <span style="color: #b8bb26;">"todav&#237;a"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"todo"</span>, <span style="color: #b8bb26;">"todos"</span>, <span style="color: #b8bb26;">"tu"</span>, <span style="color: #b8bb26;">"tus"</span>, <span style="color: #b8bb26;">"un"</span>, <span style="color: #b8bb26;">"una"</span>, <span style="color: #b8bb26;">"uno"</span>, <span style="color: #b8bb26;">"unos"</span>, <span style="color: #b8bb26;">"usted"</span>,
<span style="background-color: #3c3836;"> </span>   <span style="color: #b8bb26;">"ustedes"</span>, <span style="color: #b8bb26;">"ya"</span>, <span style="color: #b8bb26;">"yo"</span>
<span style="color: #fe8019;">]</span>

<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">cargar_documentos</span><span style="color: #fe8019;">(</span>directorio: <span style="color: #fe8019;">str</span><span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">base_path</span> = Path<span style="color: #fe8019;">(</span>directorio<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">filepaths</span> = <span style="color: #fe8019;">sorted</span><span style="color: #fe8019;">(</span>base_path.glob<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"*.txt"</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">documentos</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">nombres</span> = <span style="color: #fe8019;">[]</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> path <span style="color: #fb4934;">in</span> filepaths:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">texto</span> = path.read_text<span style="color: #fe8019;">(</span>encoding=<span style="color: #b8bb26;">"utf-8"</span>, errors=<span style="color: #b8bb26;">"ignore"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   documentos.append<span style="color: #fe8019;">(</span>texto<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   nombres.append<span style="color: #fe8019;">(</span>path.name<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> nombres, documentos


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">calcular_tfidf</span><span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">vectorizador</span> = TfidfVectorizer<span style="color: #fe8019;">(</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   lowercase=<span style="color: #d3869b;">True</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   stop_words=STOP_WORDS_ES  <span style="color: #928374;"># </span><span style="color: #928374;">aqu&#237; pasamos la lista
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">matriz_tfidf</span> = vectorizador.fit_transform<span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> matriz_tfidf, vectorizador


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">matriz_similitud_coseno</span><span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> cosine_similarity<span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>


<span style="color: #fb4934;">if</span> <span style="color: #fe8019;">__name__</span> == <span style="color: #b8bb26;">"__main__"</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">nombres</span>, <span style="color: #83a598;">documentos</span> = cargar_documentos<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"/home/likcos/txt"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">matriz_tfidf</span>, <span style="color: #83a598;">vectorizador</span> = calcular_tfidf<span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">sim_matrix</span> = matriz_similitud_coseno<span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Documentos cargados:"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> i, nombre <span style="color: #fb4934;">in</span> <span style="color: #fe8019;">enumerate</span><span style="color: #fe8019;">(</span>nombres<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"</span>{i}<span style="color: #b8bb26;">: </span>{nombre}<span style="color: #b8bb26;">"</span><span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"</span><span style="color: #d3869b;">\n</span><span style="color: #b8bb26;">Matriz de similitud de coseno:"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>sim_matrix<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fe8019;">len</span><span style="color: #fe8019;">(</span>nombres<span style="color: #fe8019;">)</span> &gt;= 2:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"</span><span style="color: #d3869b;">\n</span><span style="color: #b8bb26;">Similitud de coseno entre '</span>{nombres[0]}<span style="color: #b8bb26;">' y '</span>{nombres[1]}<span style="color: #b8bb26;">': "</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"</span>{sim_matrix[0, 1]:.4f}<span style="color: #b8bb26;">"</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">)</span>
</pre>
</div>


<p>
Ejemplo con nltk
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">from</span> pathlib <span style="color: #fb4934;">import</span> Path

<span style="color: #fb4934;">from</span> sklearn.feature_extraction.text <span style="color: #fb4934;">import</span> TfidfVectorizer
<span style="color: #fb4934;">from</span> sklearn.metrics.pairwise <span style="color: #fb4934;">import</span> cosine_similarity

<span style="color: #fb4934;">from</span> nltk.corpus <span style="color: #fb4934;">import</span> stopwords


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">cargar_documentos</span><span style="color: #fe8019;">(</span>directorio: <span style="color: #fe8019;">str</span><span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">base_path</span> = Path<span style="color: #fe8019;">(</span>directorio<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">filepaths</span> = <span style="color: #fe8019;">sorted</span><span style="color: #fe8019;">(</span>base_path.glob<span style="color: #b16286;">(</span><span style="color: #b8bb26;">"*.txt"</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">documentos</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">nombres</span> = <span style="color: #fe8019;">[]</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> path <span style="color: #fb4934;">in</span> filepaths:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">texto</span> = path.read_text<span style="color: #fe8019;">(</span>encoding=<span style="color: #b8bb26;">"utf-8"</span>, errors=<span style="color: #b8bb26;">"ignore"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   documentos.append<span style="color: #fe8019;">(</span>texto<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   nombres.append<span style="color: #fe8019;">(</span>path.name<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> nombres, documentos


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">calcular_tfidf</span><span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">stopwords_es</span> = stopwords.words<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"spanish"</span><span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">vectorizador</span> = TfidfVectorizer<span style="color: #fe8019;">(</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   lowercase=<span style="color: #d3869b;">True</span>,
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   stop_words=stopwords_es
<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">matriz_tfidf</span> = vectorizador.fit_transform<span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> matriz_tfidf, vectorizador


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">matriz_similitud_coseno</span><span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> cosine_similarity<span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>


<span style="color: #fb4934;">if</span> <span style="color: #fe8019;">__name__</span> == <span style="color: #b8bb26;">"__main__"</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">nombres</span>, <span style="color: #83a598;">documentos</span> = cargar_documentos<span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"textos"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">matriz_tfidf</span>, <span style="color: #83a598;">vectorizador</span> = calcular_tfidf<span style="color: #fe8019;">(</span>documentos<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">sim_matrix</span> = matriz_similitud_coseno<span style="color: #fe8019;">(</span>matriz_tfidf<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"Documentos cargados:"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> i, nombre <span style="color: #fb4934;">in</span> <span style="color: #fe8019;">enumerate</span><span style="color: #fe8019;">(</span>nombres<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"</span>{i}<span style="color: #b8bb26;">: </span>{nombre}<span style="color: #b8bb26;">"</span><span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"</span><span style="color: #d3869b;">\n</span><span style="color: #b8bb26;">Matriz de similitud de coseno:"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>sim_matrix<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fe8019;">len</span><span style="color: #fe8019;">(</span>nombres<span style="color: #fe8019;">)</span> &gt;= 2:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"</span><span style="color: #d3869b;">\n</span><span style="color: #b8bb26;">Similitud de coseno entre '</span>{nombres[0]}<span style="color: #b8bb26;">' y '</span>{nombres[1]}<span style="color: #b8bb26;">': "</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   f<span style="color: #b8bb26;">"</span>{sim_matrix[0, 1]:.4f}<span style="color: #b8bb26;">"</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge3b72a0" class="outline-3">
<h3 id="orge3b72a0">7. Similitud de coseno “a mano” (opcional)</h3>
<div class="outline-text-3" id="text-orge3b72a0">
<p>
Para entender mejor el algoritmo, se puede calcular la similitud de coseno sin usar <code>cosine_similarity</code>:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> numpy <span style="color: #fb4934;">as</span> np


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">similitud_coseno_manual</span><span style="color: #fe8019;">(</span>vec_a, vec_b<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""Calcula la similitud de coseno entre dos vectores de NumPy."""</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">numerador</span> = np.dot<span style="color: #fe8019;">(</span>vec_a, vec_b<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">norma_a</span> = np.linalg.norm<span style="color: #fe8019;">(</span>vec_a<span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">norma_b</span> = np.linalg.norm<span style="color: #fe8019;">(</span>vec_b<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> norma_a == 0 <span style="color: #fb4934;">or</span> norma_b == 0:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> 0.0  <span style="color: #928374;"># </span><span style="color: #928374;">si alg&#250;n vector es cero, definimos similitud 0
</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> numerador / <span style="color: #fe8019;">(</span>norma_a * norma_b<span style="color: #fe8019;">)</span>
</pre>
</div>

<p>
Con la matriz TF‑IDF de <code>scikit‑learn</code> (que es una matriz dispersa), podrías convertir una fila a vector denso para probar:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #83a598;">vec0</span> = matriz_tfidf<span style="color: #fe8019;">[</span>0<span style="color: #fe8019;">]</span>.toarray<span style="color: #fe8019;">()[</span>0<span style="color: #fe8019;">]</span>
<span style="color: #83a598;">vec1</span> = matriz_tfidf<span style="color: #fe8019;">[</span>1<span style="color: #fe8019;">]</span>.toarray<span style="color: #fe8019;">()[</span>0<span style="color: #fe8019;">]</span>

<span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>similitud_coseno_manual<span style="color: #b16286;">(</span>vec0, vec1<span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb12e1ef" class="outline-3">
<h3 id="orgb12e1ef">8. Caso de uso típico: búsqueda de documentos similares</h3>
<div class="outline-text-3" id="text-orgb12e1ef">
<p>
Podemos usar TF‑IDF y similitud de coseno para, dado un documento (o una consulta de texto), encontrar los documentos más parecidos.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #fb4934;">import</span> numpy <span style="color: #fb4934;">as</span> np


<span style="color: #fb4934;">def</span> <span style="color: #b8bb26;">documentos_mas_similares</span><span style="color: #fe8019;">(</span>idx_objetivo, sim_matrix, nombres, top_k=3<span style="color: #fe8019;">)</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #dfd2b8;">"""
</span><span style="color: #dfd2b8; background-color: #3c3836;"> </span><span style="color: #dfd2b8;">   Devuelve los &#237;ndices y nombres de los documentos m&#225;s similares
</span><span style="color: #dfd2b8; background-color: #3c3836;"> </span><span style="color: #dfd2b8;">   a un documento objetivo.
</span><span style="color: #dfd2b8; background-color: #3c3836;"> </span><span style="color: #dfd2b8;">   """</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">similitudes</span> = sim_matrix<span style="color: #fe8019;">[</span>idx_objetivo<span style="color: #fe8019;">]</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">Ordenar por similitud descendente (ignorando el propio documento)
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">indices_ordenados</span> = np.argsort<span style="color: #fe8019;">(</span>-similitudes<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">resultados</span> = <span style="color: #fe8019;">[]</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> idx <span style="color: #fb4934;">in</span> indices_ordenados:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> idx == idx_objetivo:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">continue</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   resultados.append<span style="color: #fe8019;">(</span><span style="color: #b16286;">(</span>idx, nombres<span style="color: #b8bb26;">[</span>idx<span style="color: #b8bb26;">]</span>, similitudes<span style="color: #b8bb26;">[</span>idx<span style="color: #b8bb26;">]</span><span style="color: #b16286;">)</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fe8019;">len</span><span style="color: #fe8019;">(</span>resultados<span style="color: #fe8019;">)</span> &gt;= top_k:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">break</span>

<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">return</span> resultados


<span style="color: #fb4934;">if</span> <span style="color: #fe8019;">__name__</span> == <span style="color: #b8bb26;">"__main__"</span>:
<span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">... reutilizar c&#243;digo anterior para cargar nombres, documentos,
</span><span style="background-color: #3c3836;"> </span>   <span style="color: #928374;"># </span><span style="color: #928374;">matriz_tfidf y sim_matrix ...
</span>
<span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">if</span> <span style="color: #fe8019;">len</span><span style="color: #fe8019;">(</span>nombres<span style="color: #fe8019;">)</span> &gt; 0:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">idx_objetivo</span> = 0  <span style="color: #928374;"># </span><span style="color: #928374;">por ejemplo, el primer documento
</span><span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #83a598;">similares</span> = documentos_mas_similares<span style="color: #fe8019;">(</span>idx_objetivo, sim_matrix, nombres, top_k=3<span style="color: #fe8019;">)</span>

<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"</span><span style="color: #d3869b;">\n</span><span style="color: #b8bb26;">Documentos m&#225;s similares a '</span>{nombres[idx_objetivo]}<span style="color: #b8bb26;">':"</span><span style="color: #fe8019;">)</span>
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fb4934;">for</span> idx, nombre, score <span style="color: #fb4934;">in</span> similares:
<span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="background-color: #3c3836;"> </span>   <span style="color: #fe8019;">print</span><span style="color: #fe8019;">(</span>f<span style="color: #b8bb26;">"- </span>{nombre}<span style="color: #b8bb26;">: similitud = </span>{score:.4f}<span style="color: #b8bb26;">"</span><span style="color: #fe8019;">)</span>
</pre>
</div>



<ul class="org-ul">
<li><b>TF‑IDF</b> transforma textos en vectores numéricos que destacan las palabras más informativas.</li>
<li>La <b>similitud de coseno</b> mide cuánto se parecen dos documentos según el ángulo entre sus vectores.</li>
<li>Con <code>scikit‑learn</code>, podemos:
<ul class="org-ul">
<li>Cargar múltiples archivos <code>.txt</code>.</li>
<li>Calcular su representación TF‑IDF.</li>
<li>Obtener la similitud de coseno entre todos los documentos y buscar los más parecidos.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org0d1c175" class="outline-3">
<h3 id="org0d1c175">10. ¿Dónde se usa TF‑IDF y la similitud de coseno?</h3>
<div class="outline-text-3" id="text-org0d1c175">
<p>
TF‑IDF y la similitud de coseno se utilizan ampliamente en tareas de recuperación de información y minería de texto:
</p>

<ul class="org-ul">
<li>Motores de búsqueda: las consultas y documentos se representan como
vectores TF‑IDF y se ordenan por similitud de coseno para mostrar
primero los resultados más relevantes.</li>
<li>Búsqueda de documentos similares: dado un documento, se buscan otros
con alta similitud de coseno (por ejemplo, artículos científicos o
noticias relacionadas).</li>
<li>Sistemas de recomendación basados en contenido: se comparan
descripciones de ítems (productos, películas, cursos) con lo que el
usuario ha visto, usando similitud de coseno sobre vectores TF‑IDF.</li>
<li>Clustering y clasificación de textos: los vectores TF‑IDF sirven
como entrada a algoritmos de agrupamiento o clasificación para
organizar grandes colecciones de documentos.</li>
<li>Detección de plagio: se comparan trabajos de estudiantes o artículos
para medir si comparten demasiado contenido (similitud de coseno
alta).</li>
<li>Filtrado de spam y categorización de correos: los correos se
representan con TF‑IDF y se clasifican; también puede medirse la
similitud con ejemplos de spam conocidos.</li>
<li>Sistemas de FAQ simples: se representa cada pregunta frecuente con
TF‑IDF y, ante una nueva consulta, se devuelve la respuesta asociada
a la pregunta más similar según la similitud de coseno.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Autor: Eduardo Alcaraz</p>
<p class="date">Created: 2026-02-27 vie 08:17</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
